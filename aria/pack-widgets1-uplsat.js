/*
 * Copyright 2009-2014 Amadeus s.a.s.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
//***MULTI-PART
//*******************
//LOGICAL-PATH:aria/widgets/environment/WidgetSettingsCfgBeans.js
//*******************
var e=require("../../Aria"),t=require("../../core/JsonTypes"),i=require("../../utils/dragdrop/DragDropBean");module.exports=e.beanDefinitions({$package:"aria.widgets.environment.WidgetSettingsCfgBeans",$namespaces:{json:t,dragDrop:i},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{widgetSettings:{$type:"WidgetSettingsCfg",$default:{}}}},WidgetSettingsCfg:{$type:"json:Object",$properties:{directOnBlurValidation:{$type:"json:Boolean",$default:!0},autoselect:{$type:"json:Boolean",$default:!1},middleAlignment:{$type:"json:Boolean",$default:!0},dialog:{$type:"json:Object",$properties:{movable:{$type:"json:Boolean",$default:!1},movableProxy:{$type:"dragDrop:ProxyCfg"}},$default:{}}}}}});
//*******************
//LOGICAL-PATH:aria/widgets/environment/WidgetSettings.js
//*******************
var e=require("../../Aria");require("./WidgetSettingsCfgBeans");var t=require("../../core/environment/EnvironmentBase");module.exports=e.classDefinition({$classpath:"aria.widgets.environment.WidgetSettings",$extends:t,$singleton:!0,$prototype:{_cfgPackage:"aria.widgets.environment.WidgetSettingsCfgBeans.AppCfg",getWidgetSettings:function(){return this.checkApplicationSettings("widgetSettings")}}});
//*******************
//LOGICAL-PATH:aria/popups/PopupManager.js
//*******************
var e=require("../Aria"),t=require("../DomEvent"),i=require("../utils/Event"),r=require("../utils/Array"),a=require("../utils/Dom"),s=require("../templates/NavigationManager"),n=require("../utils/AriaWindow"),o=require("../core/Browser"),l=require("../core/Timer"),c=require("../utils/Delegate");!function(){var u=null,h=null,p=null;module.exports=e.classDefinition({$classpath:"aria.popups.PopupManager",$events:{modalPopupPresent:"",modalPopupAbsent:"",popupOpen:"",popupClose:""},$onload:function(){u=r,h=a,p=i},$onunload:function(){u=null,h=null,p=null},$singleton:!0,$constructor:function(){this.openedPopups=[],this.modalPopups=0,this.popups=[],this.baseZIndex=2e4,this.currentZIndex=this.baseZIndex,n.$on({unloadWindow:this._reset,scope:this})},$destructor:function(){n.$unregisterListeners(this),this._reset()},$prototype:{_reset:function(){this._closeAllPopups(),this._unregisterAllPopups(),this.disconnectEvents()},_closeAllPopups:function(){for(var e=this.openedPopups.length-1;e>=0;e--){var t=this.openedPopups[e];t.close()}},_isEventInsidePopup:function(e,t){var i=a._getDocumentScroll(),r={top:e.clientY+i.scrollTop,left:e.clientX+i.scrollLeft},s={top:t.computedStyle.top,left:t.computedStyle.left},n={width:t.computedStyle.width,height:t.computedStyle.height};return r.top>=s.top&&r.left>=s.left&&r.top<=s.top+n.height&&r.left<=s.left+n.width},_unregisterAllPopups:function(){for(var e=this.popups.length-1;e>=0;e--){var t=this.popups[e];this.unregisterPopup(t)}},connectEvents:function(){this.disconnectEvents(),n.attachWindow(),this._document=e.$window.document,p.addListener(this._document,"mousedown",{fn:this.onDocumentClick,scope:this},!0),p.addListener(this._document,"touchend",{fn:this.onDocumentClick,scope:this},!0),p.addListener(this._document,"mouseout",{fn:this.onDocumentMouseOut,scope:this},!0),p.addListener(this._document,"mousewheel",{fn:this.onDocumentMouseScroll,scope:this},!0),o.isOldIE?i.addListener(e.$window,"mousewheel",{fn:this._onScroll,scope:this},!0):i.addListener(e.$window,"scroll",{fn:this._onScroll,scope:this},!0)},disconnectEvents:function(){this._document&&(p.removeListener(this._document,"mousedown",{fn:this.onDocumentClick}),p.removeListener(this._document,"touchend",{fn:this.onDocumentClick}),p.removeListener(this._document,"mouseout",{fn:this.onDocumentMouseOut}),p.removeListener(this._document,"mousewheel",{fn:this.onDocumentMouseScroll}),n.detachWindow(),this._document=null,o.isOldIE?i.removeListener(e.$window,"mousewheel",{fn:this._onScroll}):i.removeListener(e.$window,"scroll",{fn:this._onScroll}))},connectModalEvents:function(){var e=s;e.addGlobalKeyMap({key:"ESCAPE",modal:!0,callback:{fn:this._raiseOnEscapeEvent,scope:this}}),e.setModalBehaviour(!0),p.addListener(this._document.body,"focusin",{fn:this.onDocumentFocusIn,scope:this})},disconnectModalEvents:function(){var e=s;e.removeGlobalKeyMap({key:"ESCAPE",modal:!0,callback:{fn:this._raiseOnEscapeEvent,scope:this}}),e.setModalBehaviour(!1),p.removeListener(this._document.body,"focusin",{fn:this.onDocumentFocusIn})},_onScroll:function(e){for(var t=this.openedPopups.length-1;t>=0;t--){var i=this.openedPopups[t];"mousewheel"===e.type?l.addCallback({fn:i._isScrolling,scope:i}):"scroll"===e.type&&i._isScrolling()}},getZIndexForPopup:function(){return this.currentZIndex+=10,this.currentZIndex},hide:function(e){e.close(),e.$dispose()},onDocumentFocusIn:function(e){var i=new t(e),r=i.target,a=r!=this._document.body;if(a)for(var n=this.openedPopups.length-1;n>=0;n--){var o=this.openedPopups[n];if(h.isAncestor(r,o.getDomElement()))break;if(o.modalMaskDomElement){s.focusFirst(o.domElement);break}}i.$dispose()},onDocumentClick:function(e){var i=new t(e),r=i.target;if(0===this.openedPopups.length)return void i.$dispose();for(var a=this.openedPopups[this.openedPopups.length-1],s=!1,n=0,o=a._ignoreClicksOn.length;o>n;n++)if(h.isAncestor(r,a._ignoreClicksOn[n])){s=!0;break}s||h.isAncestor(r,a.getDomElement())||a.closeOnMouseClick(i),i.$dispose()},onDocumentMouseOut:function(e){for(var i=new t(e),r=i.target,a=i.relatedTarget,s=this.openedPopups.length-1;s>=0;s--){var n=this.openedPopups[s];!h.isAncestor(a,n.getDomElement())&&h.isAncestor(r,n.getDomElement())&&n.closeOnMouseOut(i)}i.$dispose()},onDocumentMouseScroll:function(e){for(var i=new t(e),r=i.target,a=this.openedPopups.length-1;a>=0;a--){var s=this.openedPopups[a];if(!h.isAncestor(r,s.getDomElement())){if(o.isFirefox&&h.isAncestor(this._document.elementFromPoint(i.clientX,i.clientY),s.getDomElement()))continue;var n=s.closeOnMouseScroll(i);if(n)break}}i.$dispose()},onPopupOpen:function(e){u.isEmpty(this.openedPopups)&&this.connectEvents(),e.modalMaskDomElement&&(0===this.modalPopups&&(this.connectModalEvents(),this.$raiseEvent("modalPopupPresent")),this.modalPopups+=1),this.openedPopups.push(e),this.$raiseEvent({name:"popupOpen",popup:e})},onPopupClose:function(e){var t=this.openedPopups;u.remove(t,e),e.modalMaskDomElement&&(this.modalPopups-=1,0===this.modalPopups&&(this.disconnectModalEvents(),this.$raiseEvent("modalPopupAbsent"))),u.isEmpty(t)&&this.disconnectEvents(),this.$raiseEvent({name:"popupClose",popup:e});var i=t.length>0?t[t.length-1]:null;setTimeout(function(){var e=c.getFocus();i&&!h.isAncestor(e,i.domElement)&&s.focusFirst(i.domElement)},1)},registerPopup:function(e){u.contains(this.popups,e)||this.popups.push(e)},show:function(e){var t=new aria.popups.Popup;return t.open(e),t},unregisterPopup:function(e){u.contains(this.openedPopups,e)&&u.remove(this.openedPopups,e),u.contains(this.popups,e)&&u.remove(this.popups,e),u.isEmpty(this.openedPopups)&&(this.currentZIndex=this.baseZIndex)},getPopupFromDom:function(e){for(var t=this.popups,i=0,r=t.length;r>i;i++){var a=t[i];if(a.domElement==e)return a}return null},_raiseOnEscapeEvent:function(){var e=this.openedPopups,t=e.length>0?e[e.length-1]:null;t&&t.modalMaskDomElement&&t.$raiseEvent("onEscape")}}})}();
//*******************
//LOGICAL-PATH:aria/popups/Beans.js
//*******************
var e=require("../Aria"),t=require("../core/JsonTypes"),i=require("../utils/css/AnimationsBean");module.exports=e.beanDefinitions({$package:"aria.popups.Beans",$namespaces:{json:t,animation:i},$beans:{PopupConf:{$type:"json:Object",$properties:{section:{$type:"json:ObjectRef",$mandatory:!0},keepSection:{$type:"json:Boolean",$default:!1},modal:{$type:"json:Boolean",$default:!1},maskCssClass:{$type:"json:String"},domReference:{$type:"json:ObjectRef",$default:null},absolutePosition:{$type:"AbsolutePositionConfig",$default:null},center:{$type:"json:Boolean",$default:!1},maximized:{$type:"json:Boolean",$default:!1},closeOnMouseClick:{$type:"json:Boolean",$default:!0},closeOnMouseScroll:{$type:"json:Boolean",$default:!0},closeOnMouseOut:{$type:"json:Boolean",$default:!1},closeOnMouseOutDelay:{$type:"json:Integer",$default:500},preferredPositions:{$type:"json:Array",$contentType:{$type:"PreferredPosition",$mandatory:!0},$default:[{}]},offset:{$type:"OffsetConfig",$default:{}},ignoreClicksOn:{$type:"json:Array",$contentType:{$type:"json:ObjectRef"},$default:[{}]},parentDialog:{$type:"json:ObjectRef",$default:null},preferredWidth:{$type:"json:Integer",$default:-1},animateOut:{$type:"animation:AnimationName",$sample:"slide left"},animateIn:{$type:"animation:AnimationName",$sample:"slide left"}}},PreferredPosition:{$type:"json:Object",$properties:{reference:{$type:"json:String",$default:"bottom right"},popup:{$type:"json:String",$default:"top left"},offset:{$type:"OffsetConfig"}}},OffsetConfig:{$type:"json:Object",$properties:{top:{$type:"json:Integer",$default:0},bottom:{$type:"json:Integer",$default:0},right:{$type:"json:Integer",$default:0},left:{$type:"json:Integer",$default:0}}},AbsolutePositionConfig:{$type:"json:Object",$properties:{top:{$type:"json:Float",$default:null},bottom:{$type:"json:Float",$default:null},right:{$type:"json:Float",$default:null},left:{$type:"json:Float",$default:null}}}}});
//*******************
//LOGICAL-PATH:aria/popups/Popup.js
//*******************
var e=require("../Aria"),t=require("./PopupManager");require("./Beans");var i=require("../utils/Dom"),r=require("../utils/Size"),a=require("../utils/Event"),s=require("../utils/Delegate"),n=require("../utils/css/Animations"),o=require("../utils/Array"),l=require("../core/Browser"),c=require("../core/Timer"),u=require("../core/JsonValidator");module.exports=e.classDefinition({$classpath:"aria.popups.Popup",$events:{onBeforeClose:"",onMouseOutTimerStart:"",onMouseClickClose:"",onAfterClose:"",onBeforeOpen:"",onAfterOpen:"",onPositioned:"",onEscape:""},$statics:{ANCHOR_BOTTOM:"bottom",ANCHOR_TOP:"top",ANCHOR_LEFT:"left",ANCHOR_RIGHT:"right",DEBUG_OVERWRITE_POSITION:"Absolute %1 position %2 is used to overwrite calculated relative position %3!"},$constructor:function(){this.preferredPositions=[],this.modalMaskDomElement=null,this._delegateId=s.add({fn:this._handleDelegate,scope:this}),this.domElement=null,this.isOpen=!1,this.reference=null,this.referencePosition=null,this.referenceSize=null,this.section=null,this.sectionSize=null,this.ANCHOR_KEYS=[this.ANCHOR_BOTTOM,this.ANCHOR_TOP,this.ANCHOR_LEFT,this.ANCHOR_RIGHT],this._ignoreClicksOn=null,this._rootElementOverflow=-1,this._rootElement=i.getDocumentScrollElement(),this._animator=null,this._maskAnimator=null,this._document=e.$window.document,t.registerPopup(this)},$destructor:function(){this.close(),this.reference=null,this._delegateId&&s.remove(this._delegateId),this.section&&(this.section.$unregisterListeners(this),this.conf.keepSection?this.section.removeContent():this.section.$dispose(),this.section=null),this.modalMaskDomElement&&(i.removeElement(this.modalMaskDomElement),this.modalMaskDomElement=null),this.domElement&&(i.removeElement(this.domElement),this.domElement=null),this.conf.domReference=null,this._parentDialog=null,this._ignoreClicksOn=null,this._document=null,this.$unregisterListeners(),this._animator&&(this._animator.$dispose(),this._animator=null),this._maskAnimator&&(this._maskAnimator.$dispose(),this._maskAnimator=null),t.unregisterPopup(this)},$prototype:{_applyConfig:function(e){this.conf=e,u.normalize({json:e,beanName:"aria.popups.Beans.PopupConf"}),this.modalMaskDomElement&&(i.removeElement(this.modalMaskDomElement),this.modalMaskDomElement=null),e.modal&&(this.modalMaskDomElement=this._createMaskDomElement(e.maskCssClass)),null!=this.domElement&&i.removeElement(this.domElement),this.domElement=this._createDomElement(),this.setPreferredPositions(e.preferredPositions),this.setSection(e.section),e.center?this.setPositionAsReference(this._getPosition(this._getFreeSize())):!e.absolutePosition||e.domReference?this.setReference(e.domReference):this.setPositionAsReference(e.absolutePosition),this._ignoreClicksOn=e.ignoreClicksOn,this._parentDialog=e.parentDialog},_attachMouseOverListener:function(){this._detachMouseOverListener(),a.addListener(this.getDomElement(),"mouseover",{fn:this._clearMouseOutTimer,scope:this})},_handleDelegate:function(e){"contentchange"==e.type&&this.refresh()},_createDomElement:function(){var e=this._document,t=e.createElement("div");t.style.cssText="position:absolute;top:-15000px;left:-15000px;",e.body.appendChild(t),t.innerHTML="<div "+s.getMarkup(this._delegateId)+" style='position:absolute;top:-15000px;left:-15000px;visibility:hidden;display:block;'></div>";var i=t.firstChild;return e.body.removeChild(t),e.body.appendChild(i),i},_createMaskDomElement:function(e){var t=this._document,i=t.createElement("div");return i.className=e||"xModalMask-default",i.style.cssText="position:absolute;top:-15000px;left:-15000px;visibility:hidden;display:block;",t.body.appendChild(i)},_clearMouseOutTimer:function(){c.cancelCallback(this._mouseOutTimer)},_defaultBeforeOpenCallback:function(){return!0},_defaultBeforeCloseCallback:function(){return!0},_detachMouseOverListener:function(){a.removeListener(this.getDomElement(),"mouseover",{fn:this._clearMouseOutTimer})},_getComputedStyle:function(){var e,i;i=this.isOpen&&this.computedStyle.zIndex?this.computedStyle.zIndex:t.getZIndexForPopup(this),e=this.conf.preferredWidth>0?{width:this.conf.preferredWidth,height:0}:this._getFreeSize();var r=this._getPosition(e),a={top:r.top,bottom:r.bottom,right:r.right,left:r.left,height:e.height,width:e.width,zIndex:i};return a},_getFreeSize:function(){var e=this.domElement,t=l;e.style.cssText="position:absolute;top:-15000px;left:-15000px;visibility:hidden;display:block;";var i=t.isIE9||t.isIE10?e.offsetWidth+1:e.offsetWidth;return{width:i,height:e.offsetHeight}},_getPosition:function(e){var t,r;if(this.conf.maximized){var a=this.conf.offset;t={top:-a.top,left:-a.left}}else if(this.conf.center){var a=this.conf.offset,s={width:e.width+a.left+a.right,height:e.height+a.top+a.bottom};t=i.centerInViewport(s,this.reference),t=i.fitInViewport(t,s,this.reference)}else{var n,o=0;do n=this.preferredPositions[o],t=this._getPositionForAnchor(n,e),r=i.isInViewport(t,e),o++;while(!r&&this.preferredPositions[o]);var l={name:"onPositioned"};r?l.position=this.preferredPositions[o-1]:(t=this._getPositionForAnchor(this.preferredPositions[0],e),t=i.fitInViewport(t,e)),this.$raiseEvent(l)}return t},_getPositionForAnchor:function(e,t){var r=e.reference,a=e.popup,s=this.referencePosition.top,n=this.referencePosition.left,o=this.referencePosition.bottom,l=this.referencePosition.right;null!=s&&-1!=r.indexOf(this.ANCHOR_BOTTOM)&&(s+=this.referenceSize.height),null!=n&&-1!=r.indexOf(this.ANCHOR_RIGHT)&&(n+=this.referenceSize.width);var c=e.offset||this.conf.offset;null!=s&&-1!=a.indexOf(this.ANCHOR_BOTTOM)?(s-=t.height,s-=c.bottom):null!=s&&-1!=a.indexOf(this.ANCHOR_TOP)&&(s+=c.top),null!=n&&-1!=a.indexOf(this.ANCHOR_RIGHT)?(n-=t.width,n-=c.right):null!=n&&-1!=a.indexOf(this.ANCHOR_LEFT)&&(n+=c.left);var u=i._getDocumentScroll();null!=n&&(n+=u.scrollLeft),null!=s&&(s+=u.scrollTop);var h=this.conf.absolutePosition;this.conf.domReference&&h&&(null!=h.top&&(this.$logDebug(this.DEBUG_OVERWRITE_POSITION,[this.ANCHOR_TOP,h.top,s]),s=h.top),null!=h.bottom&&(this.$logDebug(this.DEBUG_OVERWRITE_POSITION,[this.ANCHOR_BOTTOM,h.bottom,o]),o=h.bottom),null!=h.left&&(this.$logDebug(this.DEBUG_OVERWRITE_POSITION,[this.ANCHOR_LEFT,h.left,n]),n=h.left),null!=h.right&&(this.$logDebug(this.DEBUG_OVERWRITE_POSITION,[this.ANCHOR_RIGHT,h.right,l]),l=h.right));var p={top:s,left:n,bottom:o,right:l};return p},_hide:function(){if(this.domElement&&(this.conf.animateOut?this._startAnimation(this.conf.animateOut,{from:this.domElement,type:1},!0):this.domElement.style.cssText="position:absolute;display:none;overflow:auto;",this.modalMaskDomElement&&(this.conf.animateIn?this._getMaskAnimator().start("fade reverse",{from:this.modalMaskDomElement,type:1}):this.modalMaskDomElement.style.cssText="position:absolute;display:none",-1!=this._rootElementOverflow))){if(l.isFirefox){var e=i._getDocumentScroll();this._rootElement.style.overflow=this._rootElementOverflow,this._rootElement.scrollTop=e.scrollTop,this._rootElement.scrollLeft=e.scrollLeft}else this._rootElement.style.overflow=this._rootElementOverflow;this._rootElementOverflow=-1}},_isValidAnchor:function(e){var t=e.split(" ");if(t.length>2)return!1;for(var i=0,r=t.length;r>i;i++){var a=t[i];if(!o.contains(this.ANCHOR_KEYS,a))return!1}return!0},_isValidPosition:function(e){return this._isValidAnchor(e.reference)&&this._isValidAnchor(e.popup)},_onMouseOutTimeout:function(){this._detachMouseOverListener(),this.close()},_show:function(){if(this.modalMaskDomElement){if(-1==this._rootElementOverflow)if(this._rootElementOverflow=this._rootElement.style.overflow,l.isFirefox){var e=i._getDocumentScroll();this._rootElement.style.overflow="hidden",this._rootElement.scrollTop=e.scrollTop,this._rootElement.scrollLeft=e.scrollLeft}else this._rootElement.style.overflow="hidden";var t=i._getViewportSize(),r=this._rootElement.scrollWidth,a=this._rootElement.scrollHeight;a=Math.max(t.height,a),r=Math.max(t.width,r),this.computedStyle=this._getComputedStyle(),this.modalMaskDomElement.style.cssText=["left:0px;top:0px;","width:",r,"px;","height:",a,"px;","z-index:",this.computedStyle.zIndex,";","position:absolute;display:block;"].join(""),this.conf.animateIn&&this._getMaskAnimator().start("fade",{to:this.modalMaskDomElement,type:1})}else this.computedStyle=this._getComputedStyle();var s=[];null!=this.computedStyle.left&&(s=s.concat("left:",this.computedStyle.left,"px;")),null!=this.computedStyle.right&&(s=s.concat("right:",this.computedStyle.right,"px;")),null!=this.computedStyle.top&&(s=s.concat("top:",this.computedStyle.top,"px;")),null!=this.computedStyle.bottom&&(s=s.concat("bottom:",this.computedStyle.bottom,"px;")),this.domElement.style.cssText=s.concat(["z-index:",this.computedStyle.zIndex,";","position:absolute;display:inline-block;"]).join(""),this.conf.animateIn&&this._startAnimation(this.conf.animateIn,{to:this.domElement,type:1},!1),l.isIE7&&!this.isOpen&&this._document.body.appendChild(this.domElement)},refresh:function(){this.isOpen&&this._show()},moveTo:function(e){e&&("center"in e&&(this.conf.center=e.center),"absolutePosition"in e&&this.setPositionAsReference(e.absolutePosition)),this.refresh(),this.refreshProcessingIndicators()},cancelMouseOutTimer:function(){this._mouseOutTimer&&this._clearMouseOutTimer()},close:function(e){if(this.isOpen){var i={name:"onBeforeClose",cancelClose:!1,domEvent:e};this.$raiseEvent(i),i.cancelClose||(this._hide(),this.isOpen=!1,t.onPopupClose(this),this.conf.animateOut?this._getAnimator().$onOnce({animationend:this._onAfterClose,scope:this}):this._onAfterClose())}},_onAfterOpen:function(){this.$raiseEvent("onAfterOpen")},_onAfterClose:function(){this.$raiseEvent("onAfterClose")},closeOnMouseClick:function(e){if(this.conf.closeOnMouseClick){var t={name:"onMouseClickClose",cancelClose:!1,domEvent:e};if(this.$raiseEvent(t),l.isIE){var i=this;setTimeout(function(){i.close(e)},1)}else this.close(e);return!0}},closeOnMouseOut:function(e){this.conf.closeOnMouseOut&&(this.conf.closeOnMouseOutDelay?(this.cancelMouseOutTimer(),this._mouseOutTimer=c.addCallback({fn:this._onMouseOutTimeout,scope:this,delay:this.conf.closeOnMouseOutDelay}),this._attachMouseOverListener()):this.close(e))},closeOnMouseScroll:function(e){return this.conf.closeOnMouseScroll?(this.close(e),!0):void 0},_isScrolling:function(){var e=this.reference;if(e){var t=i.getGeometry(e),r=t&&i.isInViewport({left:t.x,top:t.y},t,this.domElement);r?(this.referencePosition={left:t.x,top:t.y},this.referenceSize={width:t.width,height:t.height},this.refresh(),this.domElement&&"hidden"===this.domElement.style.visibility&&(this.domElement.style.visibility="visible")):this.domElement.style.visibility="hidden"}},getDomElement:function(){return this.domElement},open:function(e){this.isOpen||(this._applyConfig(e),this.$raiseEvent("onBeforeOpen"),this._show(),this.isOpen=!0,t.onPopupOpen(this),this.refreshProcessingIndicators(),this.conf.animateIn?this._getAnimator().$onOnce({animationend:this._onAfterOpen,scope:this}):this._onAfterOpen())},setPreferredPositions:function(e){this.preferredPositions=[];for(var t=0,i=e.length;i>t;t++){var r=e[t];this._isValidPosition(r)&&(this.preferredPositions[this.preferredPositions.length]=r)}},setPositionAsReference:function(e){var t={height:0,width:0};e={top:e.top,bottom:e.bottom,left:e.left,right:e.right},this.reference=null,this.referencePosition=e,this.referenceSize=t},setReference:function(e){var t=r.getSize(e),a=i;a.scrollIntoView(e);var s=a.calculatePosition(e);this.reference=e,this.referencePosition=s,this.referenceSize=t},setSection:function(e){i.replaceHTML(this.domElement,e.html),e.initWidgets(),this.section=e},refreshProcessingIndicators:function(){this.section&&this.section.refreshProcessingIndicator(!0)},_getAnimator:function(){return this._animator||(this._animator=new n),this._animator},_getMaskAnimator:function(){return this._maskAnimator||(this._maskAnimator=new n),this._maskAnimator},_startAnimation:function(e,t,i){var r=e.split(" "),e=r[0];t.reverse=!1,"right"===r[1]||"out"===r[1]||"reverse"===r[1]?t.reverse=!0:("up"===r[1]||"down"===r[1])&&(e+=r[1]),i&&(t.reverse=!t.reverse),this._getAnimator().start(e,t)}}});
//*******************
//LOGICAL-PATH:aria/widgets/AriaSkinNormalization.js
//*******************
var e=require("../Aria"),t=require("../core/JsonValidator");require("./AriaSkinBeans");var i=require("../utils/InheritanceNormalization"),r=require("../utils/FunctionWriter"),a=require("../utils/Function"),s=require("../core/Log");module.exports=e.classDefinition({$classpath:"aria.widgets.AriaSkinNormalization",$singleton:!0,$constructor:function(){this._widgetNormalizers={},this._frameNormalizers={},this._createNormalizerObject=function(){};var e={normFrame:a.bind(this._normFrame,this),checkFrameState:a.bind(this._checkFrameState,this)};this._createNormalizerObject.prototype=e},$destructor:function(){this._widgetNormalizers=null,this._createNormalizerObject&&(this._createNormalizerObject.prototype=null),this._createNormalizerObject=null},$statics:{MISSING_STD_SKINCLASS:"There is no skin configuration for skin class std of widget %1. The widget will probably not be displayed correctly.",INVALID_FRAME_TYPE:"Frame type %3 is not valid in widget %1, skin class %2.",INVALID_SKINNABLE_CLASS:"Skinnable class %1 is not valid",FRAME_NORMALIZATION_ERROR:"Error while normalizing the frame part of widget %1, skin class %2:\n %3",FRAME_STATE_NORMALIZATION_ERROR:"Error while normalizing the frame part of widget %1, skin class %2, state %3:\n %4",WIDGET_NORMALIZATION_ERROR:"Error while normalizing widget %1:\n %2",GENERAL_NORMALIZATION_ERROR:"Error while normalizing general skin properties:\n %1"},$prototype:{skinnableClasses:{Button:1,Calendar:1,List:1,Link:1,Gauge:1,RadioButton:1,CheckBox:1,DatePicker:1,SelectBox:1,Textarea:1,ErrorList:1,Fieldset:1,MultiSelect:1,Select:1,SortIndicator:1,Splitter:1,Icon:1,Div:1,Dialog:1,TextInput:1,AutoComplete:1,TabPanel:1,Tab:1,MultiAutoComplete:1},_normFrame:function(t,i,r,a){null==r.frame&&(r.frame={});var s=r.frame;a=a||{};var n,o=a.frame||{},l="Simple";if(r.simpleHTML)n="SimpleHTML";else for(var c=[s.frameType,o.frameType,l],u=0,h=c.length;h>u;u++)if(null!=c[u]){n=c[u];break}var p=this._getFrameNormalizers(t,i,n);if(null==p&&(n=l,p=this._getFrameNormalizers(t,i,n)),s.frameType=n,p.normFrameSkinClass(r,a),e.debug){var d=this._check(s,"aria.widgets.AriaSkinBeans."+n+"FrameCfg");d.result||this.$logWarn(this.FRAME_NORMALIZATION_ERROR,[t,i,d.message.replace(/\n/g,"\n ")])}return p.normFrameState},_checkFrameState:function(e,t,i,r,a){var s=this._check(r,a);s.result||this.$logWarn(this.FRAME_STATE_NORMALIZATION_ERROR,[e,t,i,s.message.replace(/\n/g,"\n ")])},_getFrameNormalizers:function(e,i,r){var a=this._frameNormalizers[r];if(null==a){var s=t.getBean("aria.widgets.AriaSkinBeans."+r+"FrameCfg");if(null==s)return this.$logError(this.INVALID_FRAME_TYPE,[e,i,r]),null;a={normFrameSkinClass:this._createFrameNormalizer(r,s),normFrameState:this._createFrameStateNormalizer(r,"aria.widgets.AriaSkinBeans."+r+"FrameStateCfg")},this._frameNormalizers[r]=a}return a},normalizeSkin:function(e){if(!e["aria:skinNormalized"]){for(var t in e)e.hasOwnProperty(t)&&"general"!=t&&"widgets"!=t&&(e[t]=this.normalizeWidget(t,e[t]));return e.general=this.normalizeGeneral(e.general,"PageGeneralCfg"),e.widgets&&(e.widgets=this.normalizeGeneral(e.widgets,"WidgetGeneralCfg")),e["aria:skinNormalized"]=!0,e}},_createSkinClassNormalizer:function(e,t){if("Icon"==e)return function(e,i){t.$fastNorm(i)};var a=null!=t.$properties.frame,s=new r(["skinClassName","skin","std"]);if(i.writeInheritanceNormalization({writer:s,beanDef:t,varToNormalize:"skin",parentVars:["std"],excludes:{states:!0,frame:!0}}),a)var n=s.createTempVariable("this.normFrame(this.widgetName,skinClassName,skin,std)");var o=t.$properties.states;if(o){o=o.$properties,s.writeEnsureObjectExists("skin.states");var l=s.createTempVariable("skin.states"),c=s.createTempVariable("std.states||{}"),u=s.out;for(var h in o)if(o.hasOwnProperty(h)&&"normal"!=h){var p=s.getDotProperty(h);s.writeEnsureObjectExists(l+p),u.push("this.normState(",l,p,",",c,p,",",l,".normal,",c,".normal);"),a&&u.push(n,".call(this,skinClassName,",s.stringify(h),",",l,p,",",c,p,",",l,".normal, ",c,".normal);")}s.writeEnsureObjectExists(l+".normal"),u.push("this.normState(",l,".normal, ",c,".normal);"),a&&u.push(n,'.call(this,skinClassName,"normal",',l,".normal,",c,".normal);")}var d=s.createFunction();return s.$dispose(),d},_createStateNormalizer:function(e,t){var a=t.$properties.states;if(null==a)return null;var s=new r(["state","stdState","normal","stdNormal"]);i.writeInheritanceNormalization({writer:s,beanDef:a.$properties.normal,varToNormalize:"state",parentVars:["stdState","normal","stdNormal"],excludes:{frame:!0}});var n=s.createFunction();return s.$dispose(),n},_createFrameStateNormalizer:function(a,s){var n=t.getBean(s),o=new r(["skinClassName","stateName","state","stdState","normal","stdNormal"]);o.writeEnsureObjectExists("state.frame"),o.writeEnsureObjectExists("stdState"),o.writeEnsureObjectExists("normal"),o.writeEnsureObjectExists("stdNormal"),i.writeInheritanceNormalization({writer:o,beanDef:n,varToNormalize:"state.frame",parentVars:["state","stdState.frame","stdState","normal.frame","normal","stdNormal.frame","stdNormal"]});var l=n.$properties;for(var c in l)l.hasOwnProperty(c)&&o.out.push("delete state",o.getDotProperty(c),";");e.debug&&o.out.push("this.checkFrameState(this.widgetName,skinClassName,stateName,state.frame,",o.stringify(s),");");var u=o.createFunction();return o.$dispose(),u},_createFrameNormalizer:function(e,t){var a=new r(["skin","std"]),s=a.out;i.writeInheritanceNormalization({writer:a,beanDef:t,varToNormalize:"skin.frame",parentVars:["skin","std.frame","std"]});var n=t.$properties;for(var o in n)n.hasOwnProperty(o)&&s.push("delete skin",a.getDotProperty(o),";");var l=a.createFunction();return a.$dispose(),l},_getWidgetNormalizer:function(e){var i=this._widgetNormalizers[e];if(!i){var r=t.getBean("aria.widgets.AriaSkinBeans."+e+"Cfg");i=new this._createNormalizerObject,i.widgetName=e,i.normSkinClass=this._createSkinClassNormalizer(e,r),i.normState=this._createStateNormalizer(e,r),this._widgetNormalizers[e]=i}return i},normalizeWidget:function(e,t){if(!this.skinnableClasses.hasOwnProperty(e))return this.$logError(this.INVALID_SKINNABLE_CLASS,[e]),null;null==t&&(t={});var i=this._getWidgetNormalizer(e),r="aria.widgets.AriaSkinBeans."+e+"Cfg",a=t.std;null==a&&(this.$logWarn(this.MISSING_STD_SKINCLASS,[e]),a={},t.std=a);var n,o=!0,l=s,c=[];for(var u in t)if(t.hasOwnProperty(u)&&"std"!=u){var h=t[u];i.normSkinClass(u,h,a),n=this._check(h,r),n.result||(o=!1),l&&n.message&&c.push(l.prepareLoggedMessage("In skin class %1:\n %2",[u,n.message.replace(/\n/g,"\n ")]))}return i.normSkinClass("std",a,{}),n=this._check(a,r),n.result||(o=!1),l&&n.message&&c.push(l.prepareLoggedMessage("In skin class %1:\n %2",["std",n.message.replace(/\n/g,"\n ")])),o||this.$logWarn(this.WIDGET_NORMALIZATION_ERROR,[e,c.join("\n").replace(/\n/g,"\n ")]),t["aria:skinNormalized"]=!0,t},_processJsonValidatorError:function(e){var t,i=e.errors,r=s;if(i&&i.length>0&&r){for(var a,n=[],o=0,l=i.length;l>o;o+=1)a=i[o],n[o]=r.prepareLoggedMessage(a.msgId,a.msgArgs);t=n.join("\n")}return{result:!1,message:t}},_check:function(e,i){try{return{result:t.check(e,i,!0),message:null}}catch(r){return this._processJsonValidatorError(r)}},_normalize:function(e){try{return{result:t.normalize(e,!0),message:null}}catch(i){return this._processJsonValidatorError(i)}},normalizeGeneral:function(e,t){e||(e={});var i={json:e,beanName:"aria.widgets.AriaSkinBeans."+t},r=this._normalize(i);return r.result||this.$logWarn(this.GENERAL_NORMALIZATION_ERROR,[r.message.replace(/\n/g,"\n ")]),e["aria:skinNormalized"]=!0,i.json}}});
//*******************
//LOGICAL-PATH:aria/widgets/AriaSkinInterface.js
//*******************
var e=require("../Aria"),t=require("../core/JsonValidator");require("./AriaSkinBeans");var i=require("./AriaSkinNormalization"),r=require("../core/DownloadMgr"),a=require("../utils/CSSLoader"),s=require("../utils/String");module.exports=e.classDefinition({$classpath:"aria.widgets.AriaSkinInterface",$singleton:!0,$onload:function(){if(aria.widgets.AriaSkin){var e=aria.widgets.AriaSkinInterface.getGeneral();if(e.externalCSS.length>0){for(var t=0;t<e.externalCSS.length;t++)e.externalCSS[t]=e.imagesRoot+e.externalCSS[t];a.add(e.externalCSS)}}},$statics:{PRELOAD_FROM_HEAD:"You should place your call to preloadSkinImages() in <BODY> of your HTML file, not in <HEAD>.",WIDGET_SKIN_CLASS_OBJECT_NOT_FOUND:"There is no skin configuration for skin class %1 of widget %2. Skin class std will be used instead. The widget will probably not be displayed correctly."},$prototype:{skinImageProperties:["spriteURL","handleSpriteURLh","proxySpriteURLh","handleSpriteURLv","proxySpriteURLv","spriteUrl","frameIcon","spriteURLv","spriteURLh","closeSpriteURL","closeHighlightSpriteURL"],normalizeSkin:function(){i.normalizeSkin(aria.widgets.AriaSkin.skinObject)},getWidgetStates:function(e){var i=t.getBean("aria.widgets.AriaSkinBeans."+e+"Cfg");return i&&i.$properties.states?i.$properties.states.$properties:null},getSkinObject:function(e,t,i){var r=this.getSkinClasses(e);if(r){null==t&&(t="std");var a=r[t];return a?a:i?null:(this.$logWarn(this.WIDGET_SKIN_CLASS_OBJECT_NOT_FOUND,[t,e]),r.std)}},getSkinClasses:function(e){var t=aria.widgets.AriaSkin.skinObject[e];if(!t||!t["aria:skinNormalized"]){var r=i.normalizeWidget(e,t);r&&r!=t&&(t=r,aria.widgets.AriaSkin.skinObject[e]=r)}return t},getGeneral:function(){return this._normalizeAndGetGeneral("general","PageGeneralCfg")},getWidgetGeneral:function(){return this._normalizeAndGetGeneral("widgets","WidgetGeneralCfg")},_normalizeAndGetGeneral:function(e,t){var r=aria.widgets.AriaSkin.skinObject[e];if(!r||!r["aria:skinNormalized"]){var a=i.normalizeGeneral(r,t);r!=a&&(aria.widgets.AriaSkin.skinObject[e]=r=a)}return r},getIcon:function(e,t){var i,r=this.getSkinObject("Icon",e,!0),a=0,s=0;if(r&&void 0!==(i=r.content[t])){if(r.biDimensional){var n=i.split("_");a=(r.iconWidth+r.spriteSpacing)*n[0],s=(r.iconHeight+r.spriteSpacing)*n[1]}else"x"===r.direction?a=(r.iconWidth+r.spriteSpacing)*i:"y"===r.direction&&(s=(r.iconHeight+r.spriteSpacing)*i);return{iconLeft:a,iconTop:s,cssClass:"xICN"+e,spriteURL:r.spriteURL,width:r.iconWidth,height:r.iconHeight,borderLeft:r.borderLeft,borderRight:r.borderRight,borderTop:r.borderTop,borderBottom:r.borderBottom}}return!1},getSkinName:function(){return aria.widgets.AriaSkin.skinName||"atdefskin"},_extractSkinImages:function(e,t){if(e)for(var i=this.skinImageProperties,r=0,a=i.length;a>r;r++){var s=i[r],n=e[s];n&&(t[n]=1)}},preloadSkinImages:function(t){var i={};if(t||(t=aria.widgets.AriaSkin.skinObject),t)for(var r in t){var a=t[r];if(a&&t.hasOwnProperty(r)&&"general"!=r)for(var s in a){var n=a[s];if(n&&a.hasOwnProperty(s)){this._extractSkinImages(n,i),this._extractSkinImages(n.frame,i);var o=this.getWidgetStates(r),l=n.states;if(l&&o)for(var c in l)if(o.hasOwnProperty(c)){var u=l[c];u&&(this._extractSkinImages(u,i),this._extractSkinImages(u.frame,i))}}}}var h=[];for(var p in i)i.hasOwnProperty(p)&&h.push('<span style="background-image:url(',this.getSkinImageFullUrl(p),');">&nbsp;</span>');var d=e.$window.document,m=d.createElement("div");return d.body?(d.body.appendChild(m),m.style.position="absolute",m.style.left="-1000000px",m.style.top="-1000000px",m.innerHTML=h.join("")):this.$logError(this.PRELOAD_FROM_HEAD),m},getSkinImageFullUrl:function(e){return r.resolveURL(this.getGeneral().imagesRoot+e,!0)},backgroundMacro:function(e,t,i){var r="",a="";if(t){var n=/^(data|https?):/i.test(t)?t:this.getSkinImageFullUrl(t);r="url("+n+") ",a=s.endsWith(t,".png")?n.substring(0,n.length-4)+".gif":n}var o=["background: ",e," ",r,i,";"];return a&&o.push("_background-image: url(",a,") !important;"),o.join("")},checkSkinClassExists:function(e,t){var i=this.getSkinClasses(e);return i?!!i[t]:!1}}});
//*******************
//LOGICAL-PATH:aria/widgets/frames/CfgBeans.js
//*******************
var e=require("../../Aria"),t=require("../../core/JsonTypes"),i=require("../../templates/CfgBeans");module.exports=e.beanDefinitions({$package:"aria.widgets.frames.CfgBeans",$namespaces:{json:t,templates:i},$beans:{FrameCfg:{$type:"json:Object",$properties:{id:{$type:"json:String"},skinnableClass:{$type:"json:String",$sample:"Button"},sclass:{$type:"json:String",$sample:"std"},skinObject:{$type:"json:ObjectRef"},state:{$type:"json:String"},stateObject:{$type:"json:ObjectRef"},width:{$type:"json:Integer",$default:-1},height:{$type:"json:Integer",$default:-1},cssClass:{$type:"json:String",$default:""},scrollBarX:{$type:"json:Boolean",$default:!0},scrollBarY:{$type:"json:Boolean",$default:!0},printOptions:{$type:"templates:PrintOptions"},block:{$type:"json:Boolean"},tooltipLabels:{$type:"json:Array",$contentType:{$type:"json:String"},$default:[]},hideIconNames:{$type:"json:Array",$contentType:{$type:"json:String"},$default:[]},iconsLeft:{$type:"json:Array",$contentType:{$type:"json:String"},$default:[]},iconsRight:{$type:"json:Array",$contentType:{$type:"json:String"},$default:[]},inlineBlock:{$type:"json:Boolean"},fullWidth:{$type:"json:Boolean",$default:!1}}}}});
//*******************
//LOGICAL-PATH:aria/widgets/frames/Frame.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Dom");module.exports=e.classDefinition({$classpath:"aria.widgets.frames.Frame",$constructor:function(e){e.stateObject=e.skinObject.states[e.state].frame,this._cssPrefix=["x",e.skinnableClass,"_",e.sclass,"_",e.state,"_"].join(""),this._cfg=e,this.innerWidth=e.fullWidth?-1:e.width,this.innerHeight=e.height,this._domElt=null,this._childRootElt=null,this.domElementNbr=1},$destructor:function(){this._domElt=null,this._childRootElt=null},$statics:{FRAME_INVALID_STATE:"Invalid state (%1) for the frame in this skinnable class (%2)."},$prototype:{writeMarkupBegin:function(){},writeMarkupEnd:function(){},linkToDom:function(e){this.$assert(57,null==this._domElt),this._domElt=e},getChild:function(e){return t.getDomElementChild(this._childRootElt,e)},checkState:function(e){return!!this._cfg.skinObject.states[e]},changeState:function(e){var t=this._cfg,i=t.skinObject.states[e];return null==i?void this.$logError(this.FRAME_INVALID_STATE,[e,t.skinnableClass]):(t.state=e,t.stateObject=i.frame,void(this._cssPrefix=["x",t.skinnableClass,"_",t.sclass,"_",t.state,"_"].join("")))},getSkinObject:function(){return this._cfg.skinObject},getStateName:function(){return this._cfg.state},getStateObject:function(){return this._cfg.stateObject},resize:function(e,t){var i=this._cfg;i.width=e,i.height=t},_appendInnerWidthInfo:function(e){this.innerWidth>-1?(e.width=this.innerWidth+"px",null!=e.style&&(e.style+="width:"+e.width+";")):e.width="",(this.innerWidth>-1||this._cfg.fullWidth)&&(e.className+=this._cfg.scrollBarX?" xOverflowXAuto":" xOverflowXHidden",("adaptX"==this._cfg.printOptions||"adaptXY"==this._cfg.printOptions)&&(e.className+=" xPrintAdaptX"))},_appendInnerHeightInfo:function(e){if(this.innerHeight>-1){var t=e.height=this.innerHeight+"px";null!=e.style&&(e.style+="height:"+t+";"),e.className+=this._cfg.scrollBarY?" xOverflowYAuto":" xOverflowYHidden",("adaptY"==this._cfg.printOptions||"adaptXY"==this._cfg.printOptions)&&(e.className+=" xPrintAdaptY")}else e.height=""}}});
//*******************
//LOGICAL-PATH:aria/widgets/frames/SimpleFrame.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Dom"),i=require("../../utils/Type"),r=require("./Frame");module.exports=e.classDefinition({$classpath:"aria.widgets.frames.SimpleFrame",$extends:r,$constructor:function(e){this.$Frame.constructor.call(this,e);var t=this._cfg.stateObject;this._verticalAlignApplied=t.verticalAlign&&t.innerHeight,this._computeSize()},$prototype:{_computeSize:function(){var e=this._cfg,t=e.stateObject,i=t.borderSize>0?t.borderSize:0;if(!e.fullWidth&&e.width>-1){var r=e.width-t.paddingLeft-t.paddingRight-t.marginLeft-t.marginRight;this._hasBorder(t.skipLeftBorder,e.iconsLeft)&&(r-=t.borderLeft>=0?t.borderLeft:i),this._hasBorder(t.skipRightBorder,e.iconsRight)&&(r-=t.borderRight>=0?t.borderRight:i),this.innerWidth=r>0?r:0}else this.innerWidth=-1;if(e.height>-1){var a=(t.frameHeight||e.height)-t.paddingTop-t.paddingBottom-t.marginTop-t.marginBottom;a-=t.borderTop>=0?t.borderTop:i,a-=t.borderBottom>=0?t.borderBottom:i,this.innerHeight=a>0?a:0}else this.innerHeight=-1},writeMarkupBegin:function(e){var t=this._cfg,r=t.stateObject,a={style:t.block?"display:block;":"",className:"xSimpleFrame "+this._cssPrefix+"frame "+t.cssClass},s=this._verticalAlignApplied;if(s&&(a.style+="line-height: "+this.innerHeight+"px;"),this._appendInnerWidthInfo(a),this._appendInnerHeightInfo(a),this._hasBorder(r.skipLeftBorder,t.iconsLeft)||(a.style=a.style+"border-left:0px;border-top-left-radius:0px;border-bottom-left-radius:0px;"),this._hasBorder(r.skipRightBorder,t.iconsRight)||(a.style=a.style+"border-right:0px;border-top-right-radius:0px;border-bottom-right-radius:0px;"),e.write("<span "+(a.style?'style="'+a.style+'"':"")+'class="'+a.className+'">'),s){var n=r.innerHeight;i.isNumber(n)&&(n+="px"),e.write(['<span style="display: inline-block;height:',n,";line-height:",n,";vertical-align:",r.verticalAlign,'">'].join(""))}},writeMarkupEnd:function(e){this._verticalAlignApplied&&e.write("</span>"),e.write("</span>")},linkToDom:function(e){this.$Frame.linkToDom.call(this,e),this._childRootElt=this._verticalAlignApplied?t.getDomElementChild(e,0):e},changeState:function(e){this.$Frame.changeState.call(this,e),this._computeSize();var t=this._cfg,i=t.stateObject,r=this._domElt,a={className:"xSimpleFrame "+this._cssPrefix+"frame "+this._cfg.cssClass};this._appendInnerWidthInfo(a),this._appendInnerHeightInfo(a),r.style.width=a.width,r.style.height=a.height,this._verticalAlignApplied&&(r.style.lineHeight=a.height,r.style.verticalAlign=i.verticalAlign),r.className=a.className},resize:function(e,t){this.$Frame.resize.call(this,e,t),this.changeState(this.getStateName())},_hasBorder:function(e,t){var i=e===!1;return"dependsOnIcon"==e&&(i=0===t.length),i}}});
//*******************
//LOGICAL-PATH:aria/widgets/frames/TableFrame.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Dom"),i=require("./Frame"),r=require("../../core/Browser");module.exports=e.classDefinition({$classpath:"aria.widgets.frames.TableFrame",$extends:i,$constructor:function(e){this.$Frame.constructor.call(this,e),this._baseId=e.id,this._computeSize(),this._tds=null,this._inlineBlock=e.inlineBlock},$statics:{},$destructor:function(){var e=this._tds;if(e){for(var t=0,i=e.length;i>t;t++)e[t].element=null;this._tds=null}this.$Frame.$destructor.call(this)},$prototype:{_computeSize:function(){var e=this._cfg,t=e.stateObject;if(e.width>-1){var i=e.width-t.sprWidth-t.marginLeft-t.marginRight;this.innerWidth=i>0?i:0}else this.innerWidth=-1;if(e.height>-1){var r=e.height-t.sprHeight-t.marginTop-t.marginBottom;this.innerHeight=r>0?r:0}else this.innerHeight=-1},writeMarkupBegin:function(t){var i=this._cfg,a=this._cssPrefix,s=i.block!==!0?" ":'class="xBlock"',n={style:"",className:"xFrameContent "+a+"c "+i.cssClass};this._appendInnerWidthInfo(n),this._appendInnerHeightInfo(n);var o="";this._inlineBlock&&(o="vertical-align: middle;display: inline",o+=r.isIE7?";zoom:1":"-block;"),t.write(['<table cellspacing="0" cellpadding="0" style="position: relative;'+o+'"',s,'><tbody isFrame="1">',"<tr>",'<td class="',a,"tlc ",a,'bkgA"></td>','<td class="',a,"ts ",a,'bkgB">'+this.__addFrameIcon(i,a,"top")+"</td>",'<td class="',a,"trc ",a,'bkgA"></td>',"</tr>","<tr>",'<td class="',a,"ls ",a,'bkgC"></td>','<td class="',a,'m">',"<span ",e.testMode&&this._baseId?' id="'+this._baseId+'"':"",n.style?'style="'+n.style+'"':"",' class="',n.className,'">'].join(""))},writeMarkupEnd:function(e){var t=this._cfg,i=this._cssPrefix;e.write(["</span></td>",'<td class="',i,"rs ",i,'bkgC"></td>',"</tr>","<tr>",'<td class="',i,"blc ",i,'bkgA"></td>','<td class="',i,"bs ",i,'bkgB">',this.__addFrameIcon(t,i,"bottom"),"</td>",'<td class="',i,"brc ",i,'bkgA"></td>',"</tr>","</tbody></table>"].join(""))},linkToDom:function(e){this.$Frame.linkToDom.call(this,e);var i=t.getDomElementChild;this._childRootElt=i(i(i(i(e,0),1),1),0)},__addFrameIcon:function(e,t,i){var r=e.stateObject,a=r.frameIconVPos;return r.frameIcon&&a==i?'<span class="'+t+'frameIcon"></span>':""},changeState:function(e){this.$Frame.changeState.call(this,e);var i,r,a=this._cfg,s=this._cssPrefix,n=t.getDomElementChild;this._computeSize();var o=this._tds;if(!o){o=[],this._tds=o;var l=n(this._domElt,0);i=n(l,0),r=n(i,0),o.push({element:r,cssPart1:"tlc ",cssPart2:"bkgA"}),r=n(i,1),o.push({element:r,cssPart1:"ts ",cssPart2:"bkgB"}),r=n(i,2),o.push({element:r,cssPart1:"trc ",cssPart2:"bkgA"}),i=n(l,1),r=n(i,0),o.push({element:r,cssPart1:"ls ",cssPart2:"bkgC"}),r=n(i,1),o.push({element:r,cssPart:"m"}),r=n(i,2),o.push({element:r,cssPart1:"rs ",cssPart2:"bkgC"}),i=n(l,2),r=n(i,0),o.push({element:r,cssPart1:"blc ",cssPart2:"bkgA"}),r=n(i,1),o.push({element:r,cssPart1:"bs ",cssPart2:"bkgB"}),r=n(i,2),o.push({element:r,cssPart1:"brc ",cssPart2:"bkgA"})}var c={className:"xFrameContent "+s+"c "+a.cssClass};this._appendInnerWidthInfo(c),this._appendInnerHeightInfo(c),this._childRootElt.style.width=c.width,this._childRootElt.style.height=c.height,this._childRootElt.className=c.className;for(var u=0,h=o.length;h>u;u++)r=o[u],r.element.className=r.cssPart?s+"m":s+r.cssPart1+s+r.cssPart2,1==u&&(r.element.innerHTML=this.__addFrameIcon(a,s,"top")),7==u&&(r.element.innerHTML=this.__addFrameIcon(a,s,"bottom"))},resize:function(e,t){this.$Frame.resize.call(this,e,t),this.changeState(this.getStateName())}}});
//*******************
//LOGICAL-PATH:aria/widgets/frames/FixedHeightFrame.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Dom"),i=require("../../utils/Type"),r=require("./Frame");!function(){var a;module.exports=e.classDefinition({$classpath:"aria.widgets.frames.FixedHeightFrame",$extends:r,$onload:function(){a=t},$onunload:function(){a=null},$constructor:function(e){this.$Frame.constructor.call(this,e),this._mainContentIndex=1,this._computeSize()},$prototype:{_computeSize:function(){var e=this._cfg,t=e.stateObject;if(!e.fullWidth&&e.width>-1){var r=e.width-t.marginLeft-t.marginRight;this._hasBorder(t.skipLeftBorder,e.iconsLeft)&&(r-=t.spcLeft),this._hasBorder(t.skipRightBorder,e.iconsRight)&&(r-=t.sprWidth-t.spcLeft),this.innerWidth=r>0?r:0}else this.innerWidth=-1;this.innerHeight=t.verticalAlign&&t.innerHeight?i.isNumber(t.innerHeight)?t.innerHeight:-1:t.sprHeight-t.marginTop-t.marginBottom},_writeExtraMarkupBegin:function(){},_writeExtraMarkupEnd:function(){},writeMarkupBegin:function(e){var t=this._cfg,i=this._cssPrefix,r={style:"",className:"xFrameContent "+i+"c "+t.cssClass};this._appendInnerWidthInfo(r),this._appendInnerHeightInfo(r),e.write(['<span class="xFixedHeightFrame_w ',i,'w">'].join(""));var a=this._hasBorder(this._cfg.stateObject.skipLeftBorder,this._cfg.iconsLeft);e.write(["<span  ",a?"":'style="display:none;"',' class="xFixedHeightFrame_bme ',i,"b ",i,'bkgA"></span>'].join("")),this._writeExtraMarkupBegin(e),e.write(['<span class="xFixedHeightFrame_bme ',i,"m ",i,'bkgB" >','<span style="',r.style,'" class="',r.className,'">'].join(""))},writeMarkupEnd:function(e){var t=this._cssPrefix;e.write("</span></span>"),this._writeExtraMarkupEnd(e);var i=this._hasBorder(this._cfg.stateObject.skipRightBorder,this._cfg.iconsRight);e.write(["<span ",i?"":'style="display:none;"',' class="xFixedHeightFrame_bme ',t,"e ",t,'bkgA"></span>'].join("")),e.write("</span>")},linkToDom:function(e){this.$Frame.linkToDom.call(this,e),this._childRootElt=a.getDomElementChild(a.getDomElementChild(e,this._mainContentIndex),0)},changeState:function(e){this.$Frame.changeState.call(this,e),this._computeSize();var t=this._cfg,i=this._cssPrefix,r=this._domElt;r.className=["xFixedHeightFrame_w ",i,"w"].join("");var s;s=a.getDomElementChild(r,0),s.className=["xFixedHeightFrame_bme ",i,"b ",i,"bkgA"].join(""),s=a.getDomElementChild(r,this._mainContentIndex),s.className=["xFixedHeightFrame_bme ",i,"m ",i,"bkgB"].join(""),s=a.getDomElementChild(s,0);var n={className:["xFrameContent ",i,"c ",t.cssClass].join("")};this._appendInnerWidthInfo(n),this._appendInnerHeightInfo(n),s.style.width=n.width,s.style.height=n.height,s.className=n.className,s=a.getDomElementChildReverse(r,0),s.className=["xFixedHeightFrame_bme ",i,"e ",i,"bkgA"].join("")},resize:function(e,t){this.$Frame.resize.call(this,e,t),this.changeState(this.getStateName())},_hasBorder:function(e,t){var i=e===!1;return"dependsOnIcon"==e&&(i=0===t.length),i}}})}();
//*******************
//LOGICAL-PATH:aria/widgets/frames/SimpleHTMLFrame.js
//*******************
var e=require("../../Aria"),t=require("./Frame");module.exports=e.classDefinition({$classpath:"aria.widgets.frames.SimpleHTMLFrame",$extends:t,$constructor:function(e){this.$Frame.constructor.call(this,e),this._computeSize()},$prototype:{_computeSize:function(){var e=this._cfg,t=4;this.innerWidth=e.width>-1?e.width-t:-1,this.innerHeight=e.height>-1?e.height-t:-1},linkToDom:function(e){this.$Frame.linkToDom.call(this,e),this._childRootElt=e},getChild:function(e){return 0===e?this._childRootElt:aria.utils.Dom.getDomElementChild(this._childRootElt,e-1)},changeState:function(e){this.$Frame.changeState.call(this,e),this._computeSize();var t=this._domElt,i={width:this.innerWidth>-1?this.innerWidth+"px":"",height:this.innerHeight>-1?this.innerHeight+"px":""};t.style.width=i.width,t.style.height=i.height},resize:function(e,t){this.$Frame.resize.call(this,e,t),this.changeState(this.getStateName())}}});
//*******************
//LOGICAL-PATH:aria/widgets/frames/FrameFactory.js
//*******************
var e=require("../../Aria"),t=require("../AriaSkinInterface");require("./CfgBeans");var i=require("./SimpleFrame"),r=require("./TableFrame"),a=require("./FixedHeightFrame"),s=require("./SimpleHTMLFrame"),n=require("../../core/JsonValidator");module.exports=e.classDefinition({$classpath:"aria.widgets.frames.FrameFactory",$singleton:!0,$constructor:function(){this._frameTypeBuilders={Table:r,FixedHeight:a,SimpleHTML:s,Simple:i}},$statics:{FRAME_INVALID_FRAMETYPE:"Invalid frame type: %1.",FRAME_INVALID_CONFIG:"Invalid frame configuration."},$prototype:{normalizeFrameCfg:function(e){var i={json:e,beanName:"aria.widgets.frames.CfgBeans.FrameCfg"};if(n.normalize(i)){e=i.json;var r=e.skinObject;return null==r&&(r=t.getSkinObject(e.skinnableClass,e.sclass),e.skinObject=r),e}return this.$logError(this.FRAME_INVALID_CONFIG),null},createFrame:function(e){if(e=this.normalizeFrameCfg(e)){var t=e.skinObject.frame.frameType,i=this._frameTypeBuilders[t];if(i)return new i(e);this.$logError(this.FRAME_INVALID_FRAMETYPE,[t])}}}});
//*******************
//LOGICAL-PATH:aria/widgets/container/DivStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.container.DivStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n\n\n\n\n.xDIVtr {\nposition:relative;\nzoom:1;\n_overflow-y:hidden;\npadding:0px;\n}\n\n.xDIVtrc {\nposition:absolute;\ntop:0px;\nleft:0px;\nheight:100%;\n_height:1600px;\n}\n\n.xDIVbr {\nposition:relative;\nwidth:100%;\nfont-size:1px;\n}\n\n.xDIVbrc {\nposition:relative;\n}\n\n",26),this.macro_startLooping()}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Div",this.useFrame=!0}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/list/CfgBeans.js
//*******************
var e=require("../../../Aria"),t=require("../../../core/JsonTypes");module.exports=e.beanDefinitions({$package:"aria.widgets.form.list.CfgBeans",$namespaces:{json:t},$beans:{ListModel:{$type:"json:Object",$properties:{items:{$type:"ItemsArray"},itemsView:{$type:"json:ObjectRef",$classpath:"aria.templates.View"},activateSort:{$type:"json:Boolean"},multipleSelect:{$type:"json:Boolean"},maxSelectedCount:{$type:"json:Integer",$minValue:1},disabled:{$type:"json:Boolean"},selectedIndex:{$type:"json:Integer",$minValue:-1},selectedCount:{$type:"json:Integer",$minValue:0},displayOptions:{$type:"displayOptions"},cfg:{$type:"json:ObjectRef"},skin:{$type:"json:ObjectRef"},numberOfColumns:{$type:"numberOfColumns"},numberOfRows:{$type:"numberOfRows"},focusIndex:{$type:"json:Integer",$default:0},preselect:{$type:"json:Enum",$enumValues:["strict","always","none"],$default:"none"}}},numberOfColumns:{$type:"json:Integer",$default:0,$minValue:0},numberOfRows:{$type:"json:Integer",$default:0,$minValue:0},displayOptions:{$type:"json:Object",$default:{flowOrientation:"vertical",tableMode:!1},$properties:{flowOrientation:{$type:"json:Enum",$enumValues:["horizontal","vertical"],$default:"vertical"},tableMode:{$type:"json:Boolean",$default:!1},listDisplay:{$type:"json:Enum",$enumValues:["code","label","both"],$default:"code"},displayFooter:{$type:"json:Boolean",$default:!1}}},ItemsArray:{$type:"json:Array",$contentType:{$type:"Item"}},Item:{$type:"json:Object",$properties:{label:{$type:"json:String"},value:{$type:"json:String"},currentlyDisabled:{$type:"json:Boolean"},initiallyDisabled:{$type:"json:Boolean"},object:{$type:"json:ObjectRef"},selected:{$type:"json:Boolean"},index:{$type:"json:Integer"}}}}});
//*******************
//LOGICAL-PATH:aria/widgets/CfgBeans.js
//*******************
var e=require("../Aria"),t=require("../core/JsonTypes"),i=require("../templates/CfgBeans"),r=require("../core/environment/EnvironmentBaseCfgBeans"),a=require("./form/list/CfgBeans"),s=require("../utils/dragdrop/DragDropBean"),n=require("../widgetLibs/CommonBeans");module.exports=e.beanDefinitions({$package:"aria.widgets.CfgBeans",$namespaces:{json:t,templates:i,environmentBase:r,FormListCfg:a,dragDrop:s,common:n},$beans:{WidgetCfg:{$type:"json:Object",$properties:{id:{$type:"json:String",$mandatory:!1},bind:{$type:"json:Object",$properties:{tooltip:{$type:"common:BindingRef"}},$sample:{tooltip:{to:"name",inside:"REF HERE - e.g.: data"}}},tooltip:{$type:"json:String",$default:null},tooltipId:{$type:"json:String",$default:null},width:{$type:"json:Integer",$default:-1},verticalAlign:{$type:"json:String"},margins:{$type:"json:String",$default:null},block:{$type:"json:Boolean",$default:!1},printOptions:{$type:"templates:PrintOptions"},sclass:{$type:"json:String",$default:"std"},tabIndex:{$type:"json:Integer",$default:null}}},ContainerCfg:{$type:"ResizableWidgetCfg",$properties:{}},ResizableWidgetCfg:{$type:"WidgetCfg",$properties:{height:{$type:"json:Integer",$default:-1},minWidth:{$type:"json:Integer"},maxWidth:{$type:"json:Integer"},minHeight:{$type:"json:Integer"},maxHeight:{$type:"json:Integer"},scrollBarX:{$type:"json:Boolean",$default:!1},scrollBarY:{$type:"json:Boolean",$default:!0}}},InputCfg:{$type:"WidgetCfg",$properties:{bind:{$type:"WidgetCfg.bind",$properties:{label:{$type:"common:BindingRef"},value:{$type:"common:BindingRef"},mandatory:{$type:"common:BindingRef"},readOnly:{$type:"common:BindingRef"},disabled:{$type:"common:BindingRef"},error:{$type:"common:BindingRef"},errorMessages:{$type:"common:BindingRef"},formatError:{$type:"common:BindingRef"},formatErrorMessages:{$type:"common:BindingRef"},invalidText:{$type:"common:BindingRef"},requireFocus:{$type:"common:BindingRef"},name:{$type:"common:BindingRef"},errorTipPosition:{$type:"common:BindingRef"}}},inputMetaData:{$type:"json:String"},value:{$type:"json:MultiTypes"},mandatory:{$type:"json:Boolean",$default:!1},readOnly:{$type:"json:Boolean",$default:!1},error:{$type:"json:Boolean",$default:!1},errorMessages:{$type:"json:Array",$contentType:{$type:"json:String"},$default:[]},formatError:{$type:"json:Boolean"},formatErrorMessages:{$type:"json:Array",$contentType:{$type:"json:String"},$default:[]},invalidText:{$type:"json:String"},requireFocus:{$type:"json:Boolean",$default:!1},directOnBlurValidation:{$type:"json:Boolean"},validationGroups:{$type:"json:Array",$contentType:{$type:"json:String"}},validationEvent:{$type:"json:Enum",$enumValues:["onFocus","onBlur","onError","none"],$default:"onFocus"},name:{$type:"json:String",$mandatory:!1},disabled:{$type:"json:Boolean",$default:!1},label:{$type:"json:String",$default:null},labelAlign:{$type:"json:Enum",$enumValues:["left","right","center"],$default:"left"},labelPos:{$type:"json:Enum",$enumValues:["left","top","right","bottom"],$default:"left"},labelWidth:{$type:"json:Integer",$default:-1},labelHeight:{$type:"json:Integer",$default:-1},hideLabel:{$type:"json:Boolean",$default:!1},errorTipPosition:{$type:"json:String",$default:"top right"}}},CheckBoxCfg:{$type:"InputCfg",$properties:{labelPos:{$type:"InputCfg.labelPos",$default:"right"},value:{$type:"InputCfg.value",$default:!1},onchange:{$type:"common:Callback"},icon:{$type:"json:String",$default:null},tabIndex:{$type:"WidgetCfg.tabIndex",$default:0}}},RadioButtonCfg:{$type:"CheckBoxCfg",$properties:{bind:{$type:"CheckBoxCfg.bind",$properties:{keyValue:{$type:"common:BindingRef"}}},value:{$type:"CheckBoxCfg.value",$default:""},keyValue:{$type:"json:String",$default:""}}},TextInputCfg:{$type:"InputCfg",$properties:{maxlength:{$type:"json:Integer",$default:-1},helptext:{$type:"json:String"},validationDelay:{$type:"json:Integer",$default:null},onchange:{$type:"common:Callback"},onclick:{$type:"common:Callback"},onfocus:{$type:"common:Callback"},onblur:{$type:"common:Callback"},spellCheck:{$type:"json:Boolean"},autoselect:{$type:"json:Boolean"},fullWidth:{$type:"json:Boolean",$default:!1},bind:{$type:"InputCfg.bind",$properties:{prefill:{$type:"common:BindingRef"},prefillError:{$type:"common:BindingRef"}}}}},TextFieldCfg:{$type:"TextInputCfg",$properties:{}},TextareaCfg:{$type:"TextInputCfg",$properties:{height:{$type:"json:Integer",$default:-1}}},SortIndicatorCfg:{$type:"ActionWidgetCfg",$properties:{view:{$type:"json:ObjectRef",$classpath:"aria.templates.View"},sortKeyGetter:{$type:"json:FunctionRef"},refreshArgs:{$type:"json:Array",$contentType:{$type:"templates:RefreshCfg"}},sortName:{$type:"json:String",$mandatory:!0},labelWidth:{$type:"json:Integer",$default:-1},activateEllipsis:{$type:"json:Boolean",$default:!1},ellipsis:{$type:"json:String"},ellipsisLocation:{$type:"json:Enum",$enumValues:["left","right"],$default:"right"},ellipsisEndStyle:{$type:"json:Enum",$enumValues:["clipped","fullCharacter"],$default:"clipped"}}},PasswordFieldCfg:{$type:"TextInputCfg",$properties:{}},DateFieldCfg:{$type:"TextInputCfg",$properties:{pattern:{$type:"environmentBase:FormatTypes"},minValue:{$type:"json:Date"},maxValue:{$type:"json:Date"},referenceDate:{$type:"json:Date"},bind:{$type:"TextInputCfg.bind",$properties:{referenceDate:{$type:"common:BindingRef"}}}}},TimeFieldCfg:{$type:"TextInputCfg",$properties:{pattern:{$type:"environmentBase:FormatTypes"}}},NumberFieldCfg:{$type:"TextInputCfg",$properties:{pattern:{$type:"environmentBase:FormatTypes",$default:""},value:{$type:"TextInputCfg.value",$contentTypes:[{$type:"json:Float"}]}}},DropDownTextInputCfg:{$type:"TextInputCfg",$properties:{popupWidth:{$type:"json:Integer",$default:-1},popupOpen:{$type:"json:Boolean"},bind:{$type:"TextInputCfg.bind",$properties:{popupOpen:{$type:"common:BindingRef"}}}}},DropDownInputCfg:{$type:"InputCfg",$properties:{popupWidth:{$type:"json:Integer",$default:-1},popupOpen:{$type:"json:Boolean"},bind:{$type:"InputCfg.bind",$properties:{popupOpen:{$type:"common:BindingRef"}}}}},ListItemCfg:{$type:"json:Object",$restricted:!1,$properties:{value:{$type:"json:MultiTypes",$mandatory:!0,$contentTypes:[{$type:"json:Integer"},{$type:"json:String"}]},label:{$type:"json:String",$mandatory:!0}}},MultiSelectCfg:{$type:"DropDownTextInputCfg",$properties:{activateSort:{$type:"json:Boolean",$default:!1},fieldSeparator:{$type:"json:String",$default:","},maxOptions:{$type:"json:Integer",$minValue:1},fieldDisplay:{$type:"json:Enum",$enumValues:["code","label"],$default:"label"},valueOrderedByClick:{$type:"json:Boolean",$default:!0},instantBind:{$type:"json:Boolean",$default:!1},listTemplate:{$type:"json:PackageName",$default:"aria.widgets.form.templates.TemplateMultiSelect"},listSclass:{$type:"json:String"},items:{$type:"ListCfg.items"},numberOfColumns:{$type:"FormListCfg:numberOfColumns"},numberOfRows:{$type:"FormListCfg:numberOfRows"},displayOptions:{$type:"FormListCfg:displayOptions"}}},DatePickerCfg:{$type:"DropDownTextInputCfg",$properties:{pattern:{$type:"environmentBase:FormatTypes"},inputPattern:{$type:"environmentBase:inputFormatTypes"},minValue:{$type:"json:Date"},maxValue:{$type:"json:Date"},referenceDate:{$type:"json:Date"},calendarTemplate:{$type:"json:PackageName"},calendarLabel:{$type:"json:String"},calendarDisplayUnit:{$type:"json:Enum",$enumValues:["M","W"]},calendarNumberOfUnits:{$type:"json:Integer"},calendarFirstDayOfWeek:{$type:"json:Integer",$minValue:0,$maxValue:6},calendarMonthLabelFormat:{$type:"json:String"},calendarDayOfWeekLabelFormat:{$type:"json:String"},calendarDateLabelFormat:{$type:"json:String"},calendarCompleteDateLabelFormat:{$type:"json:String"},calendarShowWeekNumbers:{$type:"json:Boolean"},calendarShowShortcuts:{$type:"json:Boolean"},calendarRestrainedNavigation:{$type:"json:Boolean"},calendarSclass:{$type:"json:String"},iconTooltip:{$type:"json:String",$default:"Open the Calendar"},bind:{$type:"DropDownTextInputCfg.bind",$properties:{referenceDate:{$type:"common:BindingRef"}}},value:{$type:"InputCfg.value",$contentTypes:[{$type:"json:Date"}]}}},SelectBoxCfg:{$type:"DropDownTextInputCfg",$properties:{listTemplate:{$type:"json:PackageName"},listSclass:{$type:"json:String"},options:{$type:"json:Array",$contentType:{$type:"ListItemCfg"},$default:[]},bind:{$type:"DropDownTextInputCfg.bind",$properties:{options:{$type:"common:BindingRef"}}},preselect:{$type:"json:Enum",$enumValues:["always","none"],$default:"always"}}},SelectCfg:{$type:"DropDownInputCfg",$properties:{tabIndex:{$type:"WidgetCfg.tabIndex",$default:0},listTemplate:{$type:"json:PackageName"},listSclass:{$type:"json:String"},options:{$type:"json:Array",$contentType:{$type:"ListItemCfg"},$default:[]},onchange:{$type:"common:Callback"},bind:{$type:"DropDownInputCfg.bind",$properties:{options:{$type:"common:BindingRef"}}}}},AutoCompleteCfg:{$type:"DropDownTextInputCfg",$properties:{autoFill:{$type:"json:Boolean",$default:!0},freeText:{$type:"json:Boolean",$default:!0},suggestionsTemplate:{$type:"json:PackageName"},resourcesHandler:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:PackageName"},{$type:"json:ObjectRef"}],$mandatory:!0},preselect:{$type:"json:Enum",$enumValues:["strict","always","none"],$default:"strict"},expandButton:{$type:"json:Boolean",$default:!1},popupMaxHeight:{$type:"json:Integer"},listSclass:{$type:"json:String"},selectionKeys:{$type:"json:Array",$contentType:{$type:"json:Object",$properties:{key:{$type:"json:MultiTypes",$mandatory:!0,$contentTypes:[{$type:"json:Integer"},{$type:"json:String",$sample:"F4"}]},ctrl:{$type:"json:Boolean",$default:!1},shift:{$type:"json:Boolean",$default:!1},alt:{$type:"json:Boolean",$default:!1}}},$default:[{key:"ENTER"}]}}},MultiAutoCompleteCfg:{$type:"AutoCompleteCfg",$properties:{maxOptions:{$type:"json:Integer"},freeText:{$type:"AutoCompleteCfg.freeText",$default:!0}}},ActionWidgetCfg:{$type:"WidgetCfg",$properties:{bind:{$type:"WidgetCfg.bind",$properties:{error:{$type:"common:BindingRef"},errorMessages:{$type:"common:BindingRef"},errorTipPosition:{$type:"common:BindingRef"}}},label:{$type:"json:String",$default:""},onclick:{$type:"common:Callback"},error:{$type:"json:Boolean",$default:!1},errorMessages:{$type:"json:Array",$contentType:{$type:"json:String"},$default:[]},errorTipPosition:{$type:"json:String",$default:"top right"}}},ButtonCfg:{$type:"ActionWidgetCfg",$properties:{bind:{$type:"ActionWidgetCfg.bind",$properties:{disabled:{$type:"common:BindingRef"}}},height:{$type:"json:Integer",$default:-1},disabled:{$type:"json:Boolean",$default:!1},selected:{$type:"json:Boolean",$default:!1},tabIndex:{$type:"WidgetCfg.tabIndex",$default:0}}},TextCfg:{$type:"WidgetCfg",$properties:{bind:{$type:"WidgetCfg.bind",$properties:{text:{$type:"common:BindingRef"}}},text:{$type:"json:String",$default:""},activateEllipsis:{$type:"json:Boolean",$default:!1},ellipsis:{$type:"json:String"},ellipsisLocation:{$type:"json:Enum",$enumValues:["left","right"],$default:"right"},ellipsisEndStyle:{$type:"json:Enum",$enumValues:["clipped","fullCharacter"],$default:"clipped"}}},IconButtonCfg:{$type:"ButtonCfg",$properties:{icon:{$type:"json:String",$default:null},sourceImage:{$type:"json:Object",$properties:{path:{$type:"json:String",$default:null},width:{$type:"json:Integer",$default:16},height:{$type:"json:Integer",$default:16}}}}},LinkCfg:{$type:"ActionWidgetCfg",$properties:{bind:{$type:"ActionWidgetCfg.bind",$properties:{disabled:{$type:"common:BindingRef"}}},disabled:{$type:"json:Boolean",$default:!1}}},SpriteCfg:{$type:"json:Object",$properties:{name:{$type:"json:String",$default:null},cssClass:{$type:"json:String",$default:""},spriteURL:{$type:"json:String",$default:null},spriteSpacing:{$type:"json:Integer",$default:0},iconWidth:{$type:"json:Integer",$default:-1},iconHeight:{$type:"json:Integer",$default:-1},biDimensional:{$type:"json:Boolean",$default:!1},direction:{$type:"json:String",$default:"x"},content:{$type:"json:Map",$contentType:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:Integer"},{$type:"json:String"}]}}}},IconCfg:{$type:"WidgetCfg",$properties:{icon:{$type:"json:String",$default:null},onclick:{$type:"common:Callback"},sourceImage:{$type:"json:Object",$properties:{path:{$type:"json:String",$default:null},width:{$type:"json:Integer",$default:16},height:{$type:"json:Integer",$default:16}}}}},DivCfg:{$type:"ResizableWidgetCfg",$properties:{bind:{$type:"ResizableWidgetCfg.bind",$properties:{width:{$type:"common:BindingRef"},height:{$type:"common:BindingRef"}}},cssClass:{$type:"json:String",$default:""},minWidth:{$type:"ResizableWidgetCfg.minWidth"},maxWidth:{$type:"ResizableWidgetCfg.maxWidth"},minHeight:{$type:"ResizableWidgetCfg.minHeight"},maxHeight:{$type:"ResizableWidgetCfg.maxHeight"}}},TemplateCfg:{$type:"ResizableWidgetCfg",$properties:{printOptions:{$type:"WidgetCfg.printOptions",$default:"adaptXY"},defaultTemplate:{$type:"json:PackageName",$mandatory:!0},data:{$type:"json:ObjectRef",$mandatory:!1},moduleCtrl:{$type:"templates:ModuleCtrl",$mandatory:!1},args:{$type:"json:Array",$contentType:{$type:"json:MultiTypes"},$default:[]},baseTabIndex:{$type:"json:Integer",$default:0},xForceScrollbar:{$type:"json:Boolean",$default:!1},yForceScrollbar:{$type:"json:Boolean",$default:!1}}},TooltipCfg:{$type:"ResizableWidgetCfg",$properties:{id:{$type:"WidgetCfg.id",$mandatory:!0},macro:{$type:"templates:MacroCfg",$mandatory:!0},sclass:{$type:"WidgetCfg.sclass",$default:"tooltip"},showOnlyOnMouseStill:{$type:"json:Boolean",$default:!0},showDelay:{$type:"json:Integer",$default:100},closeOnMouseClick:{$type:"json:Boolean",$default:!0},closeOnMouseOut:{$type:"json:Boolean",$default:!0},closeOnMouseOutDelay:{$type:"json:Integer",$default:100},closeOnMouseScroll:{$type:"json:Boolean",$default:!0}}},ErrorListCfg:{$type:"ResizableWidgetCfg",$properties:{bind:{$type:"WidgetCfg.bind",$properties:{messages:{$type:"common:BindingRef"}}},defaultTemplate:{$type:"json:String",$default:"aria.widgets.errorlist.ErrorListTemplate"},messages:{$type:"json:ObjectRef",$default:[]},displayCodes:{$type:"json:Boolean",$default:!0},title:{$type:"json:String",$default:""},filterTypes:{$type:"json:Array",$default:null,$contentType:{$type:"json:String",$mandatory:!0},$sample:["F","E"]},block:{$type:"ResizableWidgetCfg.block",$default:!0}}},RangeCalendarCfg:{$type:"BaseCalendarCfg",$properties:{bind:{$type:"BaseCalendarCfg.bind",$properties:{fromDate:{$type:"common:BindingRef"},toDate:{$type:"common:BindingRef"}}},fromDate:{$type:"json:Date"},toDate:{$type:"json:Date"},onDateSelect:{$type:"common:Callback"}}},CalendarCfg:{$type:"BaseCalendarCfg",$properties:{bind:{$type:"BaseCalendarCfg.bind",$properties:{value:{$type:"common:BindingRef"}}},value:{$type:"json:Date"},showShortcuts:{$type:"json:Boolean",$default:!0}}},BaseCalendarCfg:{$type:"ResizableWidgetCfg",$properties:{bind:{$type:"WidgetCfg.bind",$properties:{startDate:{$type:"common:BindingRef"},ranges:{$type:"common:BindingRef"}}},ranges:{$type:"json:Array",$contentType:{$type:"json:ObjectRef",$mandatory:!0}},tabIndex:{$type:"WidgetCfg.tabIndex",$default:0},label:{$type:"json:String"},showWeekNumbers:{$type:"json:Boolean",$default:!0},defaultTemplate:{$type:"json:PackageName"},onclick:{$type:"common:Callback"},onmouseover:{$type:"common:Callback"},onmouseout:{$type:"common:Callback"},onchange:{$type:"common:Callback"},minValue:{$type:"json:Date"},maxValue:{$type:"json:Date"},displayUnit:{$type:"json:Enum",$enumValues:["M","W"]},numberOfUnits:{$type:"json:Integer",$default:3},startDate:{$type:"json:Date"},firstDayOfWeek:{$type:"json:Integer",$minValue:0,$maxValue:6},monthLabelFormat:{$type:"json:String"},dayOfWeekLabelFormat:{$type:"json:String"},dateLabelFormat:{$type:"json:String"},completeDateLabelFormat:{$type:"json:String"},restrainedNavigation:{$type:"json:Boolean",$default:!0}}},ListCfg:{$type:"ResizableWidgetCfg",$properties:{tabIndex:{$type:"WidgetCfg.tabIndex",$default:0},defaultTemplate:{$type:"json:PackageName",$default:"aria.widgets.form.list.templates.ListTemplate"},preselect:{$type:"json:Enum",$enumValues:["strict","always","none"],$default:"strict"},items:{$type:"json:MultiTypes",$contentTypes:[{$type:"json:Array",$contentType:{$type:"json:Object",$properties:{label:{$type:"json:String"},value:{$type:"json:MultiTypes"}}}},{$type:"json:Object",$properties:{container:{$type:"json:Object",$default:{}},labelProperty:{$type:"json:String",$default:""},valueProperty:{$type:"json:String",$default:""}}}]},selectedValues:{$type:"json:Array",$default:[],$contentType:{$type:"json:MultiTypes"}},selectedIndex:{$type:"json:Integer"},maxOptions:{$type:"json:Integer",$minValue:1},multipleSelect:{$type:"json:Boolean",$default:!1},activateSort:{$type:"json:Boolean",$default:!1},disabled:{$type:"json:Boolean",$default:!1},onclick:{$type:"common:Callback"},onchange:{$type:"common:Callback"},onkeyevent:{$type:"common:Callback"},onmouseover:{$type:"common:Callback"},bind:{$type:"WidgetCfg.bind",$properties:{selectedValues:{$type:"common:BindingRef"},selectedIndex:{$type:"common:BindingRef"},items:{$type:"common:BindingRef"},disabled:{$type:"common:BindingRef"},multipleSelect:{$type:"common:BindingRef"},maxOptions:{$type:"common:BindingRef"}}},displayOptions:{$type:"FormListCfg:displayOptions"},numberOfColumns:{$type:"FormListCfg:numberOfColumns"},numberOfRows:{$type:"FormListCfg:numberOfRows"},onclose:{$type:"common:Callback"}}},DialogCfg:{$type:"DivCfg",$properties:{bind:{$type:"DivCfg.bind",$properties:{visible:{$type:"common:BindingRef"},movable:{$type:"common:BindingRef"},macro:{$type:"common:BindingRef"},title:{$type:"common:BindingRef"},xpos:{$type:"common:BindingRef"},ypos:{$type:"common:BindingRef"},maximized:{$type:"common:BindingRef"},center:{$type:"common:BindingRef"}}},title:{$type:"json:String",$default:""},visible:{$type:"json:Boolean",$default:!1},macro:{$type:"templates:MacroCfg"},icon:{$type:"json:String"},modal:{$type:"json:Boolean",$default:!1},closable:{$type:"json:Boolean",$default:!0},maximizable:{$type:"json:Boolean",$default:!1},closeOnMouseClick:{$type:"json:Boolean",$default:!1},center:{$type:"json:Boolean",$default:!0},xpos:{$type:"json:Integer",$default:0},ypos:{$type:"json:Integer",$default:0},movable:{$type:"json:Boolean"},resizable:{$type:"json:Boolean",$default:!1},movableProxy:{$type:"dragDrop:ProxyCfg"},onOpen:{$type:"common:Callback"},onClose:{$type:"common:Callback"},onCloseClick:{$type:"common:Callback"},ondragstart:{$type:"common:Callback"},ondragend:{$type:"common:Callback"},beforeresize:{$type:"common:Callback"},resizeend:{$type:"common:Callback"}}},FieldsetCfg:{$type:"ResizableWidgetCfg",$properties:{bind:{$type:"WidgetCfg.bind",$properties:{width:{$type:"common:BindingRef"},height:{$type:"common:BindingRef"}}},onSubmit:{$type:"common:Callback"},label:{$type:"json:String"},minWidth:{$type:"ResizableWidgetCfg.minWidth"},maxWidth:{$type:"ResizableWidgetCfg.maxWidth"},minHeight:{$type:"ResizableWidgetCfg.minHeight"},maxHeight:{$type:"ResizableWidgetCfg.maxHeight"}}},TabCfg:{$type:"ContainerCfg",$properties:{bind:{$type:"WidgetCfg.bind",$properties:{selectedTab:{$type:"common:BindingRef"}}},tabId:{$type:"json:String",$mandatory:!0},disabled:{$type:"json:Boolean",$default:!1},selectedTab:{$type:"json:String"}}},TabPanelCfg:{$type:"ContainerCfg",$properties:{bind:{$type:"WidgetCfg.bind",$properties:{width:{$type:"common:BindingRef"},height:{$type:"common:BindingRef"},selectedTab:{$type:"common:BindingRef"}}},selectedTab:{$type:"json:String"},macro:{$type:"templates:MacroCfg",$mandatory:!0},block:{$type:"WidgetCfg.block",$default:!0},minWidth:{$type:"ResizableWidgetCfg.minWidth"},maxWidth:{$type:"ResizableWidgetCfg.maxWidth"},minHeight:{$type:"ResizableWidgetCfg.minHeight"},maxHeight:{$type:"ResizableWidgetCfg.maxHeight"}}},GaugeCfg:{$type:"WidgetCfg",$properties:{bind:{$type:"WidgetCfg.bind",$properties:{label:{$type:"common:BindingRef"},currentValue:{$type:"common:BindingRef"},maxValue:{$type:"common:BindingRef"}}},label:{$type:"json:String",$default:""},labelWidth:{$type:"json:Integer",$default:-1},labelAlign:{$type:"json:Enum",$enumValues:["left","right","center"],$default:"center"},gaugeWidth:{$type:"json:Integer",$default:150},minValue:{$type:"json:Integer",$default:0},maxValue:{$type:"json:Integer",$default:100},currentValue:{$type:"json:Integer",$default:0}}},SplitterCfg:{$type:"ResizableWidgetCfg",$properties:{macro1:{$type:"templates:MacroCfg",$mandatory:!0},macro2:{$type:"templates:MacroCfg",$mandatory:!0},size1:{$type:"json:Integer"},size2:{$type:"json:Integer"},height:{$type:"ResizableWidgetCfg.height",$mandatory:!0},width:{$type:"ResizableWidgetCfg.width",$mandatory:!0},adapt:{$type:"json:Enum",$enumValues:["size1","size2","both"],$default:"both"},orientation:{$type:"json:Enum",$enumValues:["horizontal","vertical"],$default:"horizontal"},border:{$type:"json:Boolean",$default:!0},bind:{$type:"WidgetCfg.bind",$properties:{size1:{$type:"common:BindingRef"},size2:{$type:"common:BindingRef"}}}}}}});
//*******************
//LOGICAL-PATH:aria/widgets/GlobalStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.GlobalStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$dependencies:["aria.widgets.AriaSkinInterface","aria.widgets.environment.WidgetSettings"],$csslibs:["aria.widgets.TextStyle"],$prototype:{macro_main:function(){try{with(this){var general=aria.widgets.AriaSkinInterface.getGeneral(),widgetGeneral=aria.widgets.AriaSkinInterface.getWidgetGeneral();this.__$write("\n\n\n.xLDI {\n",29),this.macro_background(general.loadingOverlay.backgroundColor,general.loadingOverlay.spriteURL,"no-repeat center center"),this.macro_opacity(general.loadingOverlay.opacity),this.__$write("\n}\n\n.xOverlay {\nbackground-color: ",34),this.__$write(general.overlay.backgroundColor,37),this.__$write(";\n",37),this.macro_opacity(general.overlay.opacity),this.__$write("\nborder: ",39),this.__$write(general.overlay.border,39),this.__$write(";\n\n",39),this.macro_writeBorderRadius(general.overlay),this.__$write("\n}\n\n\n",42);var widgetSettings=aria.widgets.environment.WidgetSettings.getWidgetSettings();this.__$write("\n.xWidget {\nposition: relative;\ndisplay: inline-block;\n",46),widgetSettings.middleAlignment&&this.__$write("vertical-align: middle;",49),this.__$write("\n}\n\n",50),widgetGeneral&&widgetGeneral.font&&(this.__$write("\n.xWidget textarea,\n.xWidget select,\n.xWidget input,\n.xWidget button,\n.xWidget table {\n",53),this.text.macro_writeFontStyleInner(widgetGeneral.font),this.__$write("\n}\n",59)),widgetGeneral&&widgetGeneral.anchor&&widgetGeneral.anchor.states&&this.text.macro_writeAnchorsStyle(widgetGeneral.anchor.states,".xWidget"),this.__$write("\n\n.xWidget.xBlock, .xBlock, .xWidget.xFullWidth {\ndisplay: block;\n}\n\n\n.xDialogMask {\n\nwidth:100%;\nheight:100%;\nbackground-color: ",65),this.__$write(general.dialogMask.backgroundColor,75),this.__$write(";\n",75),this.macro_opacity(general.dialogMask.opacity||40),this.__$write("\n}\n\n.xFrameContent {\ndisplay: inline-block;\nposition:relative;\npadding: 0 !important;\nborder: 0 !important;\n}\n\n.xFixedHeightFrame_w {\ndisplay: inline-block;\nposition: relative;\noverflow: hidden;\nvertical-align: ",77),widgetSettings.middleAlignment?this.__$write("middle",90):this.__$write("top",90),this.__$write(";\n}\n.xFixedHeightFrame_bme {\ndisplay: inline-block;\nvertical-align: ",90),widgetSettings.middleAlignment?this.__$write("middle",94):this.__$write("top",94),this.__$write(";\n}\n.xSimpleFrame {\ndisplay: inline-block;\nposition: relative;\n}\n\n",94),aria.core.Browser.isIE7&&this.__$write("\n.xFixedHeightFrame_w {\nvertical-align:top;\n}\n\n.xFixedHeightFrame_bme {\nvertical-align:top;\n}\n",102),(aria.core.Browser.isIE10||aria.core.Browser.isModernIE)&&this.__$write("\n.xTextInputInput::-ms-clear {\ndisplay: none;\n}\n.xTextInputInput::-ms-reveal {\ndisplay: none;\n}\n",112),(aria.core.Browser.isSafari||aria.core.Browser.isChrome)&&this.__$write("\n*:focus {\noutline: 0;\n}\n",121),this.__$write("\n\n.xWidget.xFullWidth .xSimpleFrame {\ndisplay: block;\nwidth: auto !important;\n}\n.xWidget.xFullWidth .xFixedHeightFrame_w {\ndisplay: block;\n}\n.xWidget.xFullWidth .xFixedHeightFrame_w .xFrameContent {\nwidth: 100% !important;\n}\n\n.xFloatLabelRight {\nfloat: right;\n}\n.xFloatLabelLeft {\nfloat: left;\n}\n\n",125)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},$init:function(e){var t={};Aria.copyObject(e.__$csslibs,t),Aria.copyObject({text:"aria.widgets.TextStyle"},t),e.__$csslibs=t},__$initTemplate:function(){return this.$WidgetStyle.__$initTemplate.call(this)?!0:!1}}});
//*******************
//LOGICAL-PATH:aria/widgets/Widget.js
//*******************
var e=require("../Aria");require("./CfgBeans");var t=require("../utils/Json"),i=require("../utils/Dom"),r=require("../utils/Delegate"),a=require("./AriaSkinInterface"),s=require("../templates/RefreshManager"),n=require("../utils/String"),o=require("./GlobalStyle.tpl.css"),l=require("../widgetLibs/BindableWidget"),c=require("../core/TplClassLoader"),u=require("../core/JsonValidator");module.exports=e.classDefinition({$classpath:"aria.widgets.Widget",$extends:l,$css:[o],$onload:function(){aria.widgets.AriaSkin||this.$JsObject.$logError.call(this,this.SKIN_NOT_READY)},$constructor:function(t,i,r){t=t?t:{},this.$BindableWidget.constructor.call(this,t,i,r),this.$assert(18,i&&i.$getId),this._domElt=null,this._defaultMargin=1,this._hasMarkup=!0,this.isDiffered=!1,this._delegateId=null,this._initDone=!1,this._domReady=!1,this._refreshMap=null,this._cssClassNames="xWidget",this._extraCssClassNames=[],this.__initWhileContentChange=!1,this._cfgOk=u.validateCfg(this._cfgBean||this._cfgPackage+"."+this.$class+"Cfg",t),this._skinnableClass&&(a.checkSkinClassExists(this._skinnableClass,t.sclass)||(t.sclass="std"));var s=t.bind;s&&this._initBindings(s);var n,o=t.id;o&&o.indexOf("+")>-1&&(e.testMode&&(n=this._context.$getAutoId(o)),delete t.id,o=null),this._domId=n||(o?this._context.$getId(o):this._createDynamicId())},$destructor:function(){this.removeDelegation(),this._tooltipWidget&&(this._tooltipWidget=null),this._domElt&&(this._domElt.__widget=null),this.$BindableWidget.$destructor.call(this),this._domElt=null,this._refreshMap=null,this._context=null,this._cfg=null},$statics:{SKIN_NOT_READY:'CRITICAL! There is no skin available, widgets can not be used.\nCheck that the skin is properly loaded in a script tag that looks like this:\n<script src="/aria/css/atskin-'+e.version+'.js" ></script>',WIDGET_NOT_FOUND:"%1Following %3 widget was not found in DOM: %2",WIDGET_TOOLTIP_NOT_FOUND:"%1Tooltip with id '%2', for widget %3 was not found in template '%4'.",WIDGET_BINDING_ERROR:"%1Binding failed in widget: 	Inside:%2	To:%3",WIDGET_PROPERTY_DEPRECATION:"%1The following property is deprecated and will be removed from the framework in the near future. Refactor your code to avoid any issues. Property:'%2'.",INVALID_VERTICAL_ALIGN:"%1Invalid verticalAlign:'%2'.",verticalAlignTester:/^[%a-z0-9-]*$/},$prototype:{_cfgPackage:"aria.widgets.CfgBeans",_cfgBean:null,_directInit:!1,_skinnableClass:null,_initBindings:function(e){var i,r,a,s,n;for(var o in e)if(e.hasOwnProperty(o)&&(i=e[o],r=i.inside,a=i.to,n=i.transform,r&&(a||0===a)))if(s=r[a],"undefined"!=typeof s){if(n&&(s=this._transform(n,s,"toWidget"),"undefined"==typeof s))continue;this._cfg[o]=s}else if("undefined"!=typeof this._cfg[o]){var l=this._transform(n,this._cfg[o],"fromWidget");t.setValue(r,a,l)}},writeMarkup:function(e){this._cfgOk?(this._hasMarkup&&this.__markupBegin(e),this._widgetMarkup(e),this._hasMarkup&&this.__markupEnd(e),this._domReady=!0):e.write('#ERROR#<span style="font-size:x-small"><br/>Widget: '+this.$classpath+"<br/>Tpl:"+this._context.tplClasspath+"<br/>Line: "+this._lineNumber+"</span>")},writeMarkupBegin:function(e){this._cfgOk?(this._hasMarkup&&this.__markupBegin(e),this._widgetMarkupBegin(e)):e.write('#ERROR - Begin#<span style:"font-size:x-small"><br/>Widget: '+this.$classpath+"<br/>Tpl:"+this._context.tplClasspath+"<br/>Line: "+this._lineNumber+"</span>")},writeMarkupEnd:function(e){this._cfgOk?(this._widgetMarkupEnd(e),this._hasMarkup&&this.__markupEnd(e),this._domReady=!0):e.write("#ERROR - End#")},getId:function(){return this._cfg.id},__markupEnd:function(e){e.write("</span>")},__markupBegin:function(e){var t=this._cfg,i=c.addPrintOptions(this._cssClassNames,t.printOptions),a=r;if(t.block&&(i+=" xBlock"),this._checkCfgConsistency(),this._extraCssClassNames.length>0&&(i+=" "+this._extraCssClassNames.join(" ")),e.write('<span id="'+this._domId+'" '),this._delegateId||(this._delegateId=a.add({fn:this.delegate,scope:this})),e.write(a.getMarkup(this._delegateId)+" "),e.write('class="'+i+'" '),e.write('style="'),null!=this._spanStyle&&e.write(this._spanStyle),t.width>-1&&e.write("width:"+t.width+"px;"),null!=t.height&&-1!=t.height&&e.write("height:"+t.height+"px;"),null!=t.verticalAlign&&(this.verticalAlignTester.test(t.verticalAlign)?e.write("vertical-align:"+t.verticalAlign+";"):this.$logError(this.INVALID_VERTICAL_ALIGN,[t.verticalAlign])),null!=t.margins&&t.margins.match(/^(\d+|x) (\d+|x) (\d+|x) (\d+|x)$/)){var s=t.margins.split(" ");e.write(["margin:","x"===s[0]?this._defaultMargin:s[0],"px ","x"===s[1]?this._defaultMargin:s[1],"px ","x"===s[2]?this._defaultMargin:s[2],"px ","x"===s[3]?this._defaultMargin:s[3],'px;" '].join(""))}else e.write("margin:"+this._defaultMargin+'px;" ');if(t.tooltip&&e.write('title="'+n.escapeHTMLAttr(t.tooltip)+'" '),null!=t.tabIndex&&!this._customTabIndexProvided&&!t.disabled){var o=this._calculateTabIndex();e.write('tabindex="'+o+'" ')}e.write(">")},_calculateTabIndex:function(){var e=-1;return this._context&&this._context._cfg&&this._context._cfg.baseTabIndex>=0&&(e=this._cfg.tabIndex>0?this._context._cfg.baseTabIndex+this._cfg.tabIndex:this._cfg.tabIndex),e},_widgetMarkup:function(){},_widgetMarkupBegin:function(){},_widgetMarkupEnd:function(){},_checkCfgConsistency:function(){},_linkToTooltipWidget:function(){var e=this._cfg.tooltipId;if(e){var t=this._context.getBehaviorById(e);return t?void(this._tooltipWidget=t):void this.$logError(this.WIDGET_TOOLTIP_NOT_FOUND,[e,this.$class,this._context.tplClasspath])}},_dom_onmousemove:function(e){this._tooltipWidget&&(this._tooltipWidget.associatedWidgetMouseMove(this,e),e.$dispose())},_dom_onmouseover:function(e){this._tooltipWidget&&(this._tooltipWidget.associatedWidgetMouseOver(this,e),e.$dispose())},_dom_onmouseout:function(e){this._tooltipWidget&&(this._tooltipWidget.associatedWidgetMouseOut(this,e),e.$dispose())},initWidget:function(){this._linkToTooltipWidget(),this._registerBindings(),this._directInit&&this._hasMarkup&&this.initWidgetDom()},initWidgetDom:function(e){this._initDone=!0,e||(e=i.getElementById(this._domId),e||this.$logError(this.WIDGET_NOT_FOUND,[this._domId,this.$class])),e.__widget=this,this._domElt=e,this._init()},_init:function(){},setProperty:function(e,i){var r;if(!this._cfg)return null;var a=this._cfg.bind,s=this.getProperty(e);if(this._cfg[e]=i,a){var n=a[e];if(n){var o=n.inside,l=n.to,c=n.transform;if(o&&(l||0===l)){r=this._transform(c,i,"fromWidget");var u=this._bindingListeners[e];t.setValue(o,l,r,u?u.cb:null)}}}return s!==i?{oldValue:s,newValue:i}:void 0},setWidgetProperty:function(e,t){if(this._cfg){var i=this.getProperty(e);t!=i&&(this._cfg[e]=t,this._onBoundPropertyChange(e,t,i))}},changeProperty:function(e,t){this._cfg&&(this.setWidgetProperty(e,t),this.setProperty(e,t))},getProperty:function(e){return this._cfg?this._cfg[e]:null},_notifyDataChange:function(e,t){if(this._cfg){var i=this._cfg.bind[t],r=this._transform(i.transform,i.inside[i.to],"toWidget");s.isStopped()?(this._refreshMap||(s.queue({fn:this._notifyDataChangeCB,scope:this},this),this._refreshMap={}),this._refreshMap[t]=r):this.setWidgetProperty(t,r)}},_notifyDataChangeCB:function(){var e=this._refreshMap;if(e){this._refreshMap=null;for(var t in e)e.hasOwnProperty(t)&&this.setWidgetProperty(t,e[t])}},_onBoundPropertyChange:function(e,t){var i=this.getDom();if("tooltip"==e&&(i.title=t),"disabled"==e){var r=null!=i.tabIndex;if(t&&r&&i.removeAttribute("tabindex",0),!t&&!r){var a=this.getProperty("tabIndex");a&&(i.tabIndex=a)}}},delegate:function(e){var t=e.delegateTarget;if(!this._cfg.disabled&&!this._cfg.readOnly){this._initDone||("contentchange"==e.type&&(this.__initWhileContentChange=!0),this.initWidgetDom(t));var i="_dom_on"+e.type;return this[i]?this[i](e)!==!1:!0}},getDom:function(){return!this._domElt&&this._domReady&&this.initWidgetDom(),this._domElt},removeDelegation:function(){this._delegateId&&(r.remove(this._delegateId),delete this._delegateId)}}});
//*******************
//LOGICAL-PATH:aria/widgets/container/Container.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Size"),i=require("../../utils/Math"),r=require("../Widget"),a=require("../../core/TplClassLoader");module.exports=e.classDefinition({$classpath:"aria.widgets.container.Container",$extends:r,$constructor:function(e){this.$Widget.constructor.apply(this,arguments),this._cssClassNames=a.addPrintOptions(this._cssClassNames,e.printOptions),this._frame=null,this._sizeConstraints=!!(e.minWidth||e.maxWidth||e.minHeight||e.maxHeight),this._directInit=this._directInit||this._sizeConstraints},$statics:{INVALID_USAGE_AS_CONTAINER:"%1%2 widget cannot be used as a container ({@aria:%2}{/@aria:%2}); use the {@aria:%2 /} syntax instead."},$prototype:{initWidgetDom:function(e){this.$Widget.initWidgetDom.call(this,e),this._sizeConstraints&&this._updateContainerSize(!0)},_dom_oncontentchange:function(){this.__initWhileContentChange!==!0&&this._updateContainerSize(),this.__initWhileContentChange=!1},_onBoundPropertyChange:function(e){"height"===e||"width"===e?this._updateSize():this.$Widget._onBoundPropertyChange.apply(this,arguments)},_updateSize:function(){this._changedContainerSize=!0,this._updateContainerSize()},_updateContainerSize:function(e){var r=this._cfg,a=this.getDom();if(a){var s=this._getWidthConf(),n=this._getHeightConf();if(this._changedContainerSize||this._sizeConstraints){if(this._changedContainerSize){var o=r.widthMaximized||r.width,l=r.heightMaximized||r.height,c=i.normalize(o,s.min,s.max),u=i.normalize(l,n.min,n.max);if(a.style.width=o>-1?c+"px":"",a.style.height=l>-1?u+"px":"",this._frame){var h=o>-1?c:-1,p=l>-1?u:-1;this._frame.resize(h,p)}}var d=t.setContrains(a,s,n);d&&this._frame&&(this._frame.resize(d.width,d.height),a.parentNode&&e&&aria.utils.Delegate.delegate(aria.DomEvent.getFakeEvent("contentchange",a.parentNode))),this._changedContainerSize=d}}},_getWidthConf:function(){return{min:this._cfg.minWidth||0,max:this._cfg.maxWidth||1/0}},_getHeightConf:function(){return{min:this._cfg.minHeight||0,max:this._cfg.maxHeight||1/0}},_widgetMarkupBegin:e.empty,_widgetMarkupEnd:e.empty}});
//*******************
//LOGICAL-PATH:aria/widgets/container/Div.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Dom"),i=require("../frames/FrameFactory"),r=require("./DivStyle.tpl.css"),a=require("./Container");module.exports=e.classDefinition({$classpath:"aria.widgets.container.Div",$extends:a,$css:[r],$constructor:function(e){this.$Container.constructor.apply(this,arguments),this._frame||(this._frame=i.createFrame({skinnableClass:this._skinnableClass,sclass:e.sclass,state:"normal",width:e.width,height:e.height,printOptions:e.printOptions,cssClass:e.cssClass,block:e.block,scrollBarX:e.scrollBarX,scrollBarY:e.scrollBarY})),this._skinObj=this._frame.getSkinObject(),this._selected=!1},$destructor:function(){this._skinObj=null,this._initState=null,this._frame&&(this._frame.$dispose(),this._frame=null),this.$Container.$destructor.call(this)},$prototype:{_skinnableClass:"Div",_init:function(){var e=t.getDomElementChild(this.getDom(),0);this._frame.linkToDom(e),aria.widgets.container.Div.superclass._init.call(this)},_widgetMarkupBegin:function(e){this._frame.writeMarkupBegin(e)},_widgetMarkupEnd:function(e){this._frame.writeMarkupEnd(e)},updateSize:function(e){for(var t,i,r=!1,a=["maxWidth","maxHeight","width","height"],s=0,n=a.length;n>s;s++)t=a[s],i=e[t],i&&i!=this._cfg[t]&&(this._cfg[t]=i,r=!0);e.maximized!==this._cfg.maximized&&(this._cfg.maximized=e.maximized,r=!0),e.maximized?(this._cfg.widthMaximized=e.widthMaximized,this._cfg.heightMaximized=e.heightMaximized,r=!0):(this._cfg.widthMaximized=null,this._cfg.heightMaximized=null),r&&this.$Container._updateSize.call(this)}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/InputValidationHandler.js
//*******************
var e=require("../../Aria"),t=require("../../popups/Popup"),i=require("../container/Div"),r=require("../../templates/Layout");module.exports=e.classDefinition({$classpath:"aria.widgets.form.InputValidationHandler",$constructor:function(e){this._context=e._context,this._lineNumber=e._lineNumber,this._field=e.getValidationPopupReference(),this._WidgetCfg=e._cfg,this._validationPopup=null,this._preferredPositions={"top right":{reference:"top right",popup:"bottom left",offset:{left:-30}},"bottom right":{reference:"bottom right",popup:"top left",offset:{left:-30}},"top left":{reference:"top left",popup:"bottom right",offset:{right:-30}},"bottom left":{reference:"bottom left",popup:"top right",offset:{right:-30}}},this._div=null},$destructor:function(){this._closeValidation(),this._context=null,this._field=null,this._WidgetCfg=null,this._validationPopup=null},$prototype:{_checkErrorMessage:function(e){for(var t=null,i=0;i<e.length;i++)null===t&&e[i]&&(t=e[i]);return t},_renderValidationContent:function(e){var t;this._WidgetCfg.formatError?t=this._WidgetCfg.formatErrorMessages:this._WidgetCfg.error&&(t=this._WidgetCfg.errorMessages);var r=new i({sclass:"errortip",width:289,margins:"0 0 0 0"},this._context);e.registerBehavior(r),r.writeMarkupBegin(e),e.write(this._checkErrorMessage(t)),r.writeMarkupEnd(e),this._div=r},_openValidation:function(){if(!this._validationPopup){var e=this._context.createSection({fn:this._renderValidationContent,scope:this}),i=new t;this._validationPopup=i,this._validationPopup.$on({onAfterClose:this._afterValidationClose,onPositioned:this._onTooltipPositioned,scope:this}),r.$on({viewportResized:this._onViewportResized,scope:this}),this._validationPopup.open({section:e,domReference:this._field,preferredPositions:this._getPreferredPositions(),closeOnMouseClick:!0,closeOnMouseScroll:!1})}},_getPreferredPositions:function(){var e=this._WidgetCfg.errorTipPosition,t=[this._preferredPositions[e]];for(var i in this._preferredPositions)this._preferredPositions.hasOwnProperty(i)&&e!=i&&t.push(this._preferredPositions[i]);return t},_afterValidationClose:function(){this._validationPopup.$dispose(),this._div=null,this._validationPopup=null,r.$unregisterListeners(this)},_closeValidation:function(){this._validationPopup&&this._validationPopup.close()},_onTooltipPositioned:function(e){var t=e.position;if(t){var i=t.reference.replace(" right","Right").replace(" left","Left");"topRight"===i&&(i="normal");var r=this._div,a=r._frame;r.getDom(),a.checkState(i)&&a.changeState(i)}},_onViewportResized:function(){this._closeValidation(),this._openValidation()},show:function(){this._openValidation()},hide:function(){this._closeValidation()}}});
//*******************
//LOGICAL-PATH:aria/widgets/WidgetTrait.js
//*******************
var e=require("../Aria"),t=require("./form/InputValidationHandler");module.exports=e.classDefinition({$classpath:"aria.widgets.WidgetTrait",$constructor:function(){this.$assert(11,!1)},$prototype:{_validationPopupShow:function(){this._onValidatePopup||(this._onValidatePopup=new t(this)),this._onValidatePopup.show()},_validationPopupHide:function(){this._onValidatePopup&&this._onValidatePopup.hide()},getValidationPopupReference:function(){return this.getDom()}}});
//*******************
//LOGICAL-PATH:aria/widgets/action/ActionWidget.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Dom"),i=require("../../templates/DomEventWrapper"),r=require("../WidgetTrait"),a=require("../Widget");module.exports=e.classDefinition({$classpath:"aria.widgets.action.ActionWidget",$extends:a,$constructor:function(){this.$Widget.constructor.apply(this,arguments),this._actingDom=null},$destructor:function(){this._onValidatePopup&&(this._onValidatePopup.$dispose(),this._onValidatePopup=null),this._actingDom&&(this._actingDom=null),this.$Widget.$destructor.call(this)},$prototype:{$init:function(e){var t=r.prototype;for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])},_init:function(){var e=t.getDomElementChild(this.getDom(),0);e&&(this._actingDom=e,this._initActionWidget(e)),e=null},_initActionWidget:function(){},_dom_onclick:function(e){this._performAction(e)},_performAction:function(e){var t=this._cfg;if(t){var r;e&&(r=new i(e));var a=this.evalCallback(t.onclick,r);return r&&r.$dispose(),t.error&&t.errorMessages.length?this._validationPopupShow():this._validationPopupHide(),a}return!0},focus:function(){this._focusElt||this.getDom(),this._focusElt.focus()}}});
//*******************
//LOGICAL-PATH:aria/widgets/action/ButtonStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.action.ButtonStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n.xButton {\nbackground:none repeat scroll 0 0 transparent;\nborder:0 none;\ncursor:pointer;\n",25),aria.core.Browser.isFirefox?this.__$write("\nmargin: -1px -3px -1px -3px;\n",30):this.__$write("\nmargin: -1px 0px -1px 0px;\n",32),this.__$write("\npadding:0;\nvertical-align:top;\ntabindex:10;\n}\n\n",34),aria.core.Browser.isIE7&&this.__$write("\n.xButton .xFrameContent {\ntext-align: center;\n}\n",40),this.__$write("\n\nbutton.xButton::-moz-focus-inner {\nborder: 0;\n}\n\n.xButtonDisabled {\ncursor:default;\n}\n\n",44),this.macro_startLooping()}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_writeSkinClass:function(info){try{with(this)this.__$write("\n.xBTNbkg_",57),this.__$write(info.skinClassName,57),this.__$write(" {\n\n",57),this.macro_background("transparent",info.spriteURL,"no-repeat"),this.__$write("\n}\n",60)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeSkinClass",this["aria:currentLineNumber"]],_ex)}},macro_writeState:function(info){try{with(this){var buttonTextFont=info.state.frame.font;buttonTextFont&&buttonTextFont.fontWeight||(this.__$write("\n.",66),this.__$write(cssPrefix(info),66),this.__$write("c {\nfont-weight: ",66),this.__$write(info.skinClass.label.fontWeight,67),this.__$write("\n}\n",68))}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeState",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Button",this.useFrame=!0}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/action/Button.js
//*******************
var e=require("../../Aria"),t=require("../frames/FrameFactory"),i=require("../../utils/Dom"),r=require("../../DomEvent"),a=require("../../utils/String"),s=require("./ButtonStyle.tpl.css"),n=require("./ActionWidget"),o=require("../../core/Browser");module.exports=e.classDefinition({$classpath:"aria.widgets.action.Button",$extends:n,$css:[s],$constructor:function(e){this.$ActionWidget.constructor.apply(this,arguments),this._mouseOver=!1,this._mousePressed=!1,this._keyPressed=!1,this._focused=!1,this._updateState(!0),this._customTabIndexProvided=!0,this.currTarget=null,this._simpleHTML=aria.widgets.AriaSkinInterface.getSkinObject(this._skinnableClass,e.sclass).simpleHTML,this._simpleHTML||(this._frame=t.createFrame({height:e.height,width:e.width,state:this._state,sclass:e.sclass,skinnableClass:this._skinnableClass,scrollBarX:!1,scrollBarY:!1}))},$destructor:function(){this.currTarget=null,this._frame&&(this._frame.$dispose(),this._frame=null),this.$ActionWidget.$destructor.call(this)},$prototype:{_skinnableClass:"Button",_updateState:function(e){var t="normal",i=this._cfg;if(i.disabled?t="disabled":this._mousePressed&&this._mouseOver||this._keyPressed?t="msdown":this._mouseOver&&!this._focused?t="msover":this._focused&&(t=this._mouseOver?"msoverFocused":"normalFocused"),this._state=t,!e)if(this.getDom(),this._simpleHTML)"disabled"==t?this._focusElt.setAttribute("disabled","disabled"):this._focusElt.removeAttribute("disabled");else{this._frame.changeState(this._state);var r=o.isOldIE&&o.majorVersion>=8;"disabled"==t?(this._focusElt.className="xButton xButtonDisabled",r&&(this._focusElt.onfocusin=function(){this.blur()})):(this._focusElt.className="xButton",r&&(this._focusElt.onfocusin=null))}},_onBoundPropertyChange:function(e,t){this.$ActionWidget._onBoundPropertyChange.apply(this,arguments);var i=!1;"disabled"===e&&(i=!0,this._isDisabled=!!t),i&&(this._cfg[e]=t,this._updateState())},_initActionWidget:function(e){this._simpleHTML||this._frame.linkToDom(i.getDomElementChild(e,0)),this._focusElt=e},_widgetMarkup:function(t){var i=this._cfg,r=null!=i.tabIndex?' tabindex="'+this._calculateTabIndex()+'" ':"",s=o.isIE7||o.isIE6,n=e.testMode?' id="'+this._domId+'_button" ':"",l=i.disabled?"xButton xButtonDisabled":"xButton";if(this._simpleHTML){var c=i.disabled?" disabled='disabled' ":"",u="-1"!=i.width?" style='width:"+i.width+"px;' ":"";t.write(['<input type="button" value="',a.encodeForQuotedHTMLAttribute(i.label),'"',n,r,c,u,"/>"].join(""))}else{if(s)t.write(['<span class="'+l+'" style="margin: 0;"',r,n,">"].join(""));else{var h=o.isOldIE&&i.disabled?" onfocusin='this.blur()' ":"";t.write(['<button type="button" class="'+l+'"',h,r,n,">"].join(""))}this._frame.writeMarkupBegin(t),this._widgetMarkupContent(t),this._frame.writeMarkupEnd(t),t.write(s?"</span>":"</button>")}},_widgetMarkupContent:function(e){e.write(a.escapeHTML(this._cfg.label))},_dom_onmouseover:function(e){this.$ActionWidget._dom_onmouseover.call(this,e),this._mouseOver=!0,this._updateState()},_dom_onmouseout:function(e){this.$ActionWidget._dom_onmouseout.call(this,e),this._mouseOver=!1,this._mousePressed=!1,this._updateState()},_dom_onmousedown:function(e){this.focus(),this._mouseOver=!0,this._mousePressed=!0,this._updateState(),(o.isChrome||o.isSafari)&&(this.currTarget=e.currentTarget)},_dom_onmouseup:function(e){(o.isChrome||o.isSafari)&&(this._mousePressed&&e.currentTarget==this.currTarget&&this._performAction(e),this.currTarget=null),this._cfg&&(this._mousePressed=!1,this._updateState())},_dom_onkeydown:function(e){return e.keyCode==r.KC_SPACE||e.keyCode==r.KC_ENTER?(this._keyPressed=!0,this._updateState(),e.stopPropagation(),!1):!0},_dom_onclick:o.isChrome||o.isSafari?function(){this._keyPressed=!1}:function(e){return this._keyPressed?void(this._keyPressed=!1):void this._performAction(e)},_dom_onkeyup:function(e){return e.keyCode==r.KC_SPACE||e.keyCode==r.KC_ENTER?(this._keyPressed=!1,this._updateState(),this._performAction(e)?!0:(e.stopPropagation(),!1)):!0},_dom_onfocus:function(){this._focused=!0,this._updateState()},_dom_onblur:function(){this._focused=!1,this._updateState()}}});
//*******************
//LOGICAL-PATH:aria/widgets/action/LinkStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.action.LinkStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_writeState:function(info){try{with(this){var pseudoclass="";"normal"!=info.stateName&&(pseudoclass=":"+info.stateName),this.__$write("\n\na",27),this.__$write(pseudoclass,28),this.__$write(".xLink_",28),this.__$write(info.skinClassName,28),this.__$write(" {\ncolor:",28),this.__$write(info.state.color,29),this.__$write(";\n",29),info.state.textDecoration&&(this.__$write("\ntext-decoration:",31),this.__$write(info.state.textDecoration,31),this.__$write(";\n",31)),this.__$write("\n}\n",33)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeState",this["aria:currentLineNumber"]],_ex)}},macro_writeSkinClass:function(info){try{with(this){var skinClass=(info.skinClassName,info.skinClass);this.__$write("\na.xLink_disabled{\ncolor:",39),this.__$write(skinClass.disabledColor,40),this.__$write(";\ntext-decoration:none;\ncursor:default;\n}\n\n",40)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeSkinClass",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Link"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/action/Link.js
//*******************
var e=require("../../Aria"),t=require("../../utils/String"),i=require("./LinkStyle.tpl.css"),r=require("./ActionWidget");module.exports=e.classDefinition({$classpath:"aria.widgets.action.Link",$extends:r,$css:[i],$constructor:function(){this.$ActionWidget.constructor.apply(this,arguments),this._pressed=!1,this._customTabIndexProvided=!0,this._keyPressed=!1},$prototype:{_skinnableClass:"Link",_widgetMarkup:function(i){var r=this._cfg,a="xLink_"+r.sclass;r.disabled&&(a="xLink_disabled"),i.write(["<a",e.testMode?' id="'+this._domId+'_link"':"",' class="',a,'" href="javascript:(function(){})()"',null!=r.tabIndex?" tabindex="+this._calculateTabIndex()+'"':"",">",t.escapeHTML(r.label),"</a>"].join("")),r=null},_init:function(){this._focusElt=this.getDom().firstChild,this.$ActionWidget._init.call(this)},_dom_onkeydown:function(e){return e.keyCode==aria.DomEvent.KC_ENTER?(this._keyPressed=!0,e.stopPropagation(),!1):!0},_dom_onclick:function(e){return e.preventDefault(),this._keyPressed?(this._keyPressed=!1,!1):this.$ActionWidget._dom_onclick.apply(this,arguments)},_dom_onkeyup:function(e){return e.keyCode==aria.DomEvent.KC_ENTER?this._performAction(e)?!0:(e.stopPropagation(),!1):!0},_onBoundPropertyChange:function(e,t){this.$ActionWidget._onBoundPropertyChange.apply(this,arguments),"disabled"===e&&(this._cfg[e]=t,this._updateState())},_updateState:function(){var e=this._cfg,t="xLink_"+e.sclass;this._focusElt&&(e.disabled&&(t="xLink_disabled"),this._focusElt.className=t)}}});
//*******************
//LOGICAL-PATH:aria/widgets/calendar/ICalendarController.js
//*******************
var e=require("../../Aria"),t=require("../../templates/IModuleCtrl");module.exports=e.interfaceDefinition({$classpath:"aria.widgets.calendar.ICalendarController",$extends:t,$events:{focusChanged:"",update:"",dateClick:"",dateMouseOver:"",dateMouseOut:"",keyevent:""},$interface:{navigate:function(){},selectDay:function(){},setRanges:function(){},update:function(){},keyevent:function(){},dateClick:function(){},dateMouseOver:function(){},dateMouseOut:function(){},getDatePosition:function(){},notifyFocusChanged:function(){}}});
//*******************
//LOGICAL-PATH:aria/widgets/calendar/CfgBeans.js
//*******************
var e=require("../../Aria"),t=require("../../core/JsonTypes"),i=require("../../core/environment/EnvironmentBaseCfgBeans");module.exports=e.beanDefinitions({$package:"aria.widgets.calendar.CfgBeans",$namespaces:{json:t,AppCfg:i},$beans:{CalendarSettings:{$type:"json:Object",$properties:{value:{$type:"json:Date"},minValue:{$type:"json:Date"},maxValue:{$type:"json:Date"},displayUnit:{$type:"json:Enum",$enumValues:["M","W"],$default:"M"},numberOfUnits:{$type:"json:Integer",$minValue:1,$default:2},startDate:{$type:"json:Date"},firstDayOfWeek:{$type:"json:Integer",$minValue:0,$maxValue:6},monthLabelFormat:{$type:"json:String",$default:"MMMM yyyy"},dayOfWeekLabelFormat:{$type:"json:String",$default:"EE"},dateLabelFormat:{$type:"json:String",$default:"d"},completeDateLabelFormat:{$type:"AppCfg:FormatTypes"},label:{$type:"json:String"},showWeekNumbers:{$type:"json:Boolean"},showShortcuts:{$type:"json:Boolean",$default:!0},restrainedNavigation:{$type:"json:Boolean",$default:!0},focus:{$type:"json:Boolean"},ranges:{$type:"json:Array",$contentType:{$type:"Range",$mandatory:!0},$default:[]}}},CalendarModel:{$type:"json:Object",$properties:{settings:{$type:"CalendarSettings"},skin:{$type:"json:Object",$properties:{sclass:{$type:"json:String"},baseCSS:{$type:"json:String"},skinObject:{$type:"json:ObjectRef"},selectedClass:{$type:"json:String"}}},calendar:{$type:"json:Object",$properties:{startDate:{$type:"json:Date",$mandatory:!0},endDate:{$type:"json:Date",$mandatory:!0},daysOfWeek:{$type:"json:Array",$contentType:{$type:"DayOfWeek"},$mandatory:!0},startWeekIndex:{$type:"json:Integer",$mandatory:!0},endWeekIndex:{$type:"json:Integer",$mandatory:!0},weeks:{$type:"json:Array",$contentType:{$type:"Week"},$mandatory:!0},startMonthIndex:{$type:"json:Integer",$mandatory:!0},endMonthIndex:{$type:"json:Integer",$mandatory:!0},months:{$type:"json:Map",$contentType:{$type:"Month"},$mandatory:!0},previousPageEnabled:{$type:"json:Boolean",$mandatory:!0},nextPageEnabled:{$type:"json:Boolean",$mandatory:!0},today:{$type:"json:Date",$mandatory:!0}}}}},DayOfWeek:{$type:"json:Object",$properties:{label:{$type:"json:String"},day:{$type:"json:Integer",$minValue:0,$maxValue:6}}},Month:{$type:"json:Object",$properties:{label:{$type:"json:String",$mandatory:!0},monthKey:{$type:"json:String",$mandatory:!0},firstOfMonth:{$type:"json:Date",$mandatory:!0},weeks:{$type:"json:Array",$contentType:{$type:"Week"},$mandatory:!0},weeksInMonth:{$type:"json:Integer",$minValue:4,$maxValue:6,$mandatory:!0},wholeWeeksInMonth:{$type:"json:Integer",$minValue:3,$maxValue:4,$mandatory:!0},daysBeforeStartOfMonth:{$type:"json:Integer",$minValue:0,$maxValue:6,$mandatory:!0},daysInMonth:{$type:"json:Integer",$minValue:28,$maxValue:31,$mandatory:!0},daysAfterEndOfMonth:{$type:"json:Integer",$minValue:0,$maxValue:6,$mandatory:!0}},$mandatory:!0},Week:{$type:"json:Object",$properties:{overlappingDays:{$type:"json:Integer",$mandatory:!0},monthStart:{$type:"json:String",$mandatory:!1},month:{$type:"json:String",$mandatory:!1},monthEnd:{$type:"json:String",$mandatory:!1},indexInMonth:{$type:"json:Integer",$mandatory:!0},weekNumber:{$type:"json:Integer",$mandatory:!0},days:{$type:"json:Array",$contentType:{$type:"Date"},$mandatory:!0}}},Date:{$type:"json:Object",$properties:{jsDate:{$type:"json:Date",$mandatory:!0},label:{$type:"json:String",$mandatory:!0},monthKey:{$type:"json:String",$mandatory:!0},isFirstOfMonth:{$type:"json:Boolean",$mandatory:!1},isLastOfMonth:{$type:"json:Boolean",$mandatory:!1},isSelected:{$type:"json:Boolean",$mandatory:!1},isWeekend:{$type:"json:Boolean",$mandatory:!1},isToday:{$type:"json:Boolean",$mandatory:!1},isSelectable:{$type:"json:Boolean",$mandatory:!1},ranges:{$type:"json:Array",$contentType:{$type:"json:Object",$mandatory:!0,$properties:{range:{$type:"Range",$mandatory:!0},positionInRange:{$type:"json:Enum",$enumValues:["sameFromTo","from","to","fromTo"]}}},$mandatory:!1}},$mandatory:!0},DatePosition:{$type:"json:Object",$properties:{weekIndex:{$type:"json:Integer",$mandatory:!0},monthIndex:{$type:"json:Integer"},weekInMonthIndex:{$type:"json:Integer",$mandatory:!0},dayInWeekIndex:{$type:"json:Integer",$mandatory:!0},month:{$type:"Month",$mandatory:!0},week:{$type:"Week",$mandatory:!0},day:{$type:"Date",$mandatory:!0}}},Range:{$type:"json:Object",$properties:{fromDate:{$type:"json:Date",$mandatory:!0},toDate:{$type:"json:Date",$mandatory:!0},classes:{$type:"json:Object",$mandatory:!0,$properties:{sameFromTo:{$type:"json:String"},from:{$type:"json:String"},fromTo:{$type:"json:String"},to:{$type:"json:String"}}}}}}});
//*******************
//LOGICAL-PATH:aria/widgets/calendar/CalendarController.js
//*******************
var e=require("../../Aria"),t=require("./ICalendarController"),i=require("../../utils/Date");require("./CfgBeans");var r=require("../../utils/environment/Date"),a=require("../../utils/Array"),s=require("../../templates/ModuleCtrl"),n=require("../../core/JsonValidator"),o=function(e,t){return i.compare(e.fromDate,t.fromDate)},l=function(e,t){if(!e||!t)return e!==t;var i=e.length;if(t.length!=i)return!0;for(var r=0;i>r;r++){var a=e[r],s=t[r];if(a.range!==s.range||a.positionInRange!==s.positionInRange)return!0}return!1};module.exports=e.classDefinition({$classpath:"aria.widgets.calendar.CalendarController",$extends:s,$implements:[t],$constructor:function(){this.$ModuleCtrl.constructor.call(this),this._dataBeanName="aria.widgets.calendar.CfgBeans.CalendarModel",this._changedSettings={value:{},minValue:{},maxValue:{},startDate:{},displayUnit:{},numberOfUnits:{},firstDayOfWeek:{},monthLabelFormat:{},dayOfWeekLabelFormat:{},dateLabelFormat:{},completeDateLabelFormat:{},ranges:{}},this._changedSettingsNbr=12,this._hasRanges=!1},$destructor:function(){this._jsonListener&&(this.json.removeListener(this._calendarSettings,null,this._jsonListener),this._jsonListener=null),this._calendarData=null,this._calendarSettings=null,this.$ModuleCtrl.$destructor.call(this)},$prototype:{$hasFlowCtrl:!1,$publicInterfaceName:"aria.widgets.calendar.ICalendarController",_settingsProperties:{value:{isDate:!0},minValue:{isDate:!0},maxValue:{isDate:!0},startDate:{isDate:!0},displayUnit:{},numberOfUnits:{},firstDayOfWeek:{},monthLabelFormat:{},dayOfWeekLabelFormat:{},dateLabelFormat:{},completeDateLabelFormat:{},ranges:{}},_defaultKeyActions:{33:{increment:-1,incrementUnit:"M"},34:{increment:1,incrementUnit:"M"},35:{refDate:"maxValue"},36:{refDate:"minValue"},37:{increment:-1,incrementUnit:"D"},38:{increment:-7,incrementUnit:"D"},39:{increment:1,incrementUnit:"D"},40:{increment:7,incrementUnit:"D"}},_jsonDataChanged:function(e){var t=e.dataName,r=this._settingsProperties[t];if(r){var a=this._changedSettings[t];null==a&&(a={oldValue:e.oldValue,newValue:e.newValue},this._changedSettingsNbr++),(a.oldValue===e.newValue||r.isDate&&i.isSameDay(a.oldValue,e.newValue))&&(a=null,this._changedSettingsNbr--),this._changedSettings[t]=a}},init:function(e,t){e||(e={}),e.calendar={},e.settings||(e.settings={});var i=e.settings;this._data=e,this._calendarSettings=i,this._calendarData=e.calendar,i.startDate||(i.startDate=new Date),i.completeDateLabelFormat||(i.completeDateLabelFormat=r.getDateFormats().longFormat),null==i.firstDayOfWeek&&(i.firstDayOfWeek=r.getFirstDayOfWeek()),n.normalize({json:this._calendarSettings,beanName:"aria.widgets.calendar.CfgBeans.CalendarSettings"}),this.update(),this._jsonListener={fn:this._jsonDataChanged,scope:this},this.json.addListener(i,null,this._jsonListener,!0),this.$callback(t)},notifyFocusChanged:function(e){var t={name:"focusChanged",focus:e,cancelDefault:!1};return this.json.setValue(this._data.settings,"focus",e),this.$raiseEvent(t),t.cancelDefault},keyevent:function(e){var t={name:"keyevent",charCode:e.charCode,keyCode:e.keyCode,cancelDefault:!1},i=this._defaultKeyActions[t.keyCode];null!=i&&(t.cancelDefault=!0,this.json.inject(i,t,!1)),this.$raiseEvent(t);var r=this._transformDate(this._calendarSettings.value,t);return r&&this.selectDay({date:r}),t.cancelDefault===!0},getDatePosition:function(e){var t=this._calendarData,r=i.dayDifference(this._realStartDate,e),s=Math.floor(r/7);if(0>s||s>=t.weeks.length)return null;var n=t.weeks[s],o=r%7,l=n.days[o];this.$assert(228,i.isSameDay(e,l.jsDate));var c=null,u=null,h=t.months[l.monthKey];return null!=h&&(u=a.indexOf(t.months,h),this.$assert(239,h==t.months[u]),c=l.monthKey==n.month||l.monthKey==n.monthEnd?n.indexInMonth:0,this.$assert(245,h.weeks[c]==n)),{weekIndex:s,monthIndex:u,weekInMonthIndex:c,dayInWeekIndex:o,month:h,week:n,day:l}},dateMouseOver:function(e){var t={name:"dateMouseOver",date:e.date,cancelDefault:!1};return this.$raiseEvent(t),t.cancelDefault===!0},dateMouseOut:function(e){var t={name:"dateMouseOut",date:e.date,cancelDefault:!1};return this.$raiseEvent(t),t.cancelDefault===!0},dateClick:function(e){var t={name:"dateClick",date:e.date,cancelDefault:!1};return this.$raiseEvent(t),this._data&&t.cancelDefault!==!0&&this.selectDay({date:t.date}),t.cancelDefault===!0},navigate:function(e,t){e&&e.preventDefault&&e.preventDefault();var r=this._calendarData.startDate,a=this._transformDate(r,t);null!=a&&(i.isSameDay(r,a)||i.isSameDay(this._calendarSettings.startDate,a)||(this.json.setValue(this._calendarSettings,"startDate",a),this.update()))},selectDay:function(e){var t=e.date;(!t||this._isSelectable(t))&&(this.json.setValue(this._calendarSettings,"value",t),e.ensureVisible!==!1&&this._ensureDateVisible(t),this.update())},_ensureDateVisible:function(e){if(e){var t=this._calendarData;(i.dayDifference(e,t.startDate)>0||i.dayDifference(e,t.endDate)<0||this._changedSettings.startDate)&&this.json.setValue(this._calendarSettings,"startDate",e)}},_getMonthKey:function(e){return[e.getMonth(),e.getFullYear()].join("-")},setRanges:function(e){this.json.setValue(this._calendarSettings,"ranges",e),this.update()},_getFilteredRanges:function(){for(var e=this._realStartDate,t=this._realEndDate,r=this._calendarSettings.ranges,a=[],s=0,n=r.length;n>s;s++){var l=r[s],c=l.fromDate,u=l.toDate,h=i.compare(c,u)<=0&&i.compare(e,u)<=0&&i.compare(c,t)<=0;h&&a.push(l)}return a.sort(o)},_computeDayRanges:function(e,t){for(var r=null,a=0,s=t.length;s>a;a++){var n=t[a],o=i.compare(n.fromDate,e);if(o>0)break;var l=i.compare(e,n.toDate);l>0?(t.splice(a,1),s--,a--):(r||(r=[]),r.push({range:n,positionInRange:0===o?0===l?"sameFromTo":"from":0===l?"to":"fromTo"}))}return r},_updateRanges:function(e){var t=!this._hasRanges;this._hasRanges=!1;var i=this._getFilteredRanges();if(!t||0!==i.length)for(var r=this._calendarData.months,s=this._calendarData.weeks,n=0,o=s.length;o>n;n++)for(var c=s[n],u=0;7>u;u++){var h=c.days[u],p=this._computeDayRanges(h.jsDate,i);if(p&&(this._hasRanges=!0),e){var d=l(p,h.ranges);if(d){var g=r[h.monthKey];e.push({weekIndex:n,monthIndex:g?a.indexOf(r,g):null,weekInMonthIndex:h.monthKey==c.month||h.monthKey==c.monthEnd?c.indexInMonth:0,dayInWeekIndex:u,month:g,week:c,day:h}),this.json.setValue(h,"ranges",p)}}else this.json.setValue(h,"ranges",p);if(t&&0===i.length)return}},update:function(){if(0!==this._changedSettingsNbr){var e=this.json,t=this._changedSettings,r=this._calendarData,a=this._calendarSettings;t.minValue&&e.setValue(a,"minValue",i.removeTime(a.minValue)),t.maxValue&&e.setValue(a,"maxValue",i.removeTime(a.maxValue)),(t.value||t.minValue||t.maxValue)&&this._checkValue();var s=t.value,n=t.ranges,o=1==this._changedSettingsNbr&&(s||n)||2==this._changedSettingsNbr&&s&&n;if(o){if(s){var l=t.value.oldValue,c=a.value;if(l){var u=this.getDatePosition(l);u&&(u.day.isSelected=!1,s.oldValuePosition=u)}if(c){var h=this.getDatePosition(c);h&&(h.day.isSelected=!0,s.newValuePosition=h)}}n&&(n.changedPositions=[],this._updateRanges(n.changedPositions))}else{(t.firstDayOfWeek||t.dayOfWeekLabelFormat)&&e.setValue(r,"daysOfWeek",this._createDaysOfWeek()),e.setValue(r,"today",new Date);var p,d,g,m=new Date(a.startDate);"W"==a.displayUnit?(m=i.getStartOfWeek(m,a.firstDayOfWeek),p=new Date(m.getFullYear(),m.getMonth(),1,12),p=i.getStartOfWeek(p,a.firstDayOfWeek),d=new Date(m.getTime()),d.setDate(d.getDate()+7*a.numberOfUnits-1),g=new Date(d.getTime()),g.setDate(32),g.setDate(1)):(m=new Date(m.getFullYear(),m.getMonth(),1,12),p=i.getStartOfWeek(m,a.firstDayOfWeek),d=new Date(m.getTime()),d.setMonth(d.getMonth()+a.numberOfUnits),d.setDate(d.getDate()-1),g=new Date(d.getTime()),g.setDate(g.getDate()+1));var f=[],_=[];this._createMonthsAndWeeks(p,g,f,_),this._hasRanges=!1,e.setValue(r,"startDate",m),e.setValue(r,"endDate",d),e.setValue(r,"weeks",f),e.setValue(r,"months",_),e.setValue(r,"startMonthIndex",0),e.setValue(r,"endMonthIndex",_.length-1),e.setValue(r,"startWeekIndex",Math.floor(i.dayDifference(p,m)/7)),e.setValue(r,"endWeekIndex",Math.floor(i.dayDifference(p,d)/7)),this.$assert(128,r.endMonthIndex<_.length),this.$assert(129,r.endWeekIndex<f.length);var y=a.minValue,$=a.maxValue;e.setValue(r,"previousPageEnabled",!y||m>y),e.setValue(r,"nextPageEnabled",!$||$>d),this._realStartDate=p,this._realEndDate=g,this._updateRanges()}var v=this._changedSettings,C=this._changedSettingsNbr;this._changedSettings={},this._changedSettingsNbr=0,this.$raiseEvent({name:"update",properties:v,propertiesNbr:C,propertyshowShortcuts:a.showShortcuts})}},_transformDate:function(e,t){var i;if(null!=t.increment)if(null==e&&(e=this._calendarSettings.startDate),i=new Date(e),"M"==t.incrementUnit){var r=i.getMonth();i.setMonth(r+t.increment),(24+r+t.increment)%12!=i.getMonth()&&i.setDate(0)}else i.setDate("D"==t.incrementUnit?i.getDate()+t.increment:i.getDate()+7*t.increment);else if(t.refDate){var a=t.refDate;"minValue"==a?this._calendarSettings.minValue&&(i=this._calendarSettings.minValue):"maxValue"==a&&this._calendarSettings.maxValue&&(i=this._calendarSettings.maxValue)}else t.date&&(i=new Date(t.date));return i},_createDaysOfWeek:function(){for(var e=[],t=this._calendarSettings.dayOfWeekLabelFormat,r=i.getStartOfWeek(new Date,this._calendarSettings.firstDayOfWeek),a=0;7>a;a++)e.push({label:i.format(r,t),day:r.getDay()}),r.setDate(r.getDate()+1);return e},_createMonthsAndWeeks:function(e,t,i,r){for(var a=new Date(e.getTime()),s=1==a.getDate()?a.getMonth():null;t>a;){var n=this._createWeek(a);if(i.push(n),a.getMonth()!=s){if(null!=s){var o=this._createMonth(i,i.length-1);r.push(o),r[o.monthKey]=o}s=a.getMonth()}}},_createWeek:function(e){for(var t,r=0,a=[],s={days:a,indexInMonth:1+Math.floor((e.getDate()-2)/7),weekNumber:i.dayOfWeekNbrSinceStartOfYear(e)},n=0;7>n;n++){var o=this._createDay(e);a.push(o),t?0===r&&t!=o.monthKey&&(r=n):t=o.monthKey,1==e.getDate()&&(s.monthStart=o.monthKey,o.isFirstOfMonth=!0),e.setDate(e.getDate()+1),1==e.getDate()&&(s.monthEnd=o.monthKey,o.isLastOfMonth=!0)}return s.overlappingDays=r,0===r&&(s.month=t),s},_isSelectable:function(e){var t=this._calendarSettings,r=t.minValue,a=t.maxValue;return(!r||e>=r)&&(!a||a>=e||i.isSameDay(e,a))},_checkValue:function(){var e=this._calendarSettings,t=e.value,i=e.minValue,r=e.maxValue,a=t;null!=t&&(i&&i>t&&(a=i),r&&t>r&&(a=r),a!=t&&(i>r&&(a=null),this.json.setValue(e,"value",a)))},_createDay:function(e){var t=this._calendarSettings,r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12),a=e.getDay(),s={jsDate:r,label:i.format(r,t.dateLabelFormat),monthKey:this._getMonthKey(e),ranges:null};return(0===a||6===a)&&(s.isWeekend=!0),i.isSameDay(r,this._calendarData.today)&&(s.isToday=!0),i.isSameDay(r,t.value)&&(s.isSelected=!0),s.isSelectable=this._isSelectable(r),s},_createMonth:function(e,t){for(var r=e[t],a=r.days[0].monthKey,s=[],n={monthKey:a,weeks:s},o=t;o>=0;o--){var l=e[o];if(s.unshift(l),l.monthStart==a)break}var c=s[0];this.$assert(260,c.monthStart==a);var u=c.days[c.overlappingDays].jsDate;return n.firstOfMonth=u,n.label=i.format(u,this._calendarSettings.monthLabelFormat),n.weeksInMonth=s.length,n.daysBeforeStartOfMonth=c.overlappingDays,n.daysAfterEndOfMonth=r.overlappingDays>0?7-r.overlappingDays:0,n.daysInMonth=7*s.length-n.daysBeforeStartOfMonth-n.daysAfterEndOfMonth,n.wholeWeeksInMonth=s.length-(c.overlappingDays>0?1:0)-(r.overlappingDays>0?1:0),n}}});
//*******************
//LOGICAL-PATH:aria/widgets/calendar/CalendarStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.calendar.CalendarStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this),this.$CalendarStyleScript.constructor.call(this)},$destructor:function(){this.$CalendarStyleScript.$destructor.call(this),this.$WidgetStyle.$destructor.call(this)},$dependencies:["aria.widgets.calendar.CalendarStyleScript","aria.core.TplClassLoader"],$prototype:{macro_writeSkinClass:function(info){try{with(this){var skinClassName=info.skinClassName,prefix="x"+skinnableClassName+"_"+skinClassName,skinClass=info.skinClass;this.__$write("\n.",81),this.__$write(prefix,81),this.__$write("_general {\n",81),skinClass.generalBackgroundColor&&(this.__$write("\nbackground-color:",83),this.__$write(skinClass.generalBackgroundColor,83),this.__$write(";\n",83)),this.__$write("\n}\n.",85),this.__$write(prefix,86),this.__$write("_label {\nfont-weight:bold;\nmargin: 2px;\n}\n.",86),this.__$write(prefix,90),this.__$write("_general a:hover {\ntext-decoration: underline;\n}\ntable.",90),this.__$write(prefix,93),this.__$write("_month {\nfont-size:",93),this.__$write(skinClass.fontSize,94),this.__$write("px;\ntext-align: center;\nborder: 0px none;\nborder-collapse:separate;\nborder-spacing:0;\n",94),skinClass.fontFamily&&(this.__$write("\nfont-family:",100),this.__$write(skinClass.fontFamily,100),this.__$write(";\n",100)),skinClass.fontVariant&&(this.__$write("\nfont-variant:",103),this.__$write(skinClass.fontVariant,103),this.__$write(";\n",103)),this.__$write("\n}\n.",105),this.__$write(prefix,106),this.__$write("_monthTitle {\nwidth: 100%;\nborder-color:",106),this.__$write(skinClass.monthTitleBorderColor,108),this.__$write(";\nborder-style:solid;\nborder-width:1px 0;\ncolor:",108),this.__$write(skinClass.monthTitleColor,111),this.__$write(";\nfont-weight:bold;\nbackground-color:",111),this.__$write(skinClass.monthTitleBackgroundColor,113),this.__$write(";\npadding-top:",113),this.__$write(skinClass.monthTitlePaddingTop,114),this.__$write(";\npadding-bottom:",114),this.__$write(skinClass.monthTitlePaddingBottom,115),this.__$write(";\n",115),skinClass.monthTitleFontSize&&(this.__$write("\nfont-size:",117),this.__$write(skinClass.monthTitleFontSize,117),this.__$write("px;\n",117)),this.__$write("\n}\n.",119),this.__$write(prefix,120),this.__$write("_day {\nborder-width: 1px;\nwidth: 13px;\npadding:",120),this.__$write(skinClass.dayPadding,123),this.__$write(";\n",123),this.macro_dateStyle(skinClass,"day","day",getDayDefault(skinClass)),this.__$write("\n}\n.",125),this.__$write(prefix,126),this.__$write("_weekEnd {\n",126),this.macro_dateStyle(skinClass,"weekEnd","weekEnd"),this.__$write("\n}\n.",128),this.__$write(prefix,129),this.__$write("_selectable  {\ncursor: pointer;\n}\n.",129),this.__$write(prefix,132),this.__$write("_unselectable {\n",132),this.macro_dateStyle(skinClass,"unselectableDate","unselectable",getUnselectableDefault(skinClass)),this.__$write("\n}\n.",134),this.__$write(prefix,135),this.__$write("_today {\n",135),this.macro_dateStyle(skinClass,"today","today"),this.__$write("\n}\n.",137),this.__$write(prefix,138),this.__$write("_weekNumber {\nbackground-color:",138),this.__$write(skinClass.weekNumberBackgroundColor,139),this.__$write(";\nborder:1px solid ",139),this.__$write(skinClass.weekNumberBorderColor,140),this.__$write(";\nfont-weight:bold;\nwidth: 13px;\n}\n.",140),this.__$write(prefix,144),this.__$write("_weekDaysLabel {\nbackground-color:",144),this.__$write(skinClass.weekDaysLabelBackgroundColor,145),this.__$write(";\nborder:1px solid ",145),this.__$write(skinClass.weekDaysLabelBorderColor,146),this.__$write(";\nfont-weight:",146),this.__$write(skinClass.weekDaysLabelFontWeight,147),this.__$write(";\ncolor:",147),this.__$write(skinClass.weekDaysLabelColor,148),this.__$write(";\nwidth: 13px;\npadding:",148),this.__$write(skinClass.weekDaysLabelPadding,150),this.__$write(";\n}\n\n\n\n\n.",150),this.__$write(prefix,156),this.__$write("_day.",156),this.__$write(prefix,156),this.__$write("_selectable.",156),this.__$write(prefix,156),this.__$write("_selected {\n",156),this.macro_dateStyle(skinClass,"selectedDate","selected"),this.__$write("\n}\n.",158),this.__$write(prefix,159),this.__$write("_day.",159),this.__$write(prefix,159),this.__$write("_selectable.",159),this.__$write(prefix,159),this.__$write("_selected_from_to {\n",159),this.macro_dateStyle(skinClass,"selectedFromToDate"),this.__$write("\n}\n\n.",161),this.__$write(prefix,163),this.__$write("_day.",163),this.__$write(prefix,163),this.__$write("_selectable.",163),this.__$write(prefix,163),this.__$write("_selected_from {\n",163),this.macro_dateStyle(skinClass,"selectedFromDate"),this.__$write("\n}\n\n.",165),this.__$write(prefix,167),this.__$write("_day.",167),this.__$write(prefix,167),this.__$write("_selectable.",167),this.__$write(prefix,167),this.__$write("_selected_to {\n",167),this.macro_dateStyle(skinClass,"selectedToDate"),this.__$write("\n}\n\n.",169),this.__$write(prefix,171),this.__$write("_day.",171),this.__$write(prefix,171),this.__$write("_selectable.",171),this.__$write(prefix,171),this.__$write("_selected_same_from_to {\n",171),this.macro_dateStyle(skinClass,"selectedSameFromToDate"),this.__$write("\n}\n\n.",173),this.__$write(prefix,175),this.__$write("_day.",175),this.__$write(prefix,175),this.__$write("_selectable.",175),this.__$write(prefix,175),this.__$write("_focused {\n",175),this.macro_dateStyle(skinClass,"focusedDate"),this.__$write("\n}\n\n.",177),this.__$write(prefix,179),this.__$write("_day.",179),this.__$write(prefix,179),this.__$write("_selectable.",179),this.__$write(prefix,179),this.__$write("_mouseOver {\n",179),this.macro_dateStyle(skinClass,"mouseOverDate","mouseOver",getMouseOverDefault(skinClass)),this.__$write("\n}\n",181)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeSkinClass",this["aria:currentLineNumber"]],_ex)}},macro_dateStyle:function(skinClass,propertyName,oldPrefix,defaultValues){try{with(this){var obj=getStyleFor(skinClass,propertyName,oldPrefix,defaultValues);obj&&(isSet(obj.backgroundColor)&&(this.__$write("\nbackground-color: ",188),this.__$write(obj.backgroundColor,188),this.__$write(";\n",188)),isSet(obj.borderStyle)&&(this.__$write("\nborder-style: ",191),this.__$write(obj.borderStyle,191),this.__$write(";\n",191)),isSet(obj.borderColor)&&(this.__$write("\nborder-color: ",194),this.__$write(obj.borderColor,194),this.__$write(";\n",194)),isSet(obj.color)&&(this.__$write("\ncolor: ",197),this.__$write(obj.color,197),this.__$write(";\n",197)),isSet(obj.fontWeight)&&(this.__$write("\nfont-weight: ",200),this.__$write(obj.fontWeight,200),this.__$write(";\n",200)),isSet(obj.fontStyle)&&(this.__$write("\nfont-style: ",203),this.__$write(obj.fontStyle,203),this.__$write(";\n",203)))}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["dateStyle",this["aria:currentLineNumber"]],_ex)}},$init:function(e){aria.core.TplClassLoader._importScriptPrototype(aria.widgets.calendar.CalendarStyleScript,e)},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Calendar",this.weekEndDefault={backgroundColor:"#F2ECDE",borderColor:"#F2ECDE",color:"black"},this.todayDefault={borderColor:"black",backgroundColor:"transparent",color:"black"},this.selectedDateDefault={backgroundColor:"#FFCC66",borderColor:"black",color:"black"},this.focusedDateDefault={borderStyle:"dotted",borderColor:"black"},this.selectedFromDateDefault={backgroundColor:"#FFCC66",borderColor:"#FFCC66",color:"black",fontWeight:"bold"},this.selectedToDateDefault={backgroundColor:"#FFCC66",borderColor:"#FFCC66",color:"black",fontWeight:"bold"},this.selectedFromToDateDefault={backgroundColor:"#FFEE88",borderColor:"#FFEE88",color:"black"},this.selectedSameFromToDateDefault={backgroundColor:"#FFCC66",borderColor:"#FFCC66",color:"black",fontWeight:"bold"}}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/calendar/CalendarTemplate.tpl
//*******************
Aria.classDefinition({$classpath:"aria.widgets.calendar.CalendarTemplate",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$CalendarTemplateScript.constructor.call(this)},$destructor:function(){this.$CalendarTemplateScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.widgets.calendar.CalendarTemplateScript","aria.widgets.container.Div","aria.utils.String","aria.utils.Type","aria.utils.Date","aria.widgets.Icon","aria.core.TplClassLoader"],$resources:{res:"aria.resources.CalendarRes"},$prototype:{macro_main:function(){try{with(this)"M"==settings.displayUnit&&this.__$beginContainerWidget("aria.widgets.AriaLib","Div",{sclass:skin.skinObject.divsclass,margins:"0 0 0 0",block:!0,cssClass:skin.baseCSS+"general"},32)&&(this.macro_renderCalendar(),this.__$endContainerWidget())}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_renderCalendar:function(){try{with(this){settings.label&&(this.__$write('\n<div class="',45),this.__$write(this.$modifier("escapeforhtml",[skin.baseCSS]),45),this.__$write('label">',45),this.__$write(this.$modifier("escapeforhtml",[settings.label]),45),this.__$write("</div>\n",45));for(var startIndex=calendar.startMonthIndex,endIndex=calendar.endMonthIndex,index=startIndex;endIndex>=index;index++)this.__$write('\n<span style="display: inline-block; vertical-align: top; margin: 2px;">\n',48),this.macro_renderMonth(calendar.months[index],index==startIndex,index==endIndex),this.__$write("\n</span>\n",50);settings.showShortcuts&&(this.__$write('\n<div style="text-align: center; margin: 1px;">\n<a title="',53),this.__$write(this.$modifier("escapeforhtml",[this.$modifier("dateformat",[calendar.today,settings.completeDateLabelFormat])]),54),this.__$write('" tabIndex="-1" href="javascript:;" ',54),this.__$statementOnEvent("click",this.$normCallback({fn:"navigate",scope:moduleCtrl,args:{date:calendar.today}}),54),this.__$write(">",54),this.__$write(this.$modifier("escapeforhtml",[res.today]),54),this.__$write("</a>\n",54),this.__$insertSection(55,{id:"selectedDay",macro:"selectedDay"}),this.__$write("\n</div>\n",59))}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["renderCalendar",this["aria:currentLineNumber"]],_ex)}},macro_selectedDay:function(){try{with(this)settings.value&&(this.__$write('\n&nbsp;|&nbsp; <a title="',65),this.__$write(this.$modifier("escapeforhtml",[this.$modifier("dateformat",[settings.value,settings.completeDateLabelFormat])]),65),this.__$write('" tabIndex="-1" href="javascript:;" ',65),this.__$statementOnEvent("click",this.$normCallback({fn:"navigate",scope:moduleCtrl,args:{date:settings.value}}),65),this.__$write(">",65),this.__$write(this.$modifier("escapeforhtml",[res.selectedDate]),65),this.__$write("</a>\n",65))}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["selectedDay",this["aria:currentLineNumber"]],_ex)}},macro_renderMonth:function(month,first,last){try{with(this){this.__$write('\n<table class="',70),this.__$write(this.$modifier("escapeforhtml",[skin.baseCSS]),70),this.__$write('month" cellspacing="0" style="width: ',70),this.__$write(this.$modifier("escapeforhtml",[settings.showWeekNumbers?138:128]),70),this.__$write('px;">\n<thead>\n<tr>\n<th colspan="8">\n<div class="',70),this.__$write(this.$modifier("escapeforhtml",[skin.baseCSS]),74),this.__$write('monthTitle" style="position: relative;">\n',74),first&&(calendar.previousPageEnabled||!settings.restrainedNavigation)&&skin.skinObject.previousPageIcon&&(this.__$write('\n<div style="position: absolute; left: 0px; top: -2px; cursor: pointer;" ',76),this.__$statementOnEvent("click",this.$normCallback({fn:"navigate",args:{increment:-1,incrementUnit:"M"},scope:moduleCtrl}),76),this.__$write(">",76),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:skin.skinObject.previousPageIcon},76),this.__$write("</div>\n",76)),last&&(calendar.nextPageEnabled||!settings.restrainedNavigation)&&skin.skinObject.nextPageIcon&&(this.__$write('\n<div style="position: absolute; right: 0px; top: -2px; cursor: pointer;" ',79),this.__$statementOnEvent("click",this.$normCallback({fn:"navigate",args:{increment:1,incrementUnit:"M"},scope:moduleCtrl}),79),this.__$write(">",79),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:skin.skinObject.nextPageIcon},79),this.__$write("</div>\n",79)),this.__$write(this.$modifier("escapeforhtml",[month.label]),81),this.__$write("\n</div>\n</th>\n</tr>\n<tr>\n",82),settings.showWeekNumbers&&(this.__$write('<th  class="',86),this.__$write(this.$modifier("escapeforhtml",[skin.baseCSS]),86),this.__$write('weekNumber">&nbsp;</th>',86));var __v_1=calendar.daysOfWeek;void 0==calendar.daysOfWeek&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",87]);for(var day_ct=0,__v_2=__v_1.length,day_index=0;__v_2>day_index;day_index++){var day=__v_1[day_index];day_ct++,this.__$write('\n<th class="',88),this.__$write(this.$modifier("escapeforhtml",[skin.baseCSS]),88),this.__$write('weekDaysLabel">',88),this.__$write(this.$modifier("escapeforhtml",[day.label]),88),this.__$write("</th>\n",88)}this.__$write("\n</tr>\n</thead>\n<tbody ",90),this.__$statementOnEvent("click",this.$normCallback(clickDay),92),this.__$write(" ",92),this.__$statementOnEvent("mouseover",this.$normCallback(mouseOverDay),92),this.__$write(" ",92),this.__$statementOnEvent("mouseout",this.$normCallback(mouseOutDay),92),this.__$write(" ",92),this.__$writeId("month_"+month.monthKey,92),this.__$write(">\n",92);var nbweeks=0,__v_3=month.weeks;void 0==month.weeks&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",94]);for(var week_ct=0,__v_4=__v_3.length,week_index=0;__v_4>week_index;week_index++){var week=__v_3[week_index];week_ct++,nbweeks+=1,this.__$write("\n<tr>\n",96),settings.showWeekNumbers&&(this.__$write('<td class="',97),this.__$write(this.$modifier("escapeforhtml",[skin.baseCSS]),97),this.__$write('weekNumber">',97),0==week.overlappingDays||week.monthEnd==month.monthKey?this.__$write(this.$modifier("escapeforhtml",[week.weekNumber]),97):this.__$write("&nbsp;",97),this.__$write("</td>",97));var __v_5=week.days;void 0==week.days&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",98]);for(var day_ct=0,__v_6=__v_5.length,day_index=0;__v_6>day_index;day_index++){var day=__v_5[day_index];day_ct++,this.macro_renderDay(day,month)}this.__$write("\n</tr>\n",101)}for(;5>=nbweeks;nbweeks++)this.__$write("\n<tr>\n",104),settings.showWeekNumbers&&(this.__$write('<td class="',105),this.__$write(this.$modifier("escapeforhtml",[skin.baseCSS]),105),this.__$write('weekNumber" style="visibility: hidden;">&nbsp;</td>',105)),this.__$write('\n<td class="',106),this.__$write(this.$modifier("escapeforhtml",[skin.baseCSS]),106),this.__$write('day" colspan="7" style="visibility: hidden;">&nbsp;</td>\n</tr>\n',106);this.__$write("\n</tbody>\n</table>\n",109)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["renderMonth",this["aria:currentLineNumber"]],_ex)}},macro_renderDay:function(day,month){try{with(this){var jsDate=day.jsDate;day.monthKey==month.monthKey?(this.__$write("\n<td ",116),day.isSelectable&&(this.__$write(' data-date="',116),this.__$write(this.$modifier("escapeforhtml",[jsDate.getTime()]),116),this.__$write('" ',116)),this.__$write('\nclass="',117),this.__$write(this.$modifier("escapeforhtml",[getClassForDay(day)]),117),this.__$write('"\n>',117),this.__$write(this.$modifier("escapeforhtml",[day.label]),118),this.__$write("</td>\n",118)):this.__$write("\n<td />\n",120)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["renderDay",this["aria:currentLineNumber"]],_ex)}},$init:function(e){e.__$macrolibs={},e.__$width={},e.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.widgets.calendar.CalendarTemplateScript,e)},__$initTemplate:function(){try{with(this)this.calendar=data.calendar,this.settings=data.settings,this.skin=data.skin}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/Template.js
//*******************
var e=require("../Aria"),t=require("../templates/TemplateTrait"),i=require("../templates/TemplateCtxt"),r=require("../utils/Dom");require("../templates/CfgBeans");var a=require("../core/environment/Customizations"),s=require("./container/Container"),n=require("../core/JsonValidator");module.exports=e.classDefinition({$classpath:"aria.widgets.Template",$extends:s,$events:{ElementReady:""},$constructor:function(e){aria.widgets.Template.superclass.constructor.apply(this,arguments),-1!=e.width&&(this._cssClassNames+=e.xForceScrollbar?" xOverflowXScroll":" xOverflowXAuto"),-1!=e.height&&(this._cssClassNames+=e.yForceScrollbar?" xOverflowYScroll":" xOverflowYAuto"),this._defaultMargin=0,this._subTplDiv=null,this.subTplCtxt=null,this._needCreatingModuleCtrl=e.moduleCtrl&&null==e.moduleCtrl.getData,this._tplcfg={classpath:a.getTemplateCP(e.defaultTemplate),args:e.args,id:this._domId,originalId:this.getId()},this.tplLoadCallback=null},$destructor:function(){this.removeDelegation(),this._subTplDiv=null,this.subTplCtxt&&(this.subTplCtxt.$dispose(),this.subTplCtxt=null),this.tplLoadCallback=null,this._deleteTplcfg(),aria.widgets.Template.superclass.$destructor.call(this)},$prototype:{$init:function(e){var i=t.prototype;for(var r in i)i.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=i[r])},_directInit:!0,_errorWhileLoadingTemplate:function(){var e=this._subTplDiv;e&&(e.className="xTplContent",r.replaceHTML(e,"#ERROR WHILE LOADING TEMPLATE#")),this._deleteTplcfg(),this.$callback(this.tplLoadCallback,{success:!1})},_checkCfgConsistency:function(){var e=this._tplcfg,t=this._cfg;if(this._needCreatingModuleCtrl){if(!n.normalize({json:t.moduleCtrl,beanName:"aria.templates.CfgBeans.InitModuleCtrl"}))return void(this._cfgOk=!1)}else e.moduleCtrl=t.moduleCtrl;t.width>-1&&(e.width=t.width),t.height>-1&&(e.height=t.height),e.printOptions=t.printOptions,e.baseTabIndex=t.baseTabIndex},_onTplLoad:function(e,t){var r=this._tplcfg;if(!r)return void(t.autoDispose&&e.moduleCtrlPrivate.$dispose());var a=this._subTplDiv;r.tplDiv=a,r.div=this._domElt,r.data=this._cfg.data,e.moduleCtrl&&(r.moduleCtrl=e.moduleCtrl),r.isRootTemplate=!1,r.context=this._context,t.autoDispose&&(null==r.toDispose?r.toDispose=[e.moduleCtrlPrivate]:r.toDispose.push(e.moduleCtrlPrivate));var s=new i;this.subTplCtxt=s,s.parent=this._context;var e=s.initTemplate(r);e?(s.dataReady(),a&&s._cfg&&(a.className=s.getCSSClassNames(),s.$onOnce({Ready:this.__innerTplReadyCb,SectionRefreshed:{fn:this.__innerTpl1stRefreshed,args:{success:!0,templateCtxt:s},scope:this},scope:this}),s.$refresh()),this.tplcfg=null):(s.$dispose(),this.subTplCtxt=null,this._errorWhileLoadingTemplate()),a=null},__innerTpl1stRefreshed:function(e,t){this.$callback(this.tplLoadCallback,t)},_init:function(){aria.widgets.Template.superclass._init.call(this);var e=r.getDomElementChild(this._domElt,0);this._subTplDiv=e;var t=this.subTplCtxt;t&&(t.linkToPreviousMarkup(e),this.$callback(this.tplLoadCallback,{success:!0,templateCtxt:t}),t.viewReady()),this.isDiffered||(this.isDiffered=t&&!t._ready,this.isDiffered&&t.$on({Ready:{fn:this.__differedComplete,scope:this}}))},_widgetMarkup:function(t){var i=this._tplcfg;e.load({templates:[i.classpath],classes:this._needCreatingModuleCtrl?[this._cfg.moduleCtrl.classpath]:null,oncomplete:{scope:this,fn:this._onModuleCtrlLoad}});var r,a=this.subTplCtxt;a?(t.write('<div class="'+a.getCSSClassNames()+'">'),r=a.getMarkup(),t.write(null!=r?r:"#ERROR IN SUBTEMPLATE#"),t.write("</div>")):this._tplcfg?(t.write('<div class="xLDI"></div>'),this.isDiffered=!0):t.write("<div>#ERROR IN SUBTEMPLATE#</div>")},getDomElt:function(){return this._domElt},__differedComplete:function(){this.isDiffered=!1,this.$raiseEvent("ElementReady")}}});
//*******************
//LOGICAL-PATH:aria/widgets/TemplateBasedWidget.js
//*******************
var e=require("../Aria"),t=require("./Template"),i=require("./container/Container");module.exports=e.classDefinition({$classpath:"aria.widgets.TemplateBasedWidget",$extends:i,$events:{widgetContentReady:""},$destructor:function(){this._subTplModuleCtrl&&(this._subTplModuleCtrl.$unregisterListeners(this),this._subTplModuleCtrl=null),this._subTplCtxt=null,this._subTplData=null,this._tplWidget&&(this._tplWidget.$dispose(),this._tplWidget=null),aria.widgets.TemplateBasedWidget.superclass.$destructor.call(this)},$prototype:{__inherithCfg:["tooltip","tooltipId","tabIndex","margins","block","printOptions"],_initTemplate:function(e){if(this._cfgOk){for(var i=this._cfg,r=0,a=this.__inherithCfg.length;a>r;r+=1){var s=this.__inherithCfg[r];e.hasOwnProperty(s)||(e[s]=i[s])}i.defaultTemplate&&(e.defaultTemplate=i.defaultTemplate),i.id&&(e.id=i.id+"_t_"),this._tplWidget=new t(e,this._context,this._lineNumber),this._tplWidget.tplLoadCallback={fn:this._tplLoadCallback,scope:this}}},_onModuleEvent:function(){},_tplLoadCallback:function(e){e.success&&(this._subTplCtxt=e.templateCtxt,this._subTplModuleCtrl=e.templateCtxt.moduleCtrl,this._subTplData=this._subTplCtxt.data,this._subTplModuleCtrl&&this._subTplModuleCtrl.$on({"*":this._onModuleEvent,scope:this}),this._registerBindings(),this._tplWidget&&(this.initWidgetDom(this._tplWidget.getDom()),this.$raiseEvent("widgetContentReady")))},writeMarkup:function(e){return this._cfgOk?(this._tplWidget._delegateId=aria.utils.Delegate.add({fn:this.delegate,scope:this}),this._tplWidget.writeMarkup(e),void(this._domReady=!0)):aria.widgets.TemplateBasedWidget.superclass.writeMarkup.call(this,e)},initWidget:function(){this._cfgOk&&this._tplWidget.initWidget()}}});
//*******************
//LOGICAL-PATH:aria/widgets/calendar/Calendar.js
//*******************
var e=require("../../Aria");require("./CalendarController");var t=require("./CalendarStyle.tpl.css");require("./CalendarTemplate.tpl");var i=require("../TemplateBasedWidget"),r=require("../../core/Browser");module.exports=e.classDefinition({$classpath:"aria.widgets.calendar.Calendar",$extends:i,$css:[t],$constructor:function(e){this.$TemplateBasedWidget.constructor.apply(this,arguments);var t=this._cfg.sclass,i=aria.widgets.AriaSkinInterface.getSkinObject(this._skinnableClass,t);this._hasFocus=!1,this._initTemplate({defaultTemplate:i.defaultTemplate,moduleCtrl:{classpath:"aria.widgets.calendar.CalendarController",initArgs:{skin:{sclass:t,skinObject:i,baseCSS:"xCalendar_"+t+"_",selectedClass:"xCalendar_"+t+"_selected"},settings:{ranges:e.ranges,value:e.value,minValue:e.minValue,maxValue:e.maxValue,startDate:e.startDate,displayUnit:e.displayUnit,numberOfUnits:e.numberOfUnits,firstDayOfWeek:e.firstDayOfWeek,dateLabelFormat:e.dateLabelFormat,monthLabelFormat:e.monthLabelFormat,dayOfWeekLabelFormat:e.dayOfWeekLabelFormat,completeDateLabelFormat:e.completeDateLabelFormat,showWeekNumbers:e.showWeekNumbers,showShortcuts:e.showShortcuts,restrainedNavigation:e.restrainedNavigation,label:e.label,focus:this._hasFocus}}}})},$prototype:{_skinnableClass:"Calendar",_onModuleEvent:function(e){this._inOnBoundPropertyChange||("update"==e.name?(e.properties.startDate&&this.setProperty("startDate",this._subTplData.settings.startDate),e.properties.value&&(this.setProperty("value",this._subTplData.settings.value),this.evalCallback(this._cfg.onchange))):"dateClick"==e.name?this.evalCallback(this._cfg.onclick,e):"dateMouseOver"==e.name?this.evalCallback(this._cfg.onmouseover,e):"dateMouseOut"==e.name&&this.evalCallback(this._cfg.onmouseout,e))},_onBoundPropertyChange:function(e,t){this._inOnBoundPropertyChange=!0;try{"startDate"==e?this._subTplModuleCtrl.navigate({},{date:t}):"value"==e?this._subTplModuleCtrl.selectDay({date:t}):"ranges"==e&&this._subTplModuleCtrl.setRanges(t)}finally{this._inOnBoundPropertyChange=!1}},_dom_onkeydown:function(e){var t=this.getDom();this.sendKey(e.charCode,e.keyCode)&&(e.preventDefault(!0),t.focus())},_dom_onfocus:function(){this._hasFocus=!0,this._focusUpdate()},_dom_onblur:function(){this._hasFocus=!1,this._focusUpdate()},_tplLoadCallback:function(e){this.$TemplateBasedWidget._tplLoadCallback.call(this,e),e.success&&this._focusUpdate()},_focusUpdate:function(){var e=this._subTplModuleCtrl,t=this.getDom();if(e&&t&&null!=this._cfg.tabIndex&&this._cfg.tabIndex>=0){var i=e.notifyFocusChanged(this._hasFocus);if(!i){var a=t.style,s=aria.utils.VisualFocus?aria.utils.VisualFocus.getStyle():null;this._hasFocus?r.isIE6||r.isIE7?(a.border="1px dotted black",a.padding="0px"):null==s&&(a.outline="1px dotted black"):r.isIE6||r.isIE7?(a.border="0px",a.padding="1px"):null==s&&(a.outline="none")}}},sendKey:function(e,t){var i=this._subTplModuleCtrl;return i?i.keyevent({charCode:e,keyCode:t}):!1}}});
//*******************
//LOGICAL-PATH:aria/widgets/calendar/CalendarStyleScript.js
//*******************
var e=require("../../Aria");module.exports=e.tplScriptDefinition({$classpath:"aria.widgets.calendar.CalendarStyleScript",$prototype:{isSet:function(e){return null!=e&&"undefined"!=e},getStyleFor:function(e,t,i,r){var a=i?e:{};r=r||this[t+"Default"]||{};var s=e[t]||{};return{backgroundColor:s.backgroundColor||a[i+"BackgroundColor"]||r.backgroundColor,color:s.color||a[i+"Color"]||r.color,borderColor:s.borderColor||a[i+"BorderColor"]||r.borderColor,fontWeight:s.fontWeight||r.fontWeight,borderStyle:s.borderStyle||r.borderStyle,fontStyle:s.fontStyle||r.fontStyle}},getUnselectableDefault:function(e){var t=aria.widgets.AriaSkinInterface.getGeneral();return{backgroundColor:e.dayBackgroundColor,borderColor:e.dayBorderColor,color:t.colors.disabled}},getMouseOverDefault:function(e){return{backgroundColor:e.selectedBackgroundColor,borderColor:e.selectedBorderColor,color:e.selectedColor}},getDayDefault:function(e){return{backgroundColor:"transparent",borderColor:"transparent",color:"black",fontWeight:e.dayFontWeight||"normal",borderStyle:"solid"}}}});
//*******************
//LOGICAL-PATH:aria/widgets/calendar/CalendarTemplateScript.js
//*******************
var e=require("../../Aria");module.exports=e.tplScriptDefinition({$classpath:"aria.widgets.calendar.CalendarTemplateScript",$prototype:{onModuleEvent:function(e){if("update"==e.name){var t=e.properties.value,i=e.properties.ranges,r=1==e.propertiesNbr&&(t||i)||2==e.propertiesNbr&&t&&i;if(r){if(i)for(var a=i.changedPositions,s=0,n=a.length;n>s;s++)this.updateClass(a[s]);t&&(this.updateClass(t.oldValuePosition),this.updateClass(t.newValuePosition),e.propertyshowShortcuts&&this.$refresh({section:"selectedDay"}))}else this.$refresh()}},updateClass:function(e){if(null!=e&&null!=e.month){var t=this.$getChild("month_"+e.month.monthKey,e.weekInMonthIndex),i=t.getChild((this.settings.showWeekNumbers?1:0)+e.dayInWeekIndex);i.classList.setClassName(this.getClassForDay(e.day)),i.$dispose(),t.$dispose()}},clickDay:function(e){var t=e.target.getData("date");if(t){var i=new Date(parseInt(t,10));this.moduleCtrl.dateClick({date:i})}},getClassForDay:function(e){var t=[],i=this.skin.baseCSS;t.push(i+"day"),t.push(i+"mouseOut"),e.isWeekend&&e.isSelectable&&t.push(i+"weekEnd"),e.isSelected&&t.push(this.skin.selectedClass),e.isToday&&t.push(i+"today"),t.push(e.isSelectable?i+"selectable":i+"unselectable");var r=e.ranges;if(r)for(var a=0,s=r.length;s>a;a++){var n=r[a],o=n.range.classes[n.positionInRange];o&&t.push(o)}return t.join(" ")},mouseOverDay:function(e){var t=e.target.getData("date");if(t){var i=new Date(parseInt(t,10)),r=this.moduleCtrl.dateMouseOver({date:i});r||e.target.classList.setClassName(e.target.classList.getClassName().replace(this.skin.baseCSS+"mouseOut",this.skin.baseCSS+"mouseOver"))}},mouseOutDay:function(e){var t=e.target.getData("date");if(t){var i=new Date(parseInt(t,10)),r=this.moduleCtrl.dateMouseOut({date:i});r||e.target.classList.setClassName(e.target.classList.getClassName().replace(this.skin.baseCSS+"mouseOver",this.skin.baseCSS+"mouseOut"))}}}});
//*******************
//LOGICAL-PATH:aria/widgets/calendar/RangeCalendar.js
//*******************
var e=require("../../Aria");require("./CalendarController"),require("./CalendarTemplate.tpl");var t=require("../../utils/Function"),i=require("../TemplateBasedWidget"),r=require("../../core/Browser");module.exports=e.classDefinition({$classpath:"aria.widgets.calendar.RangeCalendar",$extends:i,$css:[require("./CalendarStyle.tpl.css")],$constructor:function(e){this.$TemplateBasedWidget.constructor.apply(this,arguments);var t=this._cfg.sclass,i=aria.widgets.AriaSkinInterface.getSkinObject(this._skinnableClass,t);this._hasFocus=!1,this._focusStyle=!1,this._dateToChange="fromDate",this._dateToKeep="toDate",this._initTemplate({defaultTemplate:i.defaultTemplate,moduleCtrl:{classpath:"aria.widgets.calendar.CalendarController",initArgs:{skin:{sclass:t,skinObject:i,baseCSS:"xCalendar_"+t+"_",selectedClass:"xCalendar_"+t+"_focused"},settings:{ranges:this._getRanges(),value:e.value,minValue:e.minValue,maxValue:e.maxValue,startDate:e.startDate,displayUnit:e.displayUnit,numberOfUnits:e.numberOfUnits,firstDayOfWeek:e.firstDayOfWeek,dateLabelFormat:e.dateLabelFormat,monthLabelFormat:e.monthLabelFormat,dayOfWeekLabelFormat:e.dayOfWeekLabelFormat,completeDateLabelFormat:e.completeDateLabelFormat,showWeekNumbers:e.showWeekNumbers,showShortcuts:!1,restrainedNavigation:e.restrainedNavigation,label:e.label,focus:this._hasFocus}}}})},$prototype:{_skinnableClass:"Calendar",_onModuleEvent:function(e){this._inOnBoundPropertyChange||("update"==e.name?e.properties.startDate&&this.setProperty("startDate",this._subTplData.settings.startDate):"dateClick"==e.name?(this.evalCallback(this._cfg.onclick,e),e.cancelDefault||this.dateSelect(e.date)):"dateMouseOver"==e.name?this.evalCallback(this._cfg.onmouseover,e):"dateMouseOut"==e.name&&this.evalCallback(this._cfg.onmouseout,e))},_getRanges:function(){var e=[],t=this._cfg;if(t.fromDate||t.toDate){var i="x"+this._skinnableClass+"_"+this._cfg.sclass;e.push({fromDate:t.fromDate||t.toDate,toDate:t.toDate||t.fromDate,classes:{from:i+"_selected_from",to:i+"_selected_to",fromTo:i+"_selected_from_to",sameFromTo:i+"_selected_same_from_to"}})}var r=t.ranges;return r&&(e=e.concat(r)),e},_onBoundPropertyChange:function(e,t){this._inOnBoundPropertyChange=!0;try{"startDate"==e?this._subTplModuleCtrl.navigate({},{date:t}):("fromDate"==e||"toDate"==e||"ranges"==e)&&this._subTplModuleCtrl.setRanges(this._getRanges())}finally{this._inOnBoundPropertyChange=!1}},_dom_onkeydown:function(e){var t=this.getDom();this.sendKey(e.charCode,e.keyCode)&&(e.preventDefault(!0),t.focus())},_dom_onfocus:function(){this._hasFocus=!0,this._focusUpdate()},_dom_onblur:function(){this._hasFocus=!1,this._focusUpdate()},_tplLoadCallback:function(e){this.$TemplateBasedWidget._tplLoadCallback.call(this,e),e.success&&this._focusUpdate()},_focusUpdate:function(){this._focusStyle==this._hasFocus||this._plannedFocusUpdate||(this._plannedFocusUpdate=setTimeout(t.bind(this._focusStyleUpdate,this),1))},_focusStyleUpdate:function(){if(this._plannedFocusUpdate=null,this._focusStyle!=this._hasFocus){var e=this._subTplModuleCtrl,t=this.getDom();if(e&&t&&null!=this._cfg.tabIndex&&this._cfg.tabIndex>=0){var i=e.notifyFocusChanged(this._hasFocus);if(!i){var a=t.style,s=aria.utils.VisualFocus?aria.utils.VisualFocus.getStyle():null;this._hasFocus?r.isIE6||r.isIE7?(a.border="1px dotted black",a.padding="0px"):null==s&&(a.outline="1px dotted black"):r.isIE6||r.isIE7?(a.border="0px",a.padding="1px"):null==s&&(a.outline="none")}e.selectDay(this._hasFocus?{date:this._cfg.fromDate||this._cfg.toDate,ensureVisible:!1}:{date:null}),this._focusStyle=this._hasFocus}}},sendKey:function(e,t){var i=this._subTplModuleCtrl;if(i){var r=this._subTplData.settings.value;return 13!=t&&32!=t||!r?i.keyevent({charCode:e,keyCode:t}):(this.dateSelect(r),!0)}return!1},dateSelect:function(e){var t={date:e,cancelDefault:!1};if(this.evalCallback(this._cfg.onDateSelect,t),t.cancelDefault!==!0){var i,r=this._cfg,a=this._dateToChange,s=this._dateToKeep,n={};n[a]=e,n[s]=r[s],n.fromDate>n.toDate?(i=n.fromDate,n.fromDate=n.toDate,n.toDate=i):(i=s,s=a,a=i),this.setProperty("fromDate",n.fromDate),this.setProperty("toDate",n.toDate),this._dateToChange=a,this._dateToKeep=s,this._subTplModuleCtrl.setRanges(this._getRanges()),this.evalCallback(r.onchange)}}}});
//*******************
//LOGICAL-PATH:aria/widgets/IconStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.IconStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$dependencies:["aria.widgets.environment.WidgetSettings"],$prototype:{macro_writeSkinClass:function(info){try{with(this){var widgetSettings=aria.widgets.environment.WidgetSettings.getWidgetSettings();info.skinClass.spriteURL&&(this.__$write("\n.xICN",29),this.__$write(info.skinClassName,29),this.__$write(" {\n",29),widgetSettings.middleAlignment||this.__$write("vertical-align:top;",30),this.__$write("\nfont-size:1px;\nwidth:",31),this.__$write(info.skinClass.iconWidth,32),this.__$write("px;\nheight:",32),this.__$write(info.skinClass.iconHeight,33),this.__$write("px;\n",33),this.macro_background(info.skinClass.backgroundColor,info.skinClass.spriteURL,"no-repeat top left"),info.skinClass.backgroundSize&&(this.__$write("\nbackground-size:",36),this.__$write(info.skinClass.backgroundSize,36),this.__$write("%;\n",36)),this.__$write("\nborder-top: ",38),this.__$write(info.skinClass.borderTop,38),this.__$write("px;\nborder-right: ",38),this.__$write(info.skinClass.borderRight,39),this.__$write("px;\nborder-bottom: ",39),this.__$write(info.skinClass.borderBottom,40),this.__$write("px;\nborder-left: ",40),this.__$write(info.skinClass.borderLeft,41),this.__$write("px;\n",41),this.macro_writeBorderRadius(info.skinClass),info.skinClass.borderStyle&&(this.__$write("\nborder-style: ",44),this.__$write(info.skinClass.borderStyle,44),this.__$write(";\n",44)),info.skinClass.borderColor&&(this.__$write("\nborder-color: ",47),this.__$write(info.skinClass.borderColor,47),this.__$write(";\n",47)),this.__$write("\n}\n",49)),"checkBoxes"!=info.skinClassName||widgetSettings.middleAlignment||(this.__$write("\n.xICN",53),this.__$write(info.skinClassName,53),this.__$write(" {\nvertical-align:middle;\n}\n",53))}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeSkinClass",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Icon"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/Icon.js
//*******************
var e=require("../Aria"),t=require("./IconStyle.tpl.css"),i=require("./Widget"),r=require("../core/TplClassLoader");module.exports=e.classDefinition({$classpath:"aria.widgets.Icon",$extends:i,$css:[t],$constructor:function(e){this.$Widget.constructor.apply(this,arguments),this._hasMarkup=!1;var t=e.sourceImage,i=t?{imageURL:t.path,width:t.width,height:t.height}:this._getIconInfo(e.icon);this._iconInfo=i,i||(this._cfgOk=!1),this._cssClassNames="xWidget"},$statics:{ICON_BADLY_FORMATTED:"%1Icon name is not valid: %2",ICON_NOT_FOUND:"%1Icon was not found: %2"},$prototype:{_widgetMarkup:function(e){var t=this._cfg,i=this._domId,r=t.tooltip,a=this._iconInfo;r=null!=r&&""!==r?'title="'+r+'" ':"";var s="";if(t.tooltipId){var n=aria.utils.Delegate;this._delegateId||(this._delegateId=n.add({fn:this.delegate,scope:this})),s=n.getMarkup(this._delegateId)+" "}if(!a.spriteURL&&t.icon){var o=aria.widgets.AriaSkinInterface.getSkinObject("Icon",t.icon.split(":")[0],!0).content[t.icon.split(":")[1]];e.write(['<span id="',i,'" class="xWidget ',o,'" ',"></span>"].join(""))}else e.write(['<span id="',i,'" class="',this._getIconClasses(a),'" ',r,s,'style="',this._getIconStyle(a),'"></span>'].join(""))},changeIcon:function(e){if(this._iconInfo){var t=this._getIconInfo(e);if(t){var i=this.getDom();i.style.cssText=this._getIconStyle(t),i.className=this._getIconClasses(t)}this._iconInfo=t}},getCurrentIconInfo:function(){return this._iconInfo},_getIconInfo:function(e){var t=e.split(":");if(2!==t.length)return this.$logError(this.ICON_BADLY_FORMATTED,[e]),null;var i=aria.widgets.AriaSkinInterface.getIcon(t[0],t[1]);return i?i:(this.$logError(this.ICON_NOT_FOUND,[e]),null)},_getIconStyle:function(e){var t=this._cfg,i=e.verticalAlign?"vertical-align: "+e.verticalAlign:"",r="margin: 0 0 0 0 ";if(null!=t.margins&&t.margins.match(/^(\d+|x) (\d+|x) (\d+|x) (\d+|x)$/)){var a=t.margins.split(" ");r=["margin:",a[0],"px ",a[1],"px ",a[2],"px ",a[3],"px; "].join("")}else null!=e.margins&&(r=e.margins);return t.sourceImage?[r,";padding:0;background:url(",e.imageURL,") no-repeat; width:",e.width,"px;height:",e.height,"px;",i].join(""):[r,";padding:0;background-position:-",e.iconLeft,"px -",e.iconTop,"px;",i].join("")},_getIconClasses:function(e){var t=this._cfg,i=r.addPrintOptions(this._cssClassNames,t.printOptions);return e.cssClass&&(i+=" "+e.cssClass),t.block&&(i+=" xBlock"),i},_dom_onclick:function(e){var t=this._cfg;if(t){var i;e&&(i=new aria.templates.DomEventWrapper(e));var r=this.evalCallback(t.onclick,i);return i&&i.$dispose(),r}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/container/DialogStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.container.DialogStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n.xDialog_titleBar {\nposition:absolute;\n}\n.xDialog_icon {\nfloat:left;\n}\n.xDialog_title {\nfloat:left;\n}\n.xDialog_close {\nfloat:right;\ncursor:pointer;\n}\n.xDialog_maximize {\nfloat:right;\ncursor:pointer;\n}\n\n.xDialog_resizable {\nposition: absolute;\nz-index: 100;\n}\n.xDialog_n-resize {\nheight: 8px;\nleft: 0;\nright: 14px;\ntop: -4px;\n}\n.xDialog_ne-resize {\nheight: 8px;\nright: 11px;\ntop: -3px;\nwidth: 8px;\nz-index: 110;\n}\n.xDialog_nw-resize {\nheight: 8px;\nleft: -3px;\ntop: -4px;\nwidth: 8px;\nz-index: 110;\n}\n.xDialog_s-resize {\nbottom: 10px;\nheight: 8px;\nleft: 0;\nright: 14px;\nz-index: 110;\n}\n.xDialog_se-resize {\nbottom: 6px;\nheight: 8px;\nright: 8px;\nwidth: 8px;\nz-index: 110;\n}\n.xDialog_sw-resize {\nbottom: 6px;\nheight: 8px;\nleft: -4px;\nwidth: 8px;\nz-index: 110;\n}\n.xDialog_e-resize {\nbottom: 10px;\nright: 10px;\ntop: 0;\nwidth: 8px;\n}\n.xDialog_w-resize {\nbottom: 10px;\nleft: -4px;\ntop: 0;\nwidth: 8px;\n}\n\n",24),this.macro_startLooping()}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_writeSkinClass:function(info){try{with(this){var skinClassName=info.skinClassName,skinClass=info.skinClass;this.__$write("\n\n.xDialog_",106),this.__$write(skinClassName,107),this.__$write("_titleBar {\ntop:",107),this.__$write(skinClass.titleBarTop,108),this.__$write("px;\nleft:",108),this.__$write(skinClass.titleBarLeft,109),this.__$write("px;\nright:",109),this.__$write(skinClass.titleBarRight,110),this.__$write("px;\nheight:",110),this.__$write(skinClass.titleBarHeight,111),this.__$write("px;\n",111),skinClass.titleBackgroundColor&&(this.__$write("\nbackground-color:",113),this.__$write(skinClass.titleBackgroundColor,113),this.__$write(";\n",113)),skinClass.titlePadding&&(this.__$write("\npadding:",116),this.__$write(skinClass.titlePadding,116),this.__$write(";\n",116)),skinClass.titleBorder&&(this.__$write("\nborder-width:",119),this.__$write(skinClass.titleBorder,119),this.__$write(";\n",119)),skinClass.titleBorderStyle&&(this.__$write("\nborder-style:",122),this.__$write(skinClass.titleBorderStyle,122),this.__$write(";\n",122)),skinClass.titleBorderColor&&(this.__$write("\nborder-color:",125),this.__$write(skinClass.titleBorderColor,125),this.__$write(";\n",125)),skinClass.titleBorderRadius&&(this.__$write("\nborder-radius:",128),this.__$write(skinClass.titleBorderRadius,128),this.__$write(";\n",128)),this.__$write("\n}\n.xDialog_",130),this.__$write(skinClassName,131),this.__$write("_title {\npadding-left: 6px;\npadding-top: 6px;\ncolor:",131),this.__$write(skinClass.titleColor,134),this.__$write(";\nfont-weight:bold;\n}\n.xDialog_",134),this.__$write(skinClassName,137),this.__$write("_icon {\npadding-left: 6px;\npadding-top: 6px;\n}\n.xDialog_",137),this.__$write(skinClassName,141),this.__$write("_close {\npadding-right: 9px;\npadding-top: 6px;\n}\n.xDialog_",141),this.__$write(skinClassName,145),this.__$write("_maximize {\npadding-right: 2px;\npadding-top: 6px;\n}\n",145)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeSkinClass",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Dialog"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/container/Dialog.js
//*******************
var e=require("../../Aria"),t=require("./Div"),i=require("../../popups/Popup"),r=require("../Icon"),a=require("../../utils/Dom"),s=require("../../utils/Delegate"),n=require("../../templates/NavigationManager"),o=require("../../utils/String"),l=require("../../utils/Math"),c=require("../../templates/Layout"),h=require("./DialogStyle.tpl.css"),u=require("./Container"),p=require("../../core/Timer");module.exports=e.classDefinition({$classpath:"aria.widgets.container.Dialog",$extends:u,$css:[h],$constructor:function(e){this.$Container.constructor.apply(this,arguments),this._skinObj=aria.widgets.AriaSkinInterface.getSkinObject(this._skinnableClass,e.sclass),this._popup=null,this._hasMarkup=!1,this._closeDelegateId=null,this._maximizeDelegateId=null,this._draggable=null;var t=e.handles||"n-resize,s-resize,e-resize,w-resize,ne-resize,nw-resize,se-resize,sw-resize";this._handlesArr=t.split(","),this._resizable=null,this._optionsBeforeMaximize=this._createOptionsBeforeMaximize(e),this._shadows={left:this._skinObj.shadowLeft||0,top:this._skinObj.shadowTop||0,right:this._skinObj.shadowRight||0,bottom:this._skinObj.shadowBottom||0},this._shadowsZero={left:0,top:0,right:0,bottom:0},this._cfg.widthMaximized=null,this._cfg.heightMaximized=null},$destructor:function(){this.close(),this.$Container.$destructor.call(this)},$statics:{MISSING_CONTENT_MACRO:"%1Missing 'macro' in Dialog configuration."},$prototype:{_skinnableClass:"Dialog",_onViewportResized:function(e){var t=this._domElt,i=this._cfg.maximized,r=e.viewportNewSize;t&&(t.style.width="",t.style.height="",this._updateDivSize(r),this._updateContainerSize()),i&&this._setMaximizedHeightAndWidth(r)},_checkCfgConsistency:function(e){"macro"in e||"bind"in e&&"macro"in e.bind||this.$logError(this.MISSING_CONTENT_MACRO);var t=aria.widgets.environment.WidgetSettings.getWidgetSettings().dialog;"movable"in e||(e.movable=t.movable),"movableProxy"in e||(e.movableProxy=t.movableProxy)},writeMarkupBegin:function(e){e.skipContent=!0,this.$logError(this.INVALID_USAGE_AS_CONTAINER,["Dialog"])},writeMarkupEnd:e.empty,_widgetMarkupBegin:function(e){e.beginSection({id:"__dialog_"+this._domId})},_widgetMarkupEnd:function(e){e.endSection()},__writeTitlebarButton:function(e,t,i,a){var n=this._cfg;e.write(['<span class="x',this._skinnableClass,"_",i," x",this._skinnableClass,"_",n.sclass,"_",i,'" ',s.getMarkup(t),">"].join(""));var o=new r({icon:this._skinObj[a]},this._context,this._lineNumber);e.registerBehavior(o),o.writeMarkup(e),e.write("</span>")},_widgetMarkup:function(e){this._widgetMarkupBegin(e),this._widgetMarkupEnd(e)},_writerCallback:function(e){var i,n,c=this._cfg,h=a._getViewportSize(),u=l;if(this._cfg.maximized?(i=h.height+this._shadows.top+this._shadows.bottom,n=h.width+this._shadows.left+this._shadows.right):(i=u.min(this._cfg.maxHeight,h.height),n=u.min(this._cfg.maxWidth,h.width)),this._div=new t({sclass:this._skinObj.divsclass,margins:"0 0 0 0",block:!0,cssClass:this._context.getCSSClassNames(!0)+" "+this._cfg.cssClass,height:this._cfg.height,minHeight:this._cfg.minHeight,maxHeight:i,width:this._cfg.width,minWidth:this._cfg.minWidth,maxWidth:n,scrollBarX:this._cfg.scrollBarX,scrollBarY:this._cfg.scrollBarY},this._context,this._lineNumber),e.registerBehavior(this._div),this._div.writeMarkupBegin(e),e.beginSection({id:"__dialogContent_"+this._domId,keyMap:[{key:"ESCAPE",callback:{fn:this.actionClose,scope:this}}]}),this._cfg.macro&&e.callMacro(this._cfg.macro),e.endSection(),this._div.writeMarkupEnd(e),c.resizable&&this._handlesArr)for(var p=this._handlesArr,d=0,g=p.length;g>d;d++)e.write(['<span class="x',this._skinnableClass,"_resizable xDialog_"+p[d]+'">',"</span>"].join(""));if(e.write(['<div class="xDialog_titleBar x',this._skinnableClass,"_",c.sclass,'_titleBar">'].join("")),c.icon){e.write(['<span class="xDialog_icon x',this._skinnableClass,"_",c.sclass,'_icon">'].join(""));var m=new r({icon:c.icon},this._context,this._lineNumber);e.registerBehavior(m),m.writeMarkup(e),e.write("</span>")}e.write(['<span class="x',this._skinnableClass,"_title x",this._skinnableClass,"_",c.sclass,'_title">',o.escapeHTML(c.title),"</span>"].join("")),c.closable&&(this._closeDelegateId=s.add({fn:this._onCloseBtnEvent,scope:this}),this.__writeTitlebarButton(e,this._closeDelegateId,"close","closeIcon")),c.maximizable&&(this._maximizeDelegateId=s.add({fn:this._onMaximizeBtnEvent,scope:this}),this.__writeTitlebarButton(e,this._maximizeDelegateId,"maximize","maximizeIcon")),e.write("</div>")},initWidget:function(){this.$Container.initWidget.apply(this,arguments),this._cfgOk&&this._checkCfgConsistency(this._cfg),this._init()},_init:function(){this.getProperty("visible")&&this._cfgOk&&this.open()},_onBoundPropertyChange:function(e,t){if("visible"===e)this._cfg.visible=t,t?this.open():this.close();else if("movable"===e)this._cfg.movable=t,this._popup&&this._popup.isOpen&&(t?this._loadAndCreateDraggable():this._destroyDraggable());else if("title"===e)this._cfg.title=t,this._titleDomElt&&(this._titleDomElt.innerHTML=t);else if("macro"===e){if(this._cfg.macro=t,this._popup)if(this._popup.isOpen){var i={section:"__dialogContent_"+this._domId,macro:t};this._context.$refresh(i)}else this.open()}else"xpos"===e||"ypos"===e?(this._cfg[e]=t,this.setProperty("center",!1),this.updatePosition()):"center"===e?(this._cfg.center=t,this.updatePosition()):"maximized"===e?this._toggleMaximize(t):"width"===e||"height"===e?this._onDimensionsChanged(!1):this.$Container._onBoundPropertyChange.apply(this,arguments)},_onDimensionsChanged:function(e){this._domElt&&(!this._cfg.maximized||e)&&(this._updateDivSize(a._getViewportSize()),this._cfg.center&&this.updatePosition())},_onCloseBtnEvent:function(e){"click"==e.type&&this.actionClose()},_onMaximizeBtnEvent:function(e){"click"==e.type&&this.actionToggleMaximize()},actionClose:function(){this._actionFromTitlebarButton("onCloseClick","visible",!1)},actionToggleMaximize:function(){this._actionFromTitlebarButton("onMaximizeClick","maximized",!this._cfg.maximized)},_actionFromTitlebarButton:function(e,t,i){var r=this._cfg[e],a=!1;if(r){var s={cancelDefault:!0};this.evalCallback(r,s),a=s.cancelDefault}a||this.changeProperty(t,i)},open:function(){var e=this._cfg,t={section:"__dialog_"+this._domId,writerCallback:{fn:this._writerCallback,scope:this}},r=this._context.getRefreshedSection(t),a=new i;if(this._popup=a,a.$on({onAfterOpen:this._onAfterPopupOpen,onEscape:this.actionClose,onAfterClose:this._onAfterPopupClose,scope:this}),e.closeOnMouseClick&&a.$on({onMouseClickClose:this._onMouseClickClose,scope:this}),a.open({section:r,keepSection:!0,absolutePosition:{left:e.xpos,top:e.ypos},center:e.center,maximized:e.maximized,offset:e.maximized?this._shadows:this._shadowsZero,modal:e.modal,maskCssClass:"xDialogMask",closeOnMouseClick:e.closeOnMouseClick,closeOnMouseScroll:!1,parentDialog:this}),c.$on({viewportResized:this._onViewportResized,scope:this}),this._cfg.maximized){var s=this._setBodyOverflow("hidden");this._setMaximizedHeightAndWidth(s)}},_onAfterPopupOpen:function(){var e=this._cfg,t=a.getDomElementChild;this._domElt=this._popup.domElement,this._titleBarDomElt=t(this._domElt,0,!0),this._titleDomElt=t(this._titleBarDomElt,e.icon?1:0),this._calculatePosition(),e.modal&&n.focusFirst(this._domElt),p.addCallback({fn:function(){this.evalCallback(e.onOpen)},scope:this,delay:4}),e.maximized||(e.movable&&this._loadAndCreateDraggable(),e.resizable&&this._loadAndCreateResizable())},_loadAndCreateDraggable:function(){aria.utils.dragdrop&&aria.utils.dragdrop.Drag?this._createDraggable():e.load({classes:["aria.utils.dragdrop.Drag"],oncomplete:{fn:this._createDraggable,scope:this}})},_loadAndCreateResizable:function(){aria.utils.resize&&aria.utils.resize.Resize?this._createResize():e.load({classes:["aria.utils.resize.Resize"],oncomplete:{fn:this._createResize,scope:this}})},_onMouseClickClose:function(){s.delegate(aria.DomEvent.getFakeEvent("blur",e.$window.document.activeElement)),this.actionClose()},close:function(){var e=this._cfg;this._popup&&(this._destroyDraggable(),this._destroyResizable(),e.maximized&&this._setBodyOverflow(this._optionsBeforeMaximize.bodyOverflow),this._domElt=null,this._titleBarDomElt=null,this._titleDomElt=null,this._closeDelegateId&&s.remove(this._closeDelegateId),this._maximizeDelegateId&&s.remove(this._maximizeDelegateId),this._popup.close(),this._popup.$unregisterListeners(this),this._popup.$dispose(),this._popup=null,c.$removeListeners({viewportResized:this._onViewportResized,scope:this}))},_onAfterPopupClose:function(){this.evalCallback(this._cfg.onClose)},_updateContainerSize:function(){this.$Container._updateContainerSize.call(this),this.updatePosition()},_updateDivSize:function(e){var t,i,r=l;this._cfg.maximized?(t=e.height+this._shadows.top+this._shadows.bottom,i=e.width+this._shadows.left+this._shadows.right):(t=r.min(this._cfg.maxHeight,e.height),i=r.min(this._cfg.maxWidth,e.width)),this._div.updateSize({maxHeight:t,maxWidth:i,height:this._cfg.height,width:this._cfg.width,heightMaximized:this._cfg.heightMaximized,widthMaximized:this._cfg.widthMaximized,maximized:this._cfg.maximized})},updatePosition:function(){this._popup&&this._popup.isOpen&&(this._popup.moveTo({center:this._cfg.center,absolutePosition:{left:this._cfg.xpos,top:this._cfg.ypos,height:this._cfg.maximized?this._cfg.heightMaximized:this._cfg.height,width:this._cfg.maximized?this._cfg.widthMaximized:this._cfg.width}}),this._calculatePosition())},_calculatePosition:function(){var e=a.calculatePosition(this._domElt);this._cfg.maximized||(this.setProperty("xpos",e.left),this.setProperty("ypos",e.top))},_calculateSize:function(){var e=a.getGeometry(this._domElt);this.setProperty("height",e.height),this.setProperty("width",e.width)},_toggleMaximize:function(e){this._cfg.maximized=e,e===!0?this._toggleMaximizeOn():this._toggleMaximizeOff()},_toggleMaximizeOn:function(){if(this._optionsBeforeMaximize=this._createOptionsBeforeMaximize(this._cfg),this.setProperty("center",!1),this.setProperty("maxWidth",null),this.setProperty("maxHeight",null),this._popup&&this._popup.isOpen){this._popup.conf.maximized=!0,this._popup.conf.offset=this._shadows;var e=this._setBodyOverflow("hidden");this._setMaximizedHeightAndWidth(e),this._destroyResizable(),this._destroyDraggable()}},_toggleMaximizeOff:function(){var e=this._optionsBeforeMaximize;e&&(this._popup&&(this._popup.conf.maximized=!1,this._popup.conf.offset=this._shadowsZero),this._setBodyOverflow(e.bodyOverflow),this.setProperty("maxWidth",e.maxWidth),this.setProperty("maxHeight",e.maxHeight),this.setProperty("width",e.width),this.setProperty("height",e.height),this.setProperty("heightMaximized",null),this.setProperty("widthMaximized",null),this._onDimensionsChanged(!1),e.center?this.setProperty("center",!0):(this.setProperty("xpos",e.xpos),this.setProperty("ypos",e.ypos)),this.updatePosition(),this._popup&&this._popup.isOpen&&(this._cfg.resizable&&this._loadAndCreateResizable(),this._cfg.movable&&this._loadAndCreateDraggable()))},_createOptionsBeforeMaximize:function(t){return{center:t.center,width:t.width,height:t.height,maxWidth:t.maxWidth,maxHeight:t.maxHeight,xpos:t.xpos,ypos:t.ypos,bodyOverflow:e.$window.document?e.$window.document.documentElement.style.overflow:""}},_setBodyOverflow:function(t){e.$window.document.documentElement.style.overflow=t;var i=a._getViewportSize();return this._onViewportResized({viewportNewSize:i}),i},_setMaximizedHeightAndWidth:function(e){var t=e.height+this._shadows.top+this._shadows.bottom,i=e.width+this._shadows.left+this._shadows.right;this.setProperty("heightMaximized",t),this.setProperty("widthMaximized",i),this._onDimensionsChanged(!0)},_createDraggable:function(){this._draggable=new aria.utils.dragdrop.Drag(this._domElt,{handle:this._titleBarDomElt,cursor:"move",proxy:this._cfg.movableProxy,constrainTo:a.VIEWPORT}),this._draggable.$on({dragstart:{fn:this._onDragStart,scope:this},move:{fn:this._onDragMove,scope:this},dragend:{fn:this._onDragEnd,scope:this}})},_createResize:function(){if(this._handlesArr){this._resizable={};for(var e=this._handlesArr,t=0,i=this._domElt,r=a.getDomElementChild,s=0,n=e.length;n>s;s++){var o,l=r(i,++t,!1),c=null;o=e[s],("n-resize"==o||"s-resize"==o)&&(c="y"),("w-resize"==o||"e-resize"==o)&&(c="x"),this._resizable[o]=new aria.utils.resize.Resize(this._domElt,{handle:l,cursor:o,axis:c}),this._resizable[o].$on({beforeresize:{fn:this._onResizeStart,scope:this},resize:{fn:this._onResizing,scope:this},resizeend:{fn:this._onResizeEnd,scope:this}})}}},_onDragStart:function(){this.evalCallback(this._cfg.ondragstart)},_onDragMove:function(){!this._cfg.movableProxy&&this._popup&&this._popup.refreshProcessingIndicators()},_onDragEnd:function(){this._popup&&this._popup.refreshProcessingIndicators(),this.setProperty("center",!1),this._calculatePosition(),this.updatePosition(),this.evalCallback(this._cfg.ondragend)},_onResizeStart:function(){this.evalCallback(this._cfg.beforeresize)},_onResizing:function(){this._popup&&this._popup.refreshProcessingIndicators()},_onResizeEnd:function(){this._calculatePosition(),this._calculateSize(),this.setProperty("center",!1),this._popup&&(this.close(),this.open(),this._popup.refreshProcessingIndicators()),this.evalCallback(this._cfg.resizeend)},_destroyDraggable:function(){this._draggable&&(this._draggable.$removeListeners({dragstart:{fn:this._onDragStart,scope:this},move:{fn:this._onDragMove,scope:this},dragend:{fn:this._onDragEnd,scope:this}}),this._draggable.$dispose(),this._draggable=null)},_destroyResizable:function(){if(this._cfg.resizable&&this._resizable){for(var e=this._handlesArr,t=0,i=e.length;i>t;t++){var r=e[t];this._resizable[r]&&(this._resizable[r].$dispose(),this._resizable[r]=null)}this._resizable=null}}}});
//*******************
//LOGICAL-PATH:aria/widgets/container/FieldsetStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.container.FieldsetStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_writeState:function(info){try{with(this){var state=info.state;this.__$write("\n.",26),this.__$write(cssPrefix(info),26),this.__$write("label {\nleft: ",26),this.__$write(state.label.left,27),this.__$write("px;\ntop: ",27),this.__$write(state.label.top,28),this.__$write("px;\npadding-top: ",28),this.__$write(state.label.paddingTop,29),this.__$write("px;\npadding-left: ",29),this.__$write(state.label.paddingLeft,30),this.__$write("px;\npadding-right: ",30),this.__$write(state.label.paddingRight,31),this.__$write("px;\npadding-bottom: ",31),this.__$write(state.label.paddingBottom,32),this.__$write("px;\nbackground-color: ",32),this.__$write(state.label.backgroundColor,33),this.__$write(";\nfont-weight: ",33),this.__$write(state.label.fontWeight,34),this.__$write(";\ncolor: ",34),this.__$write(state.label.color,35),this.__$write(";\nposition: absolute;\n}\n",35)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeState",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Fieldset",this.useFrame=!0}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/container/SplitterStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.container.SplitterStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_writeSkinClass:function(info){try{with(this){var skinClassName=info.skinClassName,skinClass=info.skinClass;if(this.__$write("\n\n\n\n.xSplitter_",26),this.__$write(skinClassName,29),this.__$write("_sHandleH {\nposition:absolute;\nheight:",29),this.__$write(skinClass.separatorHeight,31),this.__$write("px;\ncursor: n-resize;\ndisplay:block;\nz-index: 5;\n",31),this.macro_writeBorders(skinClass.separatorBorder),this.macro_background(skinClass.handleBackgroundColor,skinClass.handleSpriteURLh,"no-repeat center top"),this.__$write("\n}\n\n.xSplitter_",37),this.__$write(skinClassName,39),this.__$write("_sHandleV {\nposition:absolute;\nwidth:",39),this.__$write(skinClass.separatorHeight,41),this.__$write("px;\ncursor: e-resize;\ndisplay:block;\nz-index: 5;\n",41),this.macro_writeBorders(skinClass.separatorBorder),this.macro_background(skinClass.handleBackgroundColor,skinClass.handleSpriteURLv,"no-repeat right center"),this.__$write("\n}\n\n.xSplitter_",47),this.__$write(skinClassName,49),this.__$write("_sContainer{\nposition:relative;\ndisplay:inline-block;\n",49),(skinClass.borderTopLeftRadius||skinClass.borderTopRightRadius||skinClass.borderBottomLeftRadius||skinClass.borderBottomRightRadius)&&this.macro_writeBorderRadius(skinClass),this.__$write("\nbackground-color: ",55),this.__$write(skinClass.backgroundColor,55),this.__$write(";\nz-index: 1;\n}\n\n.xSplitter_",55),this.__$write(skinClassName,59),this.__$write("_sConstrained{\nwidth:100%;\nheight:100%;\ndisplay:inline-block;\nposition:absolute;\n}\n\n.xSplitter_",59),this.__$write(skinClassName,66),this.__$write("_sSplitBarProxyH{\nposition:absolute;\nheight:",66),this.__$write(skinClass.separatorHeight,68),this.__$write("px;\ncursor: n-resize;\ndisplay:block;\nz-index:9999;\nwidth:100%;\n",68),this.macro_writeBorders(skinClass.separatorBorder),this.macro_background(skinClass.proxyBackgroundColor,skinClass.proxySpriteURLh,"no-repeat center top"),this.__$write("\n}\n\n.xSplitter_",75),this.__$write(skinClassName,77),this.__$write("_sSplitBarProxyV{\nposition:absolute;\nwidth:",77),this.__$write(skinClass.separatorHeight,79),this.__$write("px;\ncursor: e-resize;\ndisplay:block;\nz-index:9999;\nheight:100%;\n",79),this.macro_writeBorders(skinClass.separatorBorder),this.macro_background(skinClass.proxyBackgroundColor,skinClass.proxySpriteURLv,"no-repeat right center"),this.__$write("\n}\n\n.xSplitter_",86),this.__$write(skinClassName,88),this.__$write("_sBdr{\n",88),skinClass.borderWidth||0==skinClass.borderWidth)this.__$write("\nborder:",90),this.__$write(skinClass.borderWidth,90),this.__$write("px solid ",90),this.__$write(skinClass.borderColor,90),this.__$write(" ;\n",90);else{var borderObj={topWidth:skinClass.borderTopWidth,bottomWidth:skinClass.borderBottomWidth,leftWidth:skinClass.borderLeftWidth,rightWidth:skinClass.borderRightWidth,color:skinClass.borderColor,style:"solid"};this.macro_writeBorders(borderObj)}this.__$write("\n}\n\n.xSplitter_",103),this.__$write(skinClassName,105),this.__$write("_sMacro {\nposition:absolute;\noverflow: auto;\ndisplay:block;\nz-index: 1;\n",105),this.macro_writeBorders(skinClass.panelBorder),this.__$write("\n}\n\n",111)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeSkinClass",this["aria:currentLineNumber"]],_ex)}},macro_writeBorders:function(borderObj,element){try{with(this)borderObj.style&&borderObj.color&&(this.__$write("\nborder-top-width:",117),this.__$write(this.$modifier("default",[borderObj.topWidth,0]),117),this.__$write("px;\nborder-bottom-width:",117),this.__$write(this.$modifier("default",[borderObj.bottomWidth,0]),118),this.__$write("px;\nborder-left-width:",118),this.__$write(this.$modifier("default",[borderObj.leftWidth,0]),119),this.__$write("px;\nborder-right-width:",119),this.__$write(this.$modifier("default",[borderObj.rightWidth,0]),120),this.__$write("px;\nborder-style:",120),this.__$write(borderObj.style,121),this.__$write(";\nborder-color:",121),this.__$write(borderObj.color,122),this.__$write(";\n",122))}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeBorders",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Splitter"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/container/TabPanelStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.container.TabPanelStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="TabPanel",this.useFrame=!0}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/container/TabStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.container.TabStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_writeStateOfTableFrame:function(info){try{with(this){this.$WidgetStyle.macro_writeStateOfTableFrame.apply(this,[info]);var prefix=cssPrefix(info),stateName=info.stateName;this.__$write("\n.",28),this.__$write(prefix,28),this.__$write("tlc,\n.",28),this.__$write(prefix,29),this.__$write("ts,\n.",29),this.__$write(prefix,30),this.__$write("trc,\n.",30),this.__$write(prefix,31),this.__$write("ls,\n.",31),this.__$write(prefix,32),this.__$write("m,\n.",32),this.__$write(prefix,33),this.__$write("rs,\n.",33),this.__$write(prefix,34),this.__$write("blc,\n.",34),this.__$write(prefix,35),this.__$write("bs,\n.",35),this.__$write(prefix,36),this.__$write("brc {\n",36),this.macro_writeCursor(stateName),this.__$write("\n}\n",38),/Focused/.test(stateName)&&(this.__$write("\n.",40),this.__$write(prefix,40),this.__$write("c {\noutline: 1px dotted;\n}\n",40))}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeStateOfTableFrame",this["aria:currentLineNumber"]],_ex)}},macro_writeStateOfSimpleFrame:function(info){try{with(this)this.$WidgetStyle.macro_writeStateOfSimpleFrame.apply(this,[info]),this.__$write("\n.",48),this.__$write(cssPrefix(info),48),this.__$write("frame {\n",48),this.macro_writeCursor(info.stateName),this.__$write("\n}\n",50)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeStateOfSimpleFrame",this["aria:currentLineNumber"]],_ex)}},macro_writeStateOfFixedHeightFrame:function(info){try{with(this)this.$WidgetStyle.macro_writeStateOfFixedHeightFrame.apply(this,[info]),this.__$write("\n.",55),this.__$write(cssPrefix(info),55),this.__$write("w {\n",55),this.macro_writeCursor(info.stateName),this.__$write("\n}\n",57)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeStateOfFixedHeightFrame",this["aria:currentLineNumber"]],_ex)}},macro_writeCursor:function(stateName){try{with(this)"disabled"==stateName?this.__$write("\ncursor: default;\n",62):this.__$write("\ncursor: pointer;\n",64)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeCursor",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Tab",this.useFrame=!0}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/controllers/reports/ControllerReport.js
//*******************
var e=require("../../../Aria");module.exports=e.classDefinition({$classpath:"aria.widgets.controllers.reports.ControllerReport",$constructor:function(){this.ok=null,this.cancelKeyStroke=!1,this.matchCorrectValueStart=!1,this.text=null,this.value,this.errorValue,this.errorMessages=[],this.caretPosStart=null,this.caretPosEnd=null},$destructor:function(){this.ok=null,this.internalValue=null,this.errorMessages=null}});
//*******************
//LOGICAL-PATH:aria/widgets/controllers/reports/DropDownControllerReport.js
//*******************
var e=require("../../../Aria"),t=require("./ControllerReport");module.exports=e.classDefinition({$classpath:"aria.widgets.controllers.reports.DropDownControllerReport",$extends:t,$constructor:function(){this.$ControllerReport.constructor.call(this),this.displayDropDown=null,this.repositionDropDown=!1},$destructor:function(){this.displayDropDown=null,this.$ControllerReport.$destructor.call(this)}});
//*******************
//LOGICAL-PATH:aria/widgets/controllers/TextDataController.js
//*******************
var e=require("../../Aria"),t=require("./reports/ControllerReport"),i=require("../../utils/Type");module.exports=e.classDefinition({$classpath:"aria.widgets.controllers.TextDataController",$events:{onCheck:""},$constructor:function(){this._dataModel={value:null,displayText:""}},$prototype:{checkKeyStroke:function(){return new t},checkText:function(e){var r=new t;return i.isString(e)||i.isNumber(e)?(r.value=e,r.ok=!0):r.ok=!1,r},checkValue:function(e){null==e&&(e="");var t=this.checkText(e);return t.text=t.value,t},getDataModel:function(){return this._dataModel},_getTypedValue:function(e,t,i,r){var a;if(0===e)return a={nextValue:t,caretPosStart:i,caretPosEnd:r};var s=String.fromCharCode(e);if(""===s)return a={nextValue:t,caretPosStart:i,caretPosEnd:r};if(null==t||""===t)return a={nextValue:s,caretPosStart:s.length,caretPosEnd:s.length};var n=t.length;if(i>=n)return a={nextValue:t+s,caretPosStart:i+s.length,caretPosEnd:i+s.length};var o=t.slice(0,i),l=t.slice(r,n);return a={nextValue:o+s+l,caretPosStart:i+s.length,caretPosEnd:i+s.length}},_getTypedValueOnDelete:function(e,t,i,r){var a={};if(null==t||""===t)return a={nextValue:"",caretPosStart:0,caretPosEnd:0};var s=t.length;i>=s&&(i=s);var n="",o="";return i!=r&&(e=aria.DomEvent.KC_DELETE),e==aria.DomEvent.KC_DELETE?(i!=r?(n=t.slice(0,i),o=t.slice(r,s)):(n=t.slice(0,i),o=i==s?"":t.slice(i+1,s)),a.caretPosStart=i,a.caretPosEnd=i):(1>i?(n="",a.caretPosStart=i,a.caretPosEnd=i):(n=t.slice(0,i-1),a.caretPosStart=i-1,a.caretPosEnd=i-1),o=t.slice(r,s)),a.nextValue=n+o,a},_raiseReport:function(e,t){this.$raiseEvent({name:"onCheck",report:e,arg:t})}}});
//*******************
//LOGICAL-PATH:aria/widgets/controllers/DropDownListController.js
//*******************
var e=require("../../Aria"),t=require("../../DomEvent"),i=require("./reports/DropDownControllerReport"),r=require("./TextDataController");module.exports=e.classDefinition({$classpath:"aria.widgets.controllers.DropDownListController",$extends:r,$constructor:function(){this.$TextDataController.constructor.call(this),this._listWidget=null,this._dataModel={value:null,text:"",initialInput:"",selectedIdx:-1,listContent:[]}},$destructor:function(){this._listWidget&&this._listWidget.$dispose&&this._listWidget.$dispose(),this._dataModel=null,this.$TextDataController.$destructor.call(this)},$prototype:{setListWidget:function(e){this._listWidget=e},getListWidget:function(){return this._listWidget},checkSelectionKeys:function(e){return e.keyCode==e.KC_ENTER},checkKeyStroke:function(e,r,a,s,n,o){var l,c,h=this._dataModel,u=t;if(this._listWidget&&(c=this.checkSelectionKeys(o)),!u.isNavigationKey(r)&&!c){var p,d=r==u.KC_DELETE||r==u.KC_BACKSPACE;return p=d?this._getTypedValueOnDelete(r,a,s,n):this._getTypedValue(e,a,s,n),h.initialInput=p.nextValue,this._checkInputKey(e,r,p.nextValue,p.caretPosStart,p.caretPosEnd)}if(this._listWidget){if(c||r!=u.KC_ESCAPE){if(c||r==u.KC_TAB){if(-1!=h.selectedIdx)null!=h.selectedIdx&&(h.text=this._getLabelFromListValue(h.listContent[h.selectedIdx]),h.value=h.listContent[h.selectedIdx].value),l=this.checkDropdownValue(h.value);else var l=new i;return l.displayDropDown=!1,r!=u.KC_TAB&&(l.cancelKeyStroke=!0),l}if(r==u.KC_ARROW_LEFT)return;l=new i;var g=h.selectedIdx;this._listWidget.sendKey(0,r);var m=h.selectedIdx;return g!=m&&(l.ok=!0,-1==m?(h.value=null,h.text=h.initialInput):(h.value=h.listContent[m].value,h.text=this._getLabelFromListValue(h.listContent[m])),l.text=h.text),l}return l=this.checkText(h.initialInput),l||(l=new i),l.displayDropDown=!1,l.text=h.initialInput,l.value=l.text,h.value=null,l}return l=r==u.KC_ARROW_DOWN?this._checkInputKey(e,r,a,s,n):new i,l&&r!=u.KC_TAB&&(l.cancelKeyStroke=r==u.KC_ESCAPE),l},checkDropdownValue:function(e){return this.checkValue(e)},_checkInputKey:function(){var e=new i;return e.ok=!0,e.cancelKeyStroke=!1,e.displayDropDown=this._dataModel.listContent.length>0,e},_getLabelFromListValue:function(e){return e.label}}});
//*******************
//LOGICAL-PATH:aria/widgets/controllers/AutoCompleteController.js
//*******************
var e=require("../../Aria"),t=require("../../DomEvent"),i=require("../../utils/Json"),r=require("../../templates/RefreshManager"),a=require("./reports/DropDownControllerReport"),s=require("../../utils/Type"),n=require("../../html/controllers/Suggestions"),o=require("../../$resources").file(__dirname,"../WidgetsRes"),l=require("./DropDownListController"),c=require("../../core/JsonValidator");!function(){var h;module.exports=e.classDefinition({$classpath:"aria.widgets.controllers.AutoCompleteController",$extends:l,$resources:{res:o},$onload:function(){h=s},$onunload:function(){h=null},$constructor:function(){this.$DropDownListController.constructor.call(this),this.autoFill=!1,this.freeText=!0,this.expandButton=!1,this._pendingRequestNb=0,this.maxlength=-1,this._resetFocus=!1,this.selectionKeys=null,this.preselect=null,this._init()},$destructor:function(){this.dispose(),this.$DropDownListController.$destructor.call(this)},$prototype:{$init:function(e){var t=n.prototype;for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])},getDefaultTemplate:function(){return this._resourcesHandler.getDefaultTemplate()},checkText:function(e){var t=this._dataModel;if(""!==e&&e!==t.text)return t.text=e,this._pendingRequestNb+=1,this._resourcesHandler.getSuggestions(e,{fn:this._suggestionsCallback,scope:this,args:{nextValue:e,triggerDropDown:!1}}),null;var i=new a;return""===e?(t.value=null,t.text="",i.ok=!0,i.value=null):(this.freeText?(i.ok=!0,this._pendingRequestNb>0&&!t.value&&(i.value=t.text)):t.value||(this.expandButton&&t.listContent&&this._checkValueList()?i.ok=!0:(i.ok=!1,i.value=null,i.errorMessages.push(this.res.errors["40020_WIDGET_AUTOCOMPLETE_VALIDATION"]))),t.value&&(i.value=t.value)),i},_checkValueList:function(){for(var e=!1,t=this._dataModel.listContent,i=0,r=t.length;r>i;i+=1)if(this._dataModel.text===t[i].value.label){e=!0;break}return e},checkValue:function(e){var t=new a,i=this._dataModel;if(null==e)i.text=this._pendingRequestNb>0&&i.text?i.text:"",i.value=null,t.ok=!0;else if(e&&!h.isString(e))if(c.check(e,this._resourcesHandler.SUGGESTION_BEAN)){var r=this._getLabelFromSuggestion(e);i.text=r,i.value=e,t.ok=!0}else i.value=null,t.ok=!1,this.$logError("Value does not match definition for this autocomplete: "+this._resourcesHandler.SUGGESTION_BEAN,[],e);else h.isString(e)&&(i.text=e),this.freeText?(t.ok=!0,i.value=e):(t.ok=!1,i.value=null);return t.value=i.value,t.text=i.text,t},_checkInputKey:function(e,i,r,a,s){if(!(this.maxlength>0&&r.length>this.maxlength)){this._dataModel.value=this.freeText?r:null,this._dataModel.text=r,this._typeTimout&&(clearTimeout(this._typeTimout),this._typeTimout=null);var n=this,o=t;return i==o.KC_ARROW_DOWN&&!r&&n.expandButton?void n.toggleDropdown("",!!n._listWidget):(this._typeTimout=setTimeout(function(){n._typeTimout=null,n._pendingRequestNb+=1,n._resourcesHandler.getSuggestions(r,{fn:n._suggestionsCallback,scope:n,args:{nextValue:r,triggerDropDown:!0,caretPosStart:a,caretPosEnd:s}})},10),null)}},_suggestionsCallback:function(e,t){this._pendingRequestNb-=1;var s=null,n=null,o=!1;null!=e&&("suggestions"in e?(s=e.suggestions,n=e.error,o=e.repositionDropDown):s=e);var l=t.nextValue,c=t.triggerDropDown,h=-1,u=this._dataModel;if(u&&l==u.text||t.keepSelectedValue){var p=null!==s;if(p){if(t.keepSelectedValue)for(var d=u.value?u.value.code:null,g=0;g<s.length;g+=1)s[g].exactMatch=s[g].code===d;h=this._prepareSuggestionsAndMatch(s,l)}else s=[];var m=s.length>0;this._resetFocus=s.length>0||!this.expandButton,r.stop();var f=i;f.setValue(u,"selectedIdx",-1),f.setValue(u,"listContent",s),f.setValue(u,"selectedIdx",h);var _=new a;_.text=l,_.caretPosStart=t.caretPosStart,_.caretPosEnd=t.caretPosEnd,u.value=-1!=h?u.listContent[h].value:this.freeText&&l?l:null,_.value=u.value,_.cancelKeyStroke=!0,null!=n?_.ok=!n:this.freeText||!p||m?_.ok=!0:(_.ok=!1,_.errorMessages.push(this.res.errors["40020_WIDGET_AUTOCOMPLETE_VALIDATION"])),_.ok&&p&&!m&&(u.value=l),_.displayDropDown=m&&c,_.repositionDropDown=o;var y={};y.stopValueProp=!0,this._raiseReport(_,y),r.resume()}},_prepareSuggestionsAndMatch:function(e,t){for(var i,r,a=-1,s=0,n=e.length;n>s;s+=1){i=e[s],-1==a&&i.exactMatch&&(a=s),r=this._getLabelFromSuggestion(i);var o={entry:t,label:r,value:i};e[s]=o}return"none"===this.preselect?-1:a},_getLabelFromSuggestion:function(e){return this._resourcesHandler.suggestionToLabel(e)},_getLabelFromListValue:function(e){return this.autoFill?this._getLabelFromSuggestion(e.value):null},getDisplayTextFromValue:function(e){var t=e?this._getLabelFromSuggestion(e):"";return t?t:e},toggleDropdown:function(e,t){this._resourcesHandler.getAllSuggestions({fn:this._suggestionsCallback,scope:this,args:{nextValue:e,triggerDropDown:!t,keepSelectedValue:!0,allSuggestions:!0}})},_validateModifiers:function(e,t){return t.altKey==!!e.alt&&t.shiftKey==!!e.shift&&t.ctrlKey==!!e.ctrl},checkSelectionKeys:function(e){for(var t,i=!1,r=e.keyCode,a=0;a<this.selectionKeys.length;a++)if(t=this.selectionKeys[a],this._validateModifiers(t,e))if(s.isNumber(t.key)){if(t.key===r){i=!0;break}}else{if("undefined"!=typeof t.key&&e["KC_"+t.key.toUpperCase()]==r){i=!0;break}if("undefined"!=typeof t.key&&String.fromCharCode(e.charCode)==t.key){i=!0;break}}return i}}})}();
//*******************
//LOGICAL-PATH:aria/widgets/controllers/DatePickerController.js
//*******************
var e=require("../../Aria"),t=require("./reports/ControllerReport"),i=require("../../utils/Json"),r=require("./DateController");module.exports=e.classDefinition({$classpath:"aria.widgets.controllers.DatePickerController",$extends:r,$constructor:function(){this.$DateController.constructor.call(this),this._calendar=null,this._dataModel.calendarValue=null},$destructor:function(){this._calendar=null,this.$DateController.$destructor.call(this)},$prototype:{setCalendar:function(e){this._calendar=e},checkText:function(){var e=this.$DateController.checkText.apply(this,arguments);return e.ok&&i.setValue(this._dataModel,"calendarValue",this._dataModel.jsDate),e},checkValue:function(){var e=this.$DateController.checkValue.apply(this,arguments);return e.ok&&i.setValue(this._dataModel,"calendarValue",this._dataModel.jsDate),e},checkKeyStroke:function(e,i,r){if(this._calendar){if(13==i||32==e||9==i){var a=this.checkValue(this._dataModel.calendarValue);return a.displayDropDown=!1,a.cancelKeyStroke=9!=i,a}var a=new t;return a.text=r,27==i?(a.displayDropDown=!1,a.caretPosStart=0,a.caretPosEnd=r.length):a.cancelKeyStroke=this._calendar.sendKey(e,i),a.text=r,a}if(40==i){var a=this.checkText(r);return a.cancelKeyStroke=!0,a.displayDropDown=!0,a}return this.$DateController.checkKeyStroke.apply(this,arguments)},toggleDropdown:function(e,t){var i=this.checkText(e);return i.displayDropDown=!t,i.ok=i.ok||!e,i}}});
//*******************
//LOGICAL-PATH:aria/widgets/controllers/MultiAutoCompleteController.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Array"),i=require("../../utils/Json"),r=require("../../utils/String"),a=require("./AutoCompleteController"),s=require("../../utils/Type"),n=require("../../core/JsonValidator");!function(){var o,l;module.exports=e.classDefinition({$classpath:"aria.widgets.controllers.MultiAutoCompleteController",$extends:a,$onload:function(){o=s,l=t},$onunload:function(){o=null,l=null},$constructor:function(){this.$AutoCompleteController.constructor.call(this),this.freeText=!1,this.selectedSuggestions=[],this._isExpanded=!1,this._editedSuggestionIndex=-1,this._init()},$prototype:{checkText:function(e){var t=this._dataModel,i=r.trim(e);if(""!==e&&e!==t.text)return t.text=i,this._resourcesHandler.getSuggestions(i,{fn:this._suggestionsCallback,scope:this,args:{nextValue:i,triggerDropDown:!1}}),null;var a=new aria.widgets.controllers.reports.DropDownControllerReport;if(this.maxOptions&&this.selectedSuggestions.length==this.maxOptions&&(i=""),""===i)t.value=null,t.text="",a.ok=!0;else if(this.freeText){a.ok=!0;var s;s=t.value||i,t.value=null,t.text="",a.text="",a.suggestionsToAdd=this._checkNewSuggestions([s])}else t.value||(a.ok=!1,a.value=null,a.errorMessages.push(this.res.errors["40020_WIDGET_AUTOCOMPLETE_VALIDATION"]));return a.value=this.selectedSuggestions,a},removeValue:function(e){var r=new aria.widgets.controllers.reports.DropDownControllerReport,a=i.copy(this.selectedSuggestions,!1),s=this._findSuggestion(a,{label:e});return-1==s&&(s=t.indexOf(a,e)),s>-1&&(r.removedSuggestion=a[s],t.removeAt(a,s),this.selectedSuggestions=a),r.removedSuggestionIndex=s,r.value=this.selectedSuggestions,r},editValue:function(e,t){var i=this._dataModel;this._editedSuggestionIndex=t;var r=new aria.widgets.controllers.reports.DropDownControllerReport;return i.value=e,i.text=o.isString(e)?e:e.label,r.text=i.text,r.caretPosStart=0,r.caretPosEnd=r.text.length,r.value=this.selectedSuggestions,r},checkExpandedValues:function(e){for(var t=i.copy(e,!1),r=i.copy(this.selectedSuggestions,!1),a=0,s=r.length;s>a;a++){var n=r[a];if(o.isObject(n)){var c=this._findSuggestion(t,n);c>-1?l.removeAt(t,c):(l.removeAt(r,a),s--,a--)}}r=r.concat(t);var u=this.checkValue(r);return this._isExpanded=!0,u.repositionDropDown=!0,u},checkValue:function(e){var t=new aria.widgets.controllers.reports.DropDownControllerReport,i=this._dataModel;return null==e?(i.text=this._pendingRequestNb>0&&i.text?i.text:"",i.value=null,t.ok=!0,this.selectedSuggestions=[]):o.isArray(e)?this._checkWithSuggestionBean(e,this._resourcesHandler.SUGGESTION_BEAN)?(i.text="",i.value=null,t.ok=!0,this.selectedSuggestions=e):(t.ok=!1,this.$logError("Value does not match definition for this multiautocomplete: "+this._resourcesHandler.SUGGESTION_BEAN,[],e)):(t.ok=!1,this.$logError("Wrong multiautocomplete value: "+e,[],e)),t.clearSuggestions=!0,t.suggestionsToAdd=t.value=this.selectedSuggestions,t.text=i.text,t},checkDropdownValue:function(e){if(o.isString(e)||null==e)return new aria.widgets.controllers.reports.DropDownControllerReport;var t=new aria.widgets.controllers.reports.DropDownControllerReport,i=this._dataModel,r=o.isArray(e)?e:[e];return t.suggestionsToAdd=this._checkNewSuggestions(r),t.value=this.selectedSuggestions,t.text="",i.text="",i.value=null,t},_checkNewSuggestions:function(e){var t=i.copy(this.selectedSuggestions,!1),r=[],a=this.maxOptions,s=e.length;if(a&&t.length+s>a&&(s=a-t.length),s>0){for(var n=0;s>n;n++)-1!=this._editedSuggestionIndex?(t.splice(this._editedSuggestionIndex,0,e[n]),this._editedSuggestionIndex+=1):t.push(e[n]),r[n]=e[n];this._editedSuggestionIndex=-1,this.selectedSuggestions=t}return r},_suggestionsCallback:function(e,t){this._pendingRequestNb-=1;var r=null,a=null,s=!1,n=!1;null!=e&&("suggestions"in e?(r=e.suggestions,a=e.error,s=e.repositionDropDown,n=e.multipleValues):r=e);var o=t.nextValue,l=t.triggerDropDown,c=-1,u=this._dataModel,h=!!t.allSuggestions;if(u&&o==u.text||t.keepSelectedValue){var p=null!==r;if(p){if(t.keepSelectedValue)for(var d=u.value?u.value.code:null,g=0;g<r.length;g+=1)r[g].exactMatch=r[g].code===d;r=h?r:this._filterSuggestions(r),c=this._prepareSuggestionsAndMatch(r,o)}else r=[];var m=r.length>0;this._resetFocus=r.length>0||!this.expandButton,aria.templates.RefreshManager.stop();var f=i;if(f.setValue(u,"selectedIdx",-1),f.setValue(u,"listContent",r),n){for(var _=[],g=0;g<u.listContent.length;g++)_.push(u.listContent[g].value);f.setValue(u,"multipleSelect",!0),f.setValue(u,"selectedValues",_),u.value=_.length>0?_:null}else if(h){for(var _=[],g=0;g<u.listContent.length;g++){var y=this._findSuggestion(this.selectedSuggestions,u.listContent[g].value);-1!=y&&_.push(u.listContent[g].value)}f.setValue(u,"selectedValues",_),f.setValue(u,"multipleSelect",!0),u.value=null}else-1!=c?(u.value=u.listContent[c].value,f.setValue(u,"selectedValues",[u.value])):(f.setValue(u,"selectedValues",[]),u.value=this.freeText&&o?o:null),f.setValue(u,"multipleSelect",!1),f.setValue(u,"selectedIdx",c);var $=new aria.widgets.controllers.reports.DropDownControllerReport;$.text=o,$.caretPosStart=t.caretPosStart,$.caretPosEnd=t.caretPosEnd,$.value=u.value,$.cancelKeyStroke=!0,null!=a?$.ok=!a:this.freeText||!p||m?$.ok=!0:($.ok=!1,$.errorMessages.push(this.res.errors["40020_WIDGET_AUTOCOMPLETE_VALIDATION"])),$.displayDropDown=m&&l,$.repositionDropDown=s||this._isExpanded!==h,this._isExpanded=h;var v={};v.stopValueProp=!0,this._raiseReport($,v),aria.templates.RefreshManager.resume()}},_filterSuggestions:function(e){for(var t=this.selectedSuggestions,i=[],r=0;r<e.length;r++){var a=e[r];-1==this._findSuggestion(t,a)&&i.push(a)}return i},_findSuggestion:function(e,t){for(var i=0,r=e.length;r>i;i++)if(t.label==e[i].label)return i;return-1},_checkWithSuggestionBean:function(e,t){for(var i=0,r=e.length;r>i;i++){var a=e[i];if(!o.isString(a)&&!n.check(a,t))return!1}return!0},_checkInputKey:function(e,t,i,r,a){var s=this.maxOptions?this.maxOptions>this.selectedSuggestions.length:!0;this._dataModel.value=this.freeText?i:null,this._dataModel.text=i,this._typeTimeout&&(clearTimeout(this._typeTimeout),this._typeTimeout=null);var n=this,o=aria.DomEvent;return t==o.KC_ARROW_DOWN&&!i&&n.expandButton?void n.toggleDropdown("",!!n._listWidget):(this._typeTimeout=setTimeout(function(){n._typeTimeout=null,n._pendingRequestNb+=1,s&&n._resourcesHandler.getSuggestions(i,{fn:n._suggestionsCallback,scope:n,args:{nextValue:i,triggerDropDown:!0,caretPosStart:r,caretPosEnd:a}})},10),null)},getExpandoTemplate:function(){return this._resourcesHandler.getExpandoTemplate()}}})}();
//*******************
//LOGICAL-PATH:aria/widgets/controllers/NumberController.js
//*******************
var e=require("../../Aria"),t=require("./reports/ControllerReport"),i=require("../../utils/Number"),r=require("../../core/JsonValidator"),a=require("../../$resources").file(__dirname,"../WidgetsRes"),s=require("./TextDataController"),n=require("../../utils/Type");module.exports=e.classDefinition({$classpath:"aria.widgets.controllers.NumberController",$extends:s,$resources:{res:a},$constructor:function(){this.$TextDataController.constructor.call(this),this._dataModel={number:0,displayText:""},this._pattern=""},$destructor:function(){this._dataModel=null,this.$TextDataController.$destructor.call(this),this._pattern=null},$prototype:{setPattern:function(e){e&&(i.isValidPattern(e)?this._pattern=e:this.$logError(r.INVALID_CONFIGURATION,["pattern "]))},checkValue:function(e){var r=new t;return r.ok=null===e||n.isNumber(e),r.ok&&(this._dataModel.number=e,this._dataModel.displayText=null!==e?this._pattern?i.formatNumber(e.toString(),this._pattern):e.toString():"",r.text=this._dataModel.displayText,r.value=this._dataModel.number),r},checkText:function(e,r){var a=new t;if(a.ok=!1,e)if(e===this._dataModel.displayText)a.ok=!r,a.ok||(a.errorMessages[0]=this.res.errors["40006_WIDGET_NUMBERFIELD_VALIDATION"]);else{this._dataModel.displayText=e;var s=i.interpretNumber(e,this._pattern);s=i.toNumber(s),null!==s?(this._dataModel.number=s,this._dataModel.displayText=i.formatNumber(s,this._pattern),a.ok=!0):(a.errorMessages[0]=this.res.errors["40006_WIDGET_NUMBERFIELD_VALIDATION"],this._dataModel.number=null)}else a.ok=!0,this._dataModel.displayText="",this._dataModel.number=null;return a.text=this._dataModel.displayText,a.value=this._dataModel.number,a}}});
//*******************
//LOGICAL-PATH:aria/widgets/controllers/SelectBoxController.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Json"),i=require("./reports/DropDownControllerReport"),r=require("./DropDownListController");module.exports=e.classDefinition({$classpath:"aria.widgets.controllers.SelectBoxController",$extends:r,$constructor:function(){this.$DropDownListController.constructor.call(this),this._options=null},$statics:{LABEL_META:e.FRAMEWORK_PREFIX+"lcLabel"},$prototype:{setListOptions:function(e){this._options=e;for(var t,i=e.length,r=0;i>r;r++)t=e[r],t[this.LABEL_META]=t.label.toLowerCase()},toggleDropdown:function(e,r){var a=this._dataModel,s=new i,n=this._options;if(s.displayDropDown=n.length>0&&(!r||a.listContent.length<n.length),s.displayDropDown){a.initialInput=e;var o=t,l=this._getSelectedIndex(a.value);o.setValue(a,"selectedIdx",l),o.setValue(a,"listContent",n)}return s},_getSelectedIndex:function(e){for(var t=0;t<this._options.length;t++)if(this._options[t].value===e)return t},setListWidget:function(e){this._listWidget=e},_buildSuggestionsList:function(e){for(var t,i,r=e.toLowerCase(),a=[],s=r.length,n=this._options.length,o=null,l=-1,c=0;n>c;c++)t=this._options[c],i=t[this.LABEL_META].slice(0,s),i==r&&(a.push(t),-1==l&&(s==t.label.length?(l=a.length-1,o=t.label):null==o&&(o=t.label.slice(0,s))));return{bestDisplayValue:o,exactMatch:l,suggestions:a}},checkValue:function(e){var t=new i,r=this._dataModel,a=this._options;if(null==e)t.ok=!0,r.value=null,r.text="";else if(e==r.value)t.ok=!0;else{t.ok=!1;for(var s=0,n=a.length;n>s;s++){var o=a[s];if(o.value==e){t.ok=!0,r.text=o.label,r.value=o.value;break}}}return t.ok&&(t.text=r.text,t.value=r.value),t},checkText:function(e){var t=new i,r=this._dataModel,a=e.toLowerCase(),s=e.length;if(e)if(e==r.text)t.ok=!0;else{t.ok=!1;for(var n,o=this._options.length,l=0;o>l;l++){if(n=this._options[l],n.label==e){r.value=n.value,r.text=n.label,t.ok=!0;break}a==n[this.LABEL_META].slice(0,s)&&(t.matchCorrectValueStart=!0)}}else r.value=null,r.text="",t.ok=!0;return t.ok&&(t.text=r.text,t.value=r.value),t},_checkInputKey:function(e,r,a,s,n){var o=new i,l=this._dataModel;o.caretPosStart=s,o.caretPosEnd=n;var c=this._buildSuggestionsList(a),u=c.suggestions;if(o.matchCorrectValueStart=u.length>0,o.matchCorrectValueStart){o.text=c.bestDisplayValue;var h=c.exactMatch;if(-1!=h){var p=u[h];o.ok=!0,l.text=p.label,l.value=p.value,o.displayDropDown=u.length>1}else o.ok=!1,o.displayDropDown=u.length>0;var d=t;d.setValue(l,"listContent",u),d.setValue(l,"selectedIdx",h),l.initialInput=o.text}return o.cancelKeyStroke=!0,o},getDisplayTextFromValue:function(e){for(var t=this._options,i=0,r=t.length;r>i;i++)if(t[i].value==e)return t[i].label;return""}}});
//*******************
//LOGICAL-PATH:aria/widgets/controllers/SelectController.js
//*******************
var e=require("../../Aria"),t=require("../../DomEvent"),i=require("./reports/DropDownControllerReport"),r=require("./TextDataController"),a=require("../../utils/Json"),s=require("../../core/Timer");!function(){var n,o;module.exports=e.classDefinition({$classpath:"aria.widgets.controllers.SelectController",$extends:r,$constructor:function(){this.$TextDataController.constructor.call(this),this._dataModel={listContent:[],lastTypedKeys:null,pageSize:20,displayIdx:-1,displayText:"",value:null,selectedIdx:-1},this._reinitTypedKeysTimeout=null},$destructor:function(){this._setLastTypedKeys(null),this.setListWidget(null),this.$TextDataController.$destructor.call(this)},$onload:function(){n=a,o=t},$onunload:function(){n=null,o=null},$statics:{LABEL_META:e.FRAMEWORK_PREFIX+"lcLabel",LAST_TYPED_KEYS_DELAY:800},$prototype:{setListOptions:function(e){for(var t,i=this._dataModel,r=e.length,a=0;r>a;a++)t=e[a],t[this.LABEL_META]=t.label.toLowerCase();n.setValue(i,"listContent",e),this._setDisplayIdx(0)},_createReport:function(e){var t=this._dataModel,r=new i;return r.ok=!0,e&&(r.value=t.value),r.text=t.displayText,r},_setDisplayIdx:function(e){var t=this._dataModel,i=t.listContent;0===i.length?e=-1:e>=i.length?e=i.length-1:0>e&&(e=0),-1==e?(n.setValue(t,"selectedIdx",-1),n.setValue(t,"displayIdx",-1),n.setValue(t,"displayText",""),n.setValue(t,"value",null)):(n.setValue(t,"selectedIdx",e),n.setValue(t,"displayIdx",e),n.setValue(t,"displayText",i[e].label),n.setValue(t,"value",i[e].value))},_setLastTypedKeys:function(e){var t=this._dataModel;n.setValue(t,"lastTypedKeys",e),this._reinitTypedKeysTimeout&&(s.cancelCallback(this._reinitTypedKeysTimeout),this._reinitTypedKeysTimeout=null),null!=e&&(this._reinitTypedKeysTimeout=s.addCallback({fn:this._reinitLastTypedKeys,scope:this,delay:this.LAST_TYPED_KEYS_DELAY}))},_reinitLastTypedKeys:function(){this._reinitTypedKeysTimeout=null,this._setLastTypedKeys(null)},_findMatch:function(e,t){for(var i=this.LABEL_META,r=this._dataModel.listContent,a=e.length,s=this._dataModel.selectedIdx+(t?1:0),n=0,o=r.length;o>n;n++,s++){s>=o&&(s=0);var l=r[s],c=l[i].substr(0,a);if(c==e)return s}return-1},_findLetterMatch:function(e){var t=e.length;if(1>=t)return-1;for(var i=e.charAt(0),r=1;t>r;r++)if(i!=e.charAt(r))return-1;return this._findMatch(i,!0)},checkKeyStroke:function(e,t){var i,r=this._dataModel;if(o.isNavigationKey(t)){var a,s=!1;t==o.KC_LEFT||t==o.KC_UP?a=r.selectedIdx-1:t==o.KC_RIGHT||t==o.KC_DOWN?a=r.selectedIdx+1:t==o.KC_PAGE_UP?a=r.selectedIdx-(r.pageSize-1):t==o.KC_PAGE_DOWN?a=r.selectedIdx+(r.pageSize-1):t==o.KC_HOME?a=0:t==o.KC_END?a=r.listContent.length-1:t==o.KC_ENTER?(a=r.selectedIdx,s=!0):t==o.KC_ESCAPE?this._listWidget&&(i=this._createReport(!1),i.displayDropDown=!1,i.cancelKeyStroke=!0,n.setValue(r,"selectedIdx",r.displayIdx)):t==o.KC_TAB&&(a=r.displayIdx,s=!0),null!=a&&(this._setLastTypedKeys(null),this._setDisplayIdx(a),i=this._createReport(s),i.cancelKeyStroke=t!=o.KC_TAB&&(t!=o.KC_ENTER||null!=this._listWidget),this._listWidget&&s&&(i.displayDropDown=!1))}else{var l=r.lastTypedKeys,c=null==l;c&&(l="");var u;if(t==o.KC_BACKSPACE)u=this._getTypedValueOnDelete(t,l,l.length,l.length).nextValue;else{u=this._getTypedValue(e,l,l.length,l.length).nextValue,u=u.toLowerCase();var h=this._findMatch(u,c);-1==h&&(h=this._findLetterMatch(u)),h>-1&&this._setDisplayIdx(h)}i=this._createReport(!1),i.cancelKeyStroke=!0,this._setLastTypedKeys(u)}return i},checkValue:function(e){for(var t=this._dataModel.listContent,i=-1,r=0,a=t.length;a>r;r++)if(t[r].value==e){i=r;break}return this._setDisplayIdx(i),this._createReport(!0)},checkDropdownValue:function(e){return this.checkValue(e)},checkText:function(){return null},toggleDropdown:function(){var e=new i;return e.displayDropDown=null==this._listWidget,this._dataModel&&this._dataModel.displayIdx!==this._dataModel.selectedIdx&&this._setDisplayIdx(this._dataModel.displayIdx),e},setListWidget:function(e){this._listWidget=e}}})}();
//*******************
//LOGICAL-PATH:aria/widgets/errorlist/CfgBeans.js
//*******************
var e=require("../../Aria"),t=require("../../core/JsonTypes");module.exports=e.beanDefinitions({$package:"aria.widgets.errorlist.CfgBeans",$namespaces:{json:t},$beans:{Model:{$type:"json:Object",$mandatory:!0,$properties:{title:{$type:"json:String"},displayCodes:{$type:"json:Boolean"},messages:{$type:"json:ObjectRef",$mandatory:!0},filterTypes:{$type:"json:Array",$default:null,$contentType:{$type:"json:String",$mandatory:!0},$sample:["F","E"]},divCfg:{$type:"json:ObjectRef",$mandatory:!0},messageTypes:{$type:"json:Map",$contentType:{$type:"json:Integer",$minValue:0}}}}}});
//*******************
//LOGICAL-PATH:aria/widgets/errorlist/IErrorListController.js
//*******************
var e=require("../../Aria"),t=require("../../templates/IModuleCtrl");module.exports=e.interfaceDefinition({$classpath:"aria.widgets.errorlist.IErrorListController",$extends:t,$events:{messagesChanged:""},$interface:{setMessages:function(){},focusField:function(){}}});
//*******************
//LOGICAL-PATH:aria/widgets/errorlist/ErrorListController.js
//*******************
var e=require("../../Aria"),t=require("./IErrorListController");require("./CfgBeans");var i=require("../../templates/ModuleCtrl"),r=require("../../utils/Array"),a=require("../../utils/Json");module.exports=e.classDefinition({$classpath:"aria.widgets.errorlist.ErrorListController",$extends:i,$implements:[t],$constructor:function(){this.$ModuleCtrl.constructor.call(this),this._dataBeanName="aria.widgets.errorlist.CfgBeans.Model"},$prototype:{$publicInterfaceName:"aria.widgets.errorlist.IErrorListController",init:function(e,t){this._data={title:e.title,divCfg:e.divCfg,filterTypes:e.filterTypes,displayCodes:e.displayCodes},this.setMessages(e.messages),this.$callback(t)},setMessages:function(e,t){null==e&&(e=[]);var i={},r=this._processMessages(e,i,this._data.filterTypes);this.json.setValue(this._data,"messageTypes",i),this.json.setValue(this._data,"messages",r);var a=r.length>0?t:null;this.$raiseEvent({name:"messagesChanged",domRef:a})},focusField:function(e){e.metaDataRef&&(e.metaDataRef.requireFocus&&this.json.setValue(e.metaDataRef,"requireFocus",!1),this.json.setValue(e.metaDataRef,"requireFocus",!0))},_processMessages:function(e,t,i){for(var s,n=0,o=e.length;o>n;n++){var l=e[n],c=l.type,u=!i||r.contains(i,c);u&&(t[l.type]?t[l.type]+=1:t[l.type]=1);var h=!1,p=l.subMessages;p&&p.length>0?(p=this._processMessages(p,t,i),p.length>0&&(u=!0),u&&p!=l.subMessages?(h=!0,l=a.copy(l,!1),l.subMessages=p):h=!u):h=!u,!s&&h&&(s=e.slice(0,n)),s&&u&&s.push(l)}return null==s&&(s=e),s}}});
//*******************
//LOGICAL-PATH:aria/widgets/errorlist/ErrorList.js
//*******************
var e=require("../../Aria");require("./ErrorListController");var t=require("../TemplateBasedWidget"),i=require("../../utils/Json");module.exports=e.classDefinition({$classpath:"aria.widgets.errorlist.ErrorList",$extends:t,$onload:function(){e.load({templates:["aria.widgets.errorlist.ErrorListTemplate"]})},$constructor:function(e){this.$TemplateBasedWidget.constructor.apply(this,arguments);var t=aria.widgets.AriaSkinInterface.getSkinObject(this._skinnableClass,this._cfg.sclass),r=i.copy(e,!0,["width","minWidth","maxWidth","height","minHeight","block","maxHeight"]);r.sclass=t.divsclass,r.margins="0 0 0 0",r.id=e.id+"_div",this._initTemplate({defaultTemplate:this._cfg.defaultTemplate,moduleCtrl:{classpath:"aria.widgets.errorlist.ErrorListController",initArgs:{divCfg:r,filterTypes:e.filterTypes,displayCodes:e.displayCodes,title:e.title,messages:e.messages}}})},$destructor:function(){this.$TemplateBasedWidget.$destructor.call(this)},$prototype:{_skinnableClass:"ErrorList",_onBoundPropertyChange:function(e,t){this._inOnBoundPropertyChange=!0;try{if("messages"==e){var i=this._domElt;this._subTplModuleCtrl.setMessages(t,i)}this._cfg[e]=t}finally{this._inOnBoundPropertyChange=!1}}}});
//*******************
//LOGICAL-PATH:aria/widgets/errorlist/ErrorListTemplate.tpl
//*******************
Aria.classDefinition({$classpath:"aria.widgets.errorlist.ErrorListTemplate",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$ErrorListTemplateScript.constructor.call(this)},$destructor:function(){this.$ErrorListTemplateScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.widgets.errorlist.ErrorListTemplateScript","aria.widgets.container.Div","aria.widgets.Icon","aria.utils.String","aria.widgets.action.Link","aria.core.TplClassLoader"],$prototype:{macro_main:function(){try{with(this)data.messages.length>0&&this.__$beginContainerWidget("aria.widgets.AriaLib","Div",data.divCfg,24)&&(this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:getIcon()},25),this.__$write('\n<span style="padding: 3px 16px 3px 10px; font-weight: bold;">',26),this.__$write(this.$modifier("escapeforhtml",[data.title]),26),this.__$write('</span>\n<div style="padding: 3px 0 0 0;">\n',26),this.macro_messagesList(data.messages),this.__$write("\n</div>\n",29),this.__$endContainerWidget())}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_messagesList:function(messages,indentation){try{with(this){this.__$write('\n<ul style="margin: 0 0 0 10px; padding-left: 10px;">\n',35);var __v_1=messages;void 0==messages&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",36]);for(var msg_ct=0,__v_2=__v_1.length,msg_index=0;__v_2>msg_index;msg_index++){var msg=__v_1[msg_index];msg_ct++,this.__$write('\n<li style="list-style-type: square;">\n',37),msg.metaDataRef?this.__$processWidgetMarkup("aria.widgets.AriaLib","Link",{label:getDisplayMessage(msg),onclick:{fn:clickOnMessage,args:msg}},39):this.__$write(this.$modifier("escapeforhtml",[getDisplayMessage(msg)]),44),msg.subMessages&&this.macro_messagesList(msg.subMessages),this.__$write("\n</li>\n",49)}this.__$write("\n</ul>\n",51)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["messagesList",this["aria:currentLineNumber"]],_ex)}},$init:function(e){e.__$macrolibs={},e.__$width={},e.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.widgets.errorlist.ErrorListTemplateScript,e)},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/errorlist/ErrorListTemplateScript.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Data"),i=require("../../utils/Dom");module.exports=e.tplScriptDefinition({$classpath:"aria.widgets.errorlist.ErrorListTemplateScript",$statics:{ICONS:[],DEFAULT_ICON:"std:missing"},$prototype:{$init:function(e){e.ICONS.push({type:t.TYPE_ERROR,icon:"std:error"},{type:t.TYPE_WARNING,icon:"std:warning"},{type:t.TYPE_INFO,icon:"std:info"},{type:t.TYPE_FATAL,icon:"std:error"},{type:t.TYPE_NOTYPE,icon:"std:info"},{type:t.TYPE_CRITICAL_WARNING,icon:"std:warning"},{type:t.TYPE_CONFIRMATION,icon:"std:confirm"})},onModuleEvent:function(e){"messagesChanged"==e.name&&(e.domRef&&i.scrollIntoView(e.domRef),this.$refresh())},clickOnMessage:function(e,t){this.moduleCtrl.focusField(t)},getIcon:function(){for(var e=this.data.messageTypes,t=this.DEFAULT_ICON,i=this.ICONS,r=0,a=i.length;a>r;r++){var s=i[r];if(e[s.type]>0){t=s.icon;break}}return t},getDisplayMessage:function(e){return this.data.displayCodes&&(e.code||0===e.code)?e.localizedMessage+" ("+e.code+")":e.localizedMessage}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/list/templates/LCTemplate.tpl
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.list.templates.LCTemplate",$extends:"aria.widgets.form.list.templates.ListTemplate",$extendsType:"TPL",$constructor:function(){this.$ListTemplate.constructor.call(this)},$destructor:function(){this.$ListTemplate.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.utils.String","aria.utils.Type"],$prototype:{macro_renderItem:function(item,itemIdx){try{with(this){var className=_getClassForItem(item),entry=item.object.entry;this.__$write('\n\n<a href="javascript:void(0)" class="',26),this.__$write(this.$modifier("escapeforhtml",[className]),27),this.__$write('" data-itemIdx="',27),this.__$write(this.$modifier("escapeforhtml",[itemIdx]),27),this.__$write('" onclick="return false;">\n',27),item.label?item.value.multiWordMatch?this.__$write(this.$modifier("escapeForHTML",[this.$modifier("highlightfromnewword",[this.$modifier("escapeForHTML",[item.label,{text:!0}]),entry]),!1]),31):this.__$write(this.$modifier("escapeForHTML",[this.$modifier("starthighlight",[this.$modifier("escapeForHTML",[item.label,{text:!0}]),entry]),!1]),33):this.__$write("\n&nbsp;\n",29),this.__$write("\n</a>\n",35)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["renderItem",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){return this.$ListTemplate.__$initTemplate.call(this)?!0:!1}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/list/templates/ListTemplate.tpl
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.list.templates.ListTemplate",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$ListTemplateScript.constructor.call(this)},$destructor:function(){this.$ListTemplateScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.widgets.form.list.templates.ListTemplateScript","aria.widgets.container.Div","aria.utils.String","aria.core.TplClassLoader"],$prototype:{macro_main:function(){try{with(this)this.__$beginContainerWidget("aria.widgets.AriaLib","Div",data.cfg,24)&&(this.__$insertSection(25,{id:"Items",macro:"renderList"}),this.__$endContainerWidget())}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_renderList:function(){try{with(this){this.__$write("\n<div ",30),this.__$writeId("myList",30),data.disabled||(this.__$statementOnEvent("mouseup",this.$normCallback({fn:"itemClick"}),32),this.__$statementOnEvent("mouseover",this.$normCallback({fn:"itemMouseOver"}),33)),this.__$write('\n>\n<a href="#" style="display: none;">&nbsp;</a>\n',35);var __v_1=data.items;void 0==data.items&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",37]);for(var item_ct=0,__v_2=__v_1.length,item_index=0;__v_2>item_index;item_index++){var item=__v_1[item_index];item_ct++,this.macro_renderItem(item,item_index)}this.__$write("\n</div>\n",40)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["renderList",this["aria:currentLineNumber"]],_ex)}},macro_renderItem:function(item,itemIdx){try{with(this){var a=_getClassForItem(item);this.__$write('\n<a href="javascript:void(0)" class="',45),this.__$write(this.$modifier("escapeforhtml",[a]),45),this.__$write('" data-itemIdx="',45),this.__$write(this.$modifier("escapeforhtml",[itemIdx]),45),this.__$write('" onclick="return false;">\n',45),item.label?this.__$write(this.$modifier("escapeForHTML",[item.label,{text:!0}]),49):this.__$write("\n&nbsp;\n",47),this.__$write("\n</a>\n",51)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["renderItem",this["aria:currentLineNumber"]],_ex)}},$init:function(e){e.__$macrolibs={},e.__$width={},e.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.widgets.form.list.templates.ListTemplateScript,e)},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/list/templates/ListTemplateScript.js
//*******************
var e=require("../../../../Aria"),t=require("../../../../core/Browser"),i=require("../../../../core/Timer");module.exports=e.tplScriptDefinition({$classpath:"aria.widgets.form.list.templates.ListTemplateScript",$constructor:function(){this._refContainer="myList",this._itemShift=1},$destructor:function(){null!=this._scrollToSelectedItemCb&&(i.cancelCallback(this._scrollToSelectedItemCb),this._scrollToSelectedItemCb=null)},$prototype:{_scrollToSelectedItem:function(){this._scrollToSelectedItemCb=null;var e=this.data.selectedIndex;if(null!=e&&e>-1){var t=this.$getChild(this._refContainer,e+this._itemShift);t.scrollIntoView(),t.$dispose()}},$afterRefresh:function(e){var t=e?e.section:null;if(null==t||"Items"==t){var r=this.data.selectedIndex;null!=r&&r>-1&&null==this._scrollToSelectedItemCb&&(this._scrollToSelectedItemCb=i.addCallback({fn:this._scrollToSelectedItem,scope:this,delay:1}))}},onModuleEvent:function(e){if("onChange"==e.name)if(e.selectedIndexes||e.unselectedIndexes){var t=this.data.items;if(e.unselectedIndexes.length>0)for(var i=0,r=e.unselectedIndexes.length;r>i;i+=1){var s=e.unselectedIndexes[i],a=this.$getChild(this._refContainer,s+this._itemShift);a.classList.setClassName(this._getClassForItem(t[s],!1)),a.$dispose()}if(e.selectedIndexes.length>0)for(var i=0,r=e.selectedIndexes.length;r>i;i+=1){var s=e.selectedIndexes[i],a=this.$getChild(this._refContainer,s+this._itemShift);a.classList.setClassName(this._getClassForItem(t[s],!1)),0===i&&a.scrollIntoView(),a.$dispose()}}else this.$refresh({section:"Items"})},itemClick:function(e){if(!this.data.disabled){var i=e.target.getData("itemIdx",!0);i&&(t.isWebkit&&e.target.focus(),this.moduleCtrl.itemClick(i))}},itemMouseOver:function(e){if(!this.data.disabled){var t=e.target.getData("itemIdx",!0);t&&this.moduleCtrl.itemMouseOver(t)}},_getClassForItem:function(e){var t=[this.data.skin.cssClassItem];return e&&e.selected&&t.push(this.data.skin.cssClassSelected),t.push(this.data.disabled?this.data.skin.cssClassDisabled:this.data.skin.cssClassEnabled),t.join(" ")}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/list/IListController.js
//*******************
var e=require("../../../Aria"),t=require("../../../templates/IModuleCtrl");module.exports=e.interfaceDefinition({$classpath:"aria.widgets.form.list.IListController",$extends:t,$events:{onChange:"",itemClick:"",itemMouseOver:"",keyevent:"",focusList:"",focusTextBox:"",close:""},$interface:{toggleSelection:function(){},setSelection:function(){},getSelectedIndexes:function(){},getSelectedItems:function(){},getSelectedValues:function(){},setSelectedValues:function(){},setSelectedIndex:function(){},setMultipleSelect:function(){},setMaxSelectedCount:function(){},setItems:function(){},setDisabled:function(){},setFocus:function(){},itemClick:function(){},itemMouseOver:function(){},setFocusedIndex:function(){},keyevent:function(){},close:function(){},deselectAll:function(){},selectAll:function(){}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/list/ListController.js
//*******************
var e=require("../../../Aria"),t=require("./IListController"),i=require("../../../utils/Array");require("./CfgBeans");var r=require("../../../templates/View"),s=require("../../../DomEvent"),a=require("../../../templates/ModuleCtrl"),n=require("../../../utils/Type");module.exports=e.classDefinition({$classpath:"aria.widgets.form.list.ListController",$extends:a,$implements:[t],$constructor:function(){this.$ModuleCtrl.constructor.call(this),this._dataBeanName="aria.widgets.form.list.CfgBeans.ListModel",this._nbStopUpdates=0,this._navigationEvent=!1,this._itemsListener={fn:this._notifyItemsChange,scope:this},this.json.setValue(this._data,"focusIndex",0)},$destructor:function(){var e=this._data,t=e.itemsView;t&&(t.$dispose(),e.itemsView=null),this._setItems(null),this._navigationEvent=null,this._itemsListener=null,this.$ModuleCtrl.$destructor.call(this)},$prototype:{$hasFlowCtrl:!1,$publicInterfaceName:"aria.widgets.form.list.IListController",init:function(e,t){this.setData(e.dataModel);var i=e.itemsInfo,s=this._mergeItemsAndSelectionInfo(i.items,i.selectedValues,i.selectedIndex);this._setItems(s.items),this.json.setValue(this._data,"selectedIndex",s.selectedIndex),this.json.setValue(this._data,"selectedCount",s.selectedCount),null==i.selectedValues&&this.setSelectedIndex(i.selectedIndex);var a=new r(this._data.items);this.json.setValue(this._data,"itemsView",a),this._data.activateSort&&a.setSort(a.SORT_ASCENDING,"sortByLabel",this._sortByLabel),this.$callback(t)},setFocus:function(){var e={name:"focusList"};this.$raiseEvent(e)},_checkPreselect:function(e){if(this._navigationEvent)this._navigationEvent=!1;else{if("none"===this._data.preselect)return null;if("always"===this._data.preselect)return(-1===e||void 0===e)&&(e=0),e}},_sortByLabel:function(e){return e.value.label},_stopUpdates:function(){this._nbStopUpdates++},_resumeUpdates:function(){this.$assert(63,this._nbStopUpdates>0),this._nbStopUpdates--},_updatesStopped:function(){return this._nbStopUpdates>0},_notifyItemsChange:function(e){if(!this._updatesStopped()){var t=e.dataName;if("selected"==t){var i=e.dataHolder;(e.newValue&&!e.oldValue||!e.newValue&&e.oldValue)&&this._selectionChanged(i.index)}else"initiallyDisabled"==t&&this._updateCurrentlyDisabled([e.dataHolder])}},_updateCurrentlyDisabled:function(e){for(var t=this._data.selectedCount,i=this._getTrueMaxSelectedCount(),r=0,s=e.length;s>r;r++){var a=e[r],n=a.initiallyDisabled;!n&&t>=i&&(n=!a.selected),this.json.setValue(a,"currentlyDisabled",n)}},_selectionChanged:function(e){this._stopUpdates();var t=this.json,i=this._data,r=i.items,s=r[e],a=s.selected,n=[],o=[],l=[s],c=this._getTrueMaxSelectedCount(),u=i.selectedCount,h=i.selectedIndex,d=u;if(this.$assert(149,c>=u),a){if(n[0]=e,d++,d>c){for(var p=this.getSelectedIndexes(),g=0,m=p.length;m>g;g++){var f=p[g];if(f!=e){var _=r[f];if(!_.initiallyDisabled){d--,o[0]=f,t.setValue(_,"selected",!1),l.push(_);break}}}this.$assert(182,d==c)}h=1===d?e:null}else if(o[0]=e,d--,0===d)this.$assert(194,h==e),h=-1;else if(1===d){var p=this.getSelectedIndexes();this.$assert(202,1==p.length),h=p[0]}else this.$assert(203,d>1),this.$assert(204,null==h);t.setValue(i,"selectedIndex",h),t.setValue(i,"selectedCount",d),this._updateCurrentlyDisabled(d==u||u!=c&&d!=c?l:r),this._resumeUpdates(),this._raiseOnChangeEvent(n,o)},_setItems:function(e){var t,i=this._itemsListener,r=this.json,s=this._data.items;if(s==e)t=e.length;else{if(s)for(var a=0,n=s.length;n>a;a++)r.removeListener(s[a],null,i);if(r.setValue(this._data,"items",e),e){t=e.length;for(var a=0,n=e.length;n>a;a++)r.addListener(e[a],null,i);var o=this._data.itemsView;o&&(o.initialArray=e,o.refresh(o.CHANGED_INITIAL_ARRAY))}}this._data.displayOptions&&this._calcRowCols(this._data.displayOptions.flowOrientation,this._data.numberOfRows,this._data.numberOfColumns,t)},_getTrueMaxSelectedCount:function(e){var t=this._data,i=t.multipleSelect?t.maxSelectedCount:1;return null==i&&(null==e&&(e=t.items),i=1+e.length),this.$assert(268,i>=1),i},_mergeItemsAndSelectionInfo:function(e,t,r){var s=i,a=this._checkPreselect(r);r=void 0===a?r:a;var o=this._getTrueMaxSelectedCount(e),l=!1,c=e,u="label",h="value",d="disabled";n.isArray(e)||(c=e.container,u=e.labelProperty,h=e.valueProperty,d=e.disabledProperty);for(var p=[],g=-1,m=0,f=0,_=c.length;_>f;f++){var y=c[f],$=t?s.contains(t,y[h])||r===f:!1;e[f].disabled&&($=!1),$&&(o>m?(m++,null!=g&&(g=-1==g?f:null)):(l=!0,$=!1));var v=d?y[d]:!1;p[f]={index:f,label:y[u],value:y[h],object:y,selected:$,initiallyDisabled:v,currentlyDisabled:v}}if(m==o)for(var f=0,_=p.length;_>f;f++)p[f].selected||(p[f].currentlyDisabled=!0);return{items:p,pbMaxSelected:l,selectedIndex:g,selectedCount:m}},setDisabled:function(e){this.json.setValue(this._data,"disabled",e)},setItems:function(e){var t=this._mergeItemsAndSelectionInfo(e,this.getSelectedValues());this._setItems(t.items),this.json.setValue(this._data,"selectedIndex",t.selectedIndex),this.json.setValue(this._data,"selectedCount",t.selectedCount)},calcMoveFocus:function(e,t,i,r,a,n){var o=t;if(1==r)a==s.KC_ARROW_UP&&o--,a==s.KC_ARROW_DOWN&&o++;else if(a==s.KC_ARROW_UP)o="vertical"==e?t-1:0>t-r?t--:t-r;else if(a==s.KC_ARROW_DOWN)if("vertical"==e)o=t+1;else{if(!(n-t>r))return t;o=t+r}else if(a==s.KC_ARROW_LEFT)if("horizontal"==e)o=t-1;else{if(!(t>=i))return t;o=t-i}else if(a==s.KC_ARROW_RIGHT)if("horizontal"==e)o=t+1;else{if(!(n-t>r))return t;o=t+i}return o>=n?n-1:0>o?0:o},keyevent:function(e){var t=this._data,i={name:"keyevent",charCode:e.charCode,keyCode:e.keyCode,focusIndex:t.focusIndex,cancelDefault:!1};if(this.$raiseEvent(i),t&&!i.cancelDefault){var r,a=t.itemsView;if(s.isNavigationKey(i.keyCode)){this._navigationEvent=!0;var n=t.multipleSelect?t.focusIndex:t.selectedIndex,o=!1,l=n;for(r=n;!o;)r=this.calcMoveFocus(t.displayOptions.flowOrientation,r,t.numberOfRows,t.numberOfColumns,i.keyCode,t.itemsView.items.length),l==r?(r=n,o=!0):o=!t.multipleSelect||!a.initialArray[a.items[r].initIndex].currentlyDisabled,l=r}else var r=t.focusIndex;t.multipleSelect?i.cancelDefault=this.setFocusedIndex(r):null!=t.selectedIndex&&this.setSelectedIndex(r),i.cancelDefault=!0}return i.cancelDefault},setFocusedIndex:function(e){var t=this._data;if(null!=e){var i=t.items;return 0>e?!1:e>=i.length?!1:(this.json.setValue(t,"focusIndex",e),this.setFocus(t.focusIndex),!0)}},itemClick:function(e,t){var i=this._data;if(e=parseInt(e,10),!(isNaN(e)||0>e||e>i.items.length)){var r;r=i.itemsView?this._data.itemsView.getNewIndex(i.itemsView.items,e):e,this.setFocusedIndex(r),null==t&&(t=!1);var s=i.items[e],a={name:"itemClick",index:e,item:s,value:s.value,alreadyChanged:t};this.$raiseEvent(a),!this._data||a.cancelDefault||t||this.toggleSelection(e)}},itemMouseOver:function(e){var t=this._data;if(e=parseInt(e,10),!(isNaN(e)||0>e||e>t.items.length)){var i=t.items[e];this._navigationEvent=!0;var r={name:"itemMouseOver",index:e,item:i,value:i.value};this.$raiseEvent(r)}},toggleSelection:function(e){if(this._data.disabled)return this._data.items[e].selected;var t=!this._data.items[e].selected;return this.setSelection(e,t),t},setSelection:function(e,t){this.json.setValue(this._data.items[e],"selected",t)},setSelectedValues:function(e){var t=i;this._stopUpdates();for(var r=[],s=[],a=-1,n=this._data,o=n.items,l=this._getTrueMaxSelectedCount(o),c=0,u=0,h=o.length;h>u;u++){var d=o[u],p=t.contains(e,d.value);p&&(c==l?p=!1:-1==a?(c=1,a=u):(c++,a=null)),("none"===n.preselect||d.selected!=p)&&((p?r:s).push(u),this.json.setValue(o[u],"selected",p))}this.json.setValue(n,"selectedIndex",a),this.json.setValue(n,"selectedCount",c),this._updateCurrentlyDisabled(o),this._resumeUpdates(),(r.length>0||s.length>0)&&this._raiseOnChangeEvent(r,s)},setSelectedIndex:function(e){if(null!=e){var t=this._data.items;this.setSelectedValues(0>e||e>=t.length?[]:[t[e].value])}},setMultipleSelect:function(e){this.json.setValue(this._data,"multipleSelect",e),this._updateMaxSelectedCount()},setMaxSelectedCount:function(e){this.json.setValue(this._data,"maxSelectedCount",e),this._updateMaxSelectedCount()},_updateMaxSelectedCount:function(){var e=this._getTrueMaxSelectedCount();this._data.selectedCount>=e&&this.setSelectedValues(this.getSelectedValues())},getSelectedIndexes:function(){var e=this._data;if(-1==e.selectedIndex)return[];if(null!=e.selectedIndex)return[e.selectedIndex];var t=[],i=e.itemsView;i.refresh();for(var r=i.items,s=0,a=r.length;a>s;s++)r[s].value.selected&&t.push(r[s].initIndex);return t},getSelectedItems:function(){for(var e=this.getSelectedIndexes(),t=[],i=this._data.items,r=0,s=e.length;s>r;r++)t[r]=i[e[r]];return t},getSelectedValues:function(){for(var e=this.getSelectedIndexes(),t=[],i=this._data.items,r=0,s=e.length;s>r;r++)t[r]=i[e[r]].value;return t},_raiseOnChangeEvent:function(e,t){var i=this._data;if(0===e.length&&0===i.selectedCount){var r=this._checkPreselect();null!=r&&(e=[r],this.json.setValue(i.itemsView.items[r].value,"selected",!0),this.json.setValue(i,"selectedIndex",r),this.json.setValue(i,"selectedCount",1))}this.$raiseEvent({name:"onChange",selectedIndexes:e,unselectedIndexes:t})},_calcRowCols:function(e,t,i,r){var s;"vertical"==e?t?(i=Math.ceil(r/t),s=r%t):i?(t=Math.ceil(r/i),i=Math.ceil(r/t)):(i=1,t=r):"horizontal"==e&&(i?t=Math.ceil(r/i):t?(i=Math.ceil(r/t),t=Math.ceil(r/i)):(t=1,i=r)),this.json.setValue(this._data,"numberOfRows",t),this.json.setValue(this._data,"numberOfColumns",i)},close:function(){this.$raiseEvent("close")},deselectAll:function(){this.setSelectedValues([]),this._data&&this.json.setValue(this._data,"focusIndex",0)},selectAll:function(){for(var e=[],t=this._data.items,i=0;i<t.length;i++)t[i].initiallyDisabled||e.push(t[i].value);this.setSelectedValues(e),this._data&&this.json.setValue(this._data,"focusIndex",0)}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/list/ListStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.list.ListStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_writeSkinClass:function(info){try{with(this){var skinClassName=info.skinClassName,skinClass=info.skinClass;this.__$write("\n\n\na.x",26),this.__$write(skinnableClassName,28),this.__$write("Item_",28),this.__$write(skinClassName,28),this.__$write(",\na.x",28),this.__$write(skinnableClassName,29),this.__$write("Item_",29),this.__$write(skinClassName,29),this.__$write(":link,\na.x",29),this.__$write(skinnableClassName,30),this.__$write("Item_",30),this.__$write(skinClassName,30),this.__$write(":active,\na.x",30),this.__$write(skinnableClassName,31),this.__$write("TItem_",31),this.__$write(skinClassName,31),this.__$write(":visited {\ncolor: #000;\ntext-decoration:none;\n}\n\na.x",31),this.__$write(skinnableClassName,36),this.__$write("Item_",36),this.__$write(skinClassName,36),this.__$write(" {\ndisplay: block;\npadding:1px 1px 1px 2px;\nmargin: 1px ",36),this.__$write(skinClass.link.marginRight,39),this.__$write("px 1px ",39),this.__$write(skinClass.link.marginLeft,39),this.__$write("px;\n}\n\n\n.x",39),this.__$write(skinnableClassName,43),this.__$write("EnabledItem_",43),this.__$write(skinClassName,43),this.__$write(" {\ncolor:",43),this.__$write(skinClass.enabledColor,44),this.__$write(";\ncursor:pointer;\n}\n\n.x",44),this.__$write(skinnableClassName,48),this.__$write("MouseOverItem_",48),this.__$write(skinClassName,48),this.__$write(" {\nbackground-color:",48),this.__$write(skinClass.mouseOverBackgroundColor,49),this.__$write(";\ncolor:",49),this.__$write(skinClass.mouseOverColor,50),this.__$write(";\n}\n\n.x",50),this.__$write(skinnableClassName,53),this.__$write("EnabledItem_",53),this.__$write(skinClassName,53),this.__$write(":hover,\na.x",53),this.__$write(skinnableClassName,54),this.__$write("EnabledItem_",54),this.__$write(skinClassName,54),this.__$write(":hover {\n",54),skinClass.highlightMouseOver&&(this.__$write("\nbackground-color:",56),this.__$write(skinClass.mouseOverBackgroundColor,56),this.__$write(";\ncolor: ",56),this.__$write(skinClass.mouseOverColor,57),this.__$write(";\n",57)),this.__$write("\ntext-decoration: none;\n}\n\n.x",59),this.__$write(skinnableClassName,62),this.__$write("SelectedItem_",62),this.__$write(skinClassName,62),this.__$write(",\n.x",62),this.__$write(skinnableClassName,63),this.__$write("SelectedItem_",63),this.__$write(skinClassName,63),this.__$write(":link,\n.x",63),this.__$write(skinnableClassName,64),this.__$write("SelectedItem_",64),this.__$write(skinClassName,64),this.__$write(":visited,\n.x",64),this.__$write(skinnableClassName,65),this.__$write("SelectedItem_",65),this.__$write(skinClassName,65),this.__$write(":active,\na.x",65),this.__$write(skinnableClassName,66),this.__$write("SelectedItem_",66),this.__$write(skinClassName,66),this.__$write(",\na.x",66),this.__$write(skinnableClassName,67),this.__$write("SelectedItem_",67),this.__$write(skinClassName,67),this.__$write(":link,\na.x",67),this.__$write(skinnableClassName,68),this.__$write("SelectedItem_",68),this.__$write(skinClassName,68),this.__$write(":visited,\na.x",68),this.__$write(skinnableClassName,69),this.__$write("SelectedItem_",69),this.__$write(skinClassName,69),this.__$write(":active  {\nbackground-color: ",69),this.__$write(skinClass.selectedItemBackgroundColor,70),this.__$write(";\ncolor: ",70),this.__$write(skinClass.selectedItemColor,71),this.__$write(";\n}\n\n.x",71),this.__$write(skinnableClassName,74),this.__$write("DisabledItem_",74),this.__$write(skinClassName,74),this.__$write(",\na.x",74),this.__$write(skinnableClassName,75),this.__$write("DisabledItem_",75),this.__$write(skinClassName,75),this.__$write(":visited,\na.x",75),this.__$write(skinnableClassName,76),this.__$write("DisabledItem_",76),this.__$write(skinClassName,76),this.__$write(":hover,\na.x",76),this.__$write(skinnableClassName,77),this.__$write("DisabledItem_",77),this.__$write(skinClassName,77),this.__$write(":link {\ncolor:#888;\ncursor:default;\n}\n\n.x",77),this.__$write(skinnableClassName,82),this.__$write("Footer_",82),this.__$write(skinClassName,82),this.__$write(" {\npadding:",82),this.__$write(skinClass.footer.padding,83),this.__$write("px;\nbackground-color: ",83),this.__$write(skinClass.footer.backgroundColor,84),this.__$write(";\nborder-color: ",84),this.__$write(skinClass.footer.borderColor,85),this.__$write(";\n",85),skinClass.footer.borderTopOnly?this.__$write("border-top-style",86):this.__$write("border-style",86),this.__$write(": ",86),this.__$write(skinClass.footer.borderStyle,86),this.__$write(";\nborder-width: ",86),this.__$write(skinClass.footer.borderWidth,87),this.__$write("px;\nmargin:    ",87),this.__$write(skinClass.footer.marginTop,88),this.__$write("px ",88),this.__$write(skinClass.footer.marginRight,88),this.__$write("px ",88),this.__$write(skinClass.footer.marginBottom,88),this.__$write("px ",88),this.__$write(skinClass.footer.marginLeft,88),this.__$write("px;\n}\n",88)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeSkinClass",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="List"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/list/List.js
//*******************
var e=require("../../../Aria"),t=require("../../../utils/Json");require("./ListController");var i=require("./ListStyle.tpl.css"),r=require("../../TemplateBasedWidget");module.exports=e.classDefinition({$classpath:"aria.widgets.form.list.List",$extends:r,$css:[i],$constructor:function(e){this.$TemplateBasedWidget.constructor.apply(this,arguments),this._cfg||(this._cfg={});var i=aria.widgets.AriaSkinInterface.getSkinObject(this._skinnableClass,this._cfg.sclass),r=t.copy(i,!1);r.cssClassItem="x"+this._skinnableClass+"Item_"+this._cfg.sclass,r.cssClassEnabled="x"+this._skinnableClass+"EnabledItem_"+this._cfg.sclass,r.cssClassSelected="x"+this._skinnableClass+"SelectedItem_"+this._cfg.sclass,r.cssClassDisabled="x"+this._skinnableClass+"DisabledItem_"+this._cfg.sclass,r.cssClassMouseover="x"+this._skinnableClass+"MouseOverItem_"+this._cfg.sclass,r.cssClassFooter="x"+this._skinnableClass+"Footer_"+this._cfg.sclass;var s=t.copy(e,!0,["width","minWidth","maxWidth","height","minHeight","maxHeight","scrollBarX","scrollBarY"]);s.sclass=r.divsclass,s.margins="0 0 0 0",this._initTemplate({moduleCtrl:{classpath:"aria.widgets.form.list.ListController",initArgs:{itemsInfo:{items:e.items,selectedValues:e.selectedValues,selectedIndex:e.selectedIndex},dataModel:{activateSort:e.activateSort,multipleSelect:e.multipleSelect,maxSelectedCount:e.maxOptions,disabled:e.disabled,displayOptions:e.displayOptions,numberOfColumns:e.numberOfColumns,numberOfRows:e.numberOfRows,skin:r,cfg:s,preselect:e.preselect}}}})},$prototype:{_skinnableClass:"List",sendKey:function(e,t){var i=this._subTplModuleCtrl,r=this._getFirstEnabledItem();if(i){var s=i.getData();return this.evalCallback(this._cfg.onkeyevent,{charCode:e,keyCode:t,focusIndex:s.focusIndex,closeItem:r})?!0:i.keyevent({charCode:e,keyCode:t})}return!1},_getFirstEnabledItem:function(){for(var e=this._subTplData.itemsView.items,t=0;t<e.length;t++)if(!e[t].value.currentlyDisabled)return{id:t,value:e[t].value.value}},_onModuleEvent:function(e){"onChange"==e.name?(this._retrieveControllerSelection(),this.evalCallback(this._cfg.onchange,this._subTplModuleCtrl.getSelectedValues())):"itemClick"==e.name?this.evalCallback(this._cfg.onclick,{value:e.value,index:e.index}):"itemMouseOver"==e.name?this.evalCallback(this._cfg.onmouseover,{value:e.value,index:e.index}):"close"==e.name&&this.evalCallback(this._cfg.onclose)},_tplLoadCallback:function(e){this.$TemplateBasedWidget._tplLoadCallback.call(this,e),this._retrieveControllerSelection()},_retrieveControllerSelection:function(){var e=this._subTplModuleCtrl;this.setProperty("selectedValues",e.getSelectedValues()),this.setProperty("selectedIndex",e.getData().selectedIndex)},_dom_onkeypress:function(e){this._subTplModuleCtrl&&(e.isSpecialKey||e.charCode==e.KC_SPACE||this.sendKey(e.charCode,e.keyCode))},_dom_onkeydown:function(e){return this._subTplModuleCtrl&&e.isSpecialKey&&this.sendKey(e.charCode,e.keyCode),e.keyCode!=e.KC_TAB&&e.preventDefault(),!1},focus:function(){var e=this._subTplModuleCtrl.getData(),t=e.itemsView.items[e.focusIndex].initIndex;e.items[t].currentlyDisabled&&(e.focusIndex=this._getFirstEnabledItem().id),this._subTplModuleCtrl.setFocus()},_onBoundPropertyChange:function(e,t){var i=!1,r=this._subTplModuleCtrl;"selectedValues"==e?r.setSelectedValues(t):"selectedIndex"==e?r.setSelectedIndex(t):"disabled"==e?(r.setDisabled(t),i=!0):"maxOptions"==e?r.setMaxSelectedCount(t):"items"==e?(r.setItems(t),i=!0):"multipleSelect"==e&&r.setMultipleSelect(t),i&&this._subTplCtxt.$refresh()},_registerSingleProperty:function(e){var i=this._cfg.bind,r=i[e];if(i&&r&&i.hasOwnProperty(e)&&"items"===e){var s={fn:this._notifyDataChange,scope:this,args:e};try{t.addListener(r.inside,r.to,s,!0,!0),this._bindingListeners[e]={inside:r.inside,to:r.to,transform:r.transform,cb:s};var a=this._transform(r.transform,r.inside[r.to],"toWidget");this._cfg[e]=a}catch(n){this.$logError(this.INVALID_BEAN,[e,"bind"])}}else this.$TemplateBasedWidget._registerSingleProperty.apply(this,arguments)},setWidgetProperty:function(e,t){if(this._cfg)if("items"===e&&this._cfg.bind.hasOwnProperty(e)){var i=this.getProperty(e);this._cfg[e]=t,this._onBoundPropertyChange(e,t,i)}else this.$TemplateBasedWidget.setWidgetProperty.apply(this,arguments)}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/DropDownListTrait.js
//*******************
var e=require("../../Aria"),t=require("./list/List"),i=require("../../utils/Json"),r=require("../../core/Browser"),s=require("../../core/Timer");module.exports=e.classDefinition({$classpath:"aria.widgets.form.DropDownListTrait",$constructor:function(){this.$assert(11,!1)},$statics:{MAX_HEIGHT:210,MIN_HEIGHT:50},$prototype:{_clickOnItem:function(e){this._closeDropdown();var t=this.controller.checkDropdownValue(e.value);this._reactToControllerReport(t)},_handleKey:function(e){this._ignoreMouseOverItemCallback&&s.cancelCallback(this._ignoreMouseOverItemCallback),this._ignoreMouseOverItemCallback=s.addCallback({fn:this._enableMouseOverItem,scope:this,delay:100});var t=this.$DropDownTextInput||this.$DropDownInput;t._handleKey.call(this,e)},_enableMouseOverItem:function(){this._ignoreMouseOverItemCallback=null},_mouseOverItem:function(e){if(!this._ignoreMouseOverItemCallback){var t=this.controller.getDataModel();i.setValue(t,"selectedIdx",e.index)}},_keyPressed:function(e){return this._hasFocus?!1:(this.focus(null,!0),this._handleKey({charCode:e.charCode,keyCode:e.keyCode}),!0)},_renderDropdownContent:function(e,i){i=i||{};var r=this._cfg,s=this.controller.getDataModel(),a=this._domElt.lastChild,n=aria.utils.Dom,o=n.getGeometry(a);if(null!==o){n.scrollIntoView(a);var l=o.y,c=aria.utils.Dom._getViewportSize(),h=c.height-l-o.height,u=l>h?l:h,d=i.maxHeight||this.MAX_HEIGHT;u=u<this.MIN_HEIGHT?this.MIN_HEIGHT:u,u=u>d?d:u-2;var p=this._freePopupWidth?0:this._inputMarkupWidth+this._skinObj.offsetRight,g={id:r.id,defaultTemplate:"defaultTemplate"in i?i.defaultTemplate:r.listTemplate,block:!0,sclass:r.listSclass||this._skinObj.listSclass,onmouseover:{fn:this._mouseOverItem,scope:this},onclick:i.onclick||{fn:this._clickOnItem,scope:this},onkeyevent:{fn:this._keyPressed,scope:this},onclose:{fn:this._closeDropdown,scope:this},onchange:i.onchange,maxHeight:u,minWidth:"minWidth"in i?i.minWidth:p,width:this.__computeListWidth(r.popupWidth,p),preselect:i.preselect||r.preselect,bind:{items:{to:"listContent",inside:s},selectedIndex:{to:"selectedIdx",inside:s}},scrollBarX:!1};"bind"in i&&(g.bind.selectedValues=i.bind.selectedValues,g.bind.multipleSelect=i.bind.multipleSelect);var m=new t(g,this._context,this._lineNumber);m.$on({widgetContentReady:this._refreshPopup,scope:this}),e.registerBehavior(m),m.writeMarkup(e),this.controller.setListWidget(m)}},_afterDropdownClose:function(){this.controller.setListWidget(null),this.$DropDownTrait._afterDropdownClose.call(this)},__computeListWidth:function(e,t){return 0>e?null:r.isIE6?e:Math.max(e,t)}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/AutoCompleteStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.AutoCompleteStyle",$extends:"aria.widgets.form.TextInputStyle",$extendsType:"CSS",$constructor:function(){this.$TextInputStyle.constructor.call(this)},$destructor:function(){this.$TextInputStyle.$destructor.call(this)},$prototype:{__$initTemplate:function(){if(!this.$TextInputStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="AutoComplete"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/DropDownTrait.js
//*******************
var e=require("../../Aria"),t=require("../../popups/Popup"),i=require("../../utils/Json");module.exports=e.classDefinition({$classpath:"aria.widgets.form.DropDownTrait",$constructor:function(){this.$assert(14,!1)},$prototype:{_openDropdown:function(){if(!this._dropdownPopup&&!this._cfg.disabled&&!this._cfg.readOnly){var e=this._context.createSection({fn:this._renderDropdownContent,scope:this}),i=new t;this._dropdownPopup=i;var r={onAfterOpen:this._afterDropdownOpen,onAfterClose:this._afterDropdownClose,onMouseClickClose:this._dropDownMouseClickClose,scope:this};this._beforeDropdownClose&&(r.onBeforeClose=this._beforeDropdownClose),i.$on(r),aria.templates.Layout.$on({viewportResized:this._onViewportResized,scope:this}),i.open({section:e,domReference:this._getInputMarkupDomElt(),preferredPositions:[{reference:"bottom left",popup:"top left"},{reference:"top left",popup:"bottom left"}],offset:{top:this._skinObj.offsetTop,left:this._getPopupLeftOffset()},closeOnMouseClick:!0,closeOnMouseScroll:!0,ignoreClicksOn:this._getPopupIgnoreClicksOnDomElts(),preferredWidth:this._getPopupWidth()})}},_getPopupLeftOffset:function(){return 0},_onViewportResized:function(){this._closeDropdown(),this._openDropdown()},_frame_events:function(e){"iconMouseDown"!=e.name||"dropdown"!=e.iconName||this._cfg.disabled?"iconClick"!=e.name||"dropdown"!=e.iconName||this._cfg.disabled||this._toggleDropdown():this._hasFocus&&(this._keepFocus=!0)},_toggleDropdown:function(){},_getPopupIgnoreClicksOnDomElts:function(){return this._frame&&this._frame.getIcon?[this._frame.getIcon("dropdown")]:null},_afterDropdownOpen:function(){this._setPopupOpenProperty(!0),this._keepFocus=!0,this.focus(null,!0)},_afterDropdownClose:function(){this._setPopupOpenProperty(!1),this._dropdownPopup.$dispose(),this._dropdownPopup=null,aria.templates.Layout.$unregisterListeners(this),this._keepFocus=!1},_dropDownMouseClickClose:function(e){aria.utils.Dom.isAncestor(e.domEvent.target,this._domElt)||(this._keepFocus=!1,this._hasFocus=!1,this._updateState())},_closeDropdown:function(){this._dropdownPopup&&this._dropdownPopup.close()},_renderDropdownContent:function(){},_refreshPopup:function(){this._dropdownPopup.refresh()},_handleKey:function(){},_dom_onkeydown:function(e){e.isSpecialKey&&this._handleKey(e)},_dom_onkeypress:function(e){e.isSpecialKey||this._handleKey(e)},_getPopupWidth:function(){return this._cfg.popupWidth||-1},_setPopupOpenProperty:function(e){var t=this._cfg;if(t.popupOpen=e,t.bind&&t.bind.popupOpen){var r=t.bind.popupOpen;i.setValue(r.inside,r.to,e)}}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/TextInputStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.TextInputStyle",$extends:"aria.widgets.form.InputStyle",$extendsType:"CSS",$constructor:function(){this.$InputStyle.constructor.call(this)},$destructor:function(){this.$InputStyle.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n.xWidget.xFullWidth .xFrameContent .x",25),this.__$write(skinnableClassName,25),this.__$write("Input,\n.xWidget.xFullWidth .xSimpleFrame .x",25),this.__$write(skinnableClassName,26),this.__$write("Input {\nwidth: 100% !important;\nbox-sizing: border-box;\n}\n",26),this.$InputStyle.macro_main.apply(this,[])}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_writeState:function(info){try{with(this)this.__$write("\n.",34),this.__$write(cssPrefix(info),34),this.__$write("label {\nfont-weight: ",34),this.__$write(info.skinClass.label.fontWeight,35),this.__$write("\n}\n",36),this.$InputStyle.macro_writeState.apply(this,[info])}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeState",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$InputStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="TextInput",this.useFrame=!0}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/frames/FrameWithIcons.js
//*******************
var e=require("../../Aria"),t=require("../AriaSkinInterface"),i=require("./FrameFactory"),r=require("../../utils/Dom"),s=require("../../utils/Type"),a=require("../../utils/Array"),n=require("../../utils/Delegate");module.exports=e.classDefinition({$classpath:"aria.widgets.frames.FrameWithIcons",$constructor:function(e){var t=e.skinObject;this._baseId=e.id,this._skinObject=t,this._stateName=e.state,this._iconsLeft=e.iconsLeft,this._iconsRight=e.iconsRight,this._icons={},this._tooltipLabels=e.tooltipLabels,a.forEach(this._iconsLeft,this._initIcon,this),a.forEach(this._iconsRight,this._initIcon,this),this._outerWidth=e.width,this._outerHeight=e.height,this._updateIcons(),this._updateFrameWidth(),e.width=this._frameWidth,this._frame=i.createFrame(e),this.domElementNbr=this._frame.domElementNbr+this._iconsLeft.length+this._iconsRight.length,this.innerWidth=this._frame.innerWidth,this.innerHeight=this._frame.innerHeight},$destructor:function(){this._frame&&(this._frame.$dispose(),this._frame=null),this._icons&&(a.forEach(this._iconsLeft,this._destroyIcon,this),a.forEach(this._iconsRight,this._destroyIcon,this),this._iconsLeft=null,this._iconsRight=null,this._icons=null),this._domElt=null},$events:{iconClick:"",iconMouseDown:"",iconMouseUp:"",iconBlur:"",iconFocus:""},$statics:{createFrame:function(e){e=i.normalizeFrameCfg(e);var t=e.skinObject,r=this.computeIcons(t,e.hideIconNames);return e.iconsLeft=r.iconsLeft,e.iconsRight=r.iconsRight,r.hasIcons?new aria.widgets.frames.FrameWithIcons(e):i.createFrame(e)},computeIcons:function(e,t){null==e.iconsLeft||""===e.iconsLeft?e.iconsLeft=[]:s.isString(e.iconsLeft)&&(e.iconsLeft=e.iconsLeft.split(",")),null==e.iconsRight||""===e.iconsRight?e.iconsRight=[]:s.isString(e.iconsRight)&&(e.iconsRight=e.iconsRight.split(","));var i=this._filterIcons(e.iconsLeft,t),r=this._filterIcons(e.iconsRight,t);return{iconsLeft:i,iconsRight:r,hasIcons:i.length>0||r.length>0}},_filterIcons:function(e,t){if(t&&t.length>0){var i=[];return a.forEach(e,function(r,s){a.contains(t,e[s])||i.push(e[s])}),i}return e},eventMap:{click:"iconClick",mousedown:"iconMouseDown",mouseup:"iconMouseDown",blur:"iconBlur",focus:"iconFocus"},ICON_NOT_FOUND:"Icon was not found: %1"},$prototype:{writeMarkupBegin:function(e){var t=this;a.forEach(this._iconsLeft,function(i){t._writeIcon(i,e)}),this._frame.writeMarkupBegin(e)},writeMarkupEnd:function(e){this._frame.writeMarkupEnd(e);var t=this;a.forEach(this._iconsRight,function(i){t._writeIcon(i,e)})},getChild:function(e){return this._frame.getChild(e)},getSkinObject:function(){return this._skinObject},getStateName:function(){return this._stateName},getStateObject:function(){return this._skinObject.states[this._stateName]},resize:function(e,t){this._updateFrameWidth(e),this._frame.resize(this._frameWidth,t),this.innerWidth=this._frame.innerWidth,this.innerHeight=this._frame.innerHeight},_initIcon:function(e){this._icons[e]={domElts:[]}},_destroyIcon:function(e){this._icons[e].domElts=null,n.remove(this._icons[e].iconDelegateId),this._icons[e]=null,delete this._icons[e]},_updateIcons:function(){var e={width:0,activeIconIndex:0},t=this;a.forEach(this._iconsLeft,function(i){t._computeIconSize(i,e)}),a.forEach(this._iconsRight,function(i){t._computeIconSize(i,e)}),this._iconsWidth=e.width},_updateFrameWidth:function(){var e,t=this._outerWidth;return 0>t?e=-1:(e=t-this._iconsWidth,0>e&&(e=0)),this._frameWidth!==e?(this._frameWidth=e,!0):!1},_computeIconSize:function(e,i){var r=this.getStateObject(),s=r.icons[e].split(":"),a=t.getIcon(s[0],s[1]),n=r.icons[e+"IsActive"];a?(this._icons[e].iconInfo=a,this._icons[e].active=n,n&&(this._icons[e].tooltip=this._tooltipLabels[i.activeIconIndex++]),i.width+=a.width+(a.borderLeft||0)+(a.borderRight||0)):this.$logError(this.ICON_NOT_FOUND,e)},linkToDom:function(e){var t={domElt:e},i=this;a.forEach(this._iconsLeft,function(e){i._linkIconToDom(e,t)}),this._frame.linkToDom(t.domElt),t.domElt=r.getNextSiblingElement(t.domElt,this._frame.domElementNbr),a.forEach(this._iconsRight,function(e){i._linkIconToDom(e,t)})},changeState:function(e){this._stateName=e,this._updateIcons(),this._updateFrameWidth()&&this._frame.resize(this._frameWidth,this._outerHeight),a.forEach(this._iconsLeft,this._changeIconState,this),this._frame.changeState(e),a.forEach(this._iconsRight,this._changeIconState,this),this.innerWidth=this._frame.innerWidth,this.innerHeight=this._frame.innerHeight},getIcon:function(e){var t=this._icons[e];return t?t.domElts[0]:null},_getIconStyle:function(e,t){var i=["padding:0;display:inline-block;background-position:-",e.iconLeft,"px -",e.iconTop,"px;width:",e.width,"px;height:",e.height,"px;vertical-align: top;"];return t&&i.push("cursor:pointer;"),i.join("")},_writeIcon:function(t,i){var r=this._icons[t],s=r.iconInfo,a=this._getIconStyle(s,r.active),o=n,l=o.add({fn:this._delegateIcon,scope:this,args:t});this._icons[t].iconDelegateId=l;var c=r.tooltip?' title="'+r.tooltip.replace(/\"/gi,"&quot;")+'"':"";i.write(["<span",e.testMode&&this._baseId?' id="'+this._baseId+"_"+t+'"':"",' class="',s.cssClass,'" style="',a,'" '+o.getMarkup(l)+c+' tabIndex="-1">&nbsp;</span>'].join(""))},_linkIconToDom:function(e,t){var i=t.domElt;t.domElt=r.getNextSiblingElement(i),this._icons[e].domElts.push(i)},_changeIconState:function(e){for(var t=this._icons[e],i=t.domElts,r=t.iconInfo,s=this._getIconStyle(r,t.active),a=0,n=i.length;n>a;a++){var o=i[a];o.className=r.cssClass,o.style.cssText=s}},_delegateIcon:function(e,t){var i=this.eventMap[e.type];i&&this.$raiseEvent({name:i,iconName:t})}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/Input.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Dom"),i=require("../../utils/Data"),r=require("../../utils/String"),s=require("../environment/WidgetSettings"),a=require("../../core/Browser"),n=require("../WidgetTrait"),o=require("../Widget"),l=require("../../utils/Json");module.exports=e.classDefinition({$classpath:"aria.widgets.form.Input",$extends:o,$constructor:function(e){this._setAutomaticBindings(e),this.$Widget.constructor.apply(this,arguments),this._minInputMarkupWidth=5,this._defaultInputMarkupWidth=-1,this._labelPadding=2,this._maxInputMarkupWidth=-1,this._inputMarkupWidth=-1,this._label=null,this._fullWidth=!1,this._inputMarkupHeight=-1,this._isIE7OrLess=a.isOldIE&&a.majorVersion<8},$destructor:function(){this._onValidatePopup&&(this._onValidatePopup.$dispose(),this._onValidatePopup=null),this._label=null,this.$Widget.$destructor.call(this)},$statics:{WIDGET_INPUT_NO_LABEL:"%1Label HTML Element was not found.",WIDGET_INPUT_TOO_MANY_LABELS:"%1More than one label HTML Element has been found."},$prototype:{$init:function(e){var t=n.prototype;for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i]);e.automaticallyBindedProperties=["formatError","formatErrorMessages","error","errorMessages","requireFocus"]},_init:function(){var e=this._getInputMarkupDomElt();e&&this._initInputMarkup(e);var t=this._getInputLabelMarkupDomElt();t&&this._initLabelMarkup(t)},_initInputMarkup:function(){},_initLabelMarkup:function(e){this._label=e},_widgetMarkup:function(e){var t=this._cfg,i=!t.hideLabel&&!!t.label;this._isIE7OrLess&&e.write('<span style="display: inline-block;">'),i?"left"===t.labelPos?(this._inputLabelMarkup(e,"inline-block","right"),this._inputMarkup(e)):"top"===t.labelPos?(this._inputLabelMarkup(e,"block",!1),this._inputMarkup(e)):"bottom"===t.labelPos?(this._inputMarkup(e),this._inputLabelMarkup(e,"block",!1)):this._fullWidth?(this._inputLabelMarkup(e,"inline-block","left"),this._inputMarkup(e)):(this._inputMarkup(e),this._inputLabelMarkup(e,"inline-block","left")):this._inputMarkup(e),this._isIE7OrLess&&e.write("</span>")},_getInputMarkupDomElt:function(){var e,i=this._cfg,r=!i.hideLabel&&!!i.label;e=r?"right"===i.labelPos&&!this._fullWidth||"bottom"===i.labelPos?0:1:0;var s=this.getDom();return this._isIE7OrLess&&(s=s?s.firstChild:null),t.getDomElementChild(s,e)},_getInputLabelMarkupDomElt:function(){var e=this._cfg,i=!e.hideLabel&&!!e.label;if(i){var r=this.getDom();this._isIE7OrLess&&(r=r?r.firstChild:null);var s=t.getDomElementsChildByTagName(r,"label");if(s)if(0===s.length)this.$logError(this.WIDGET_INPUT_NO_LABEL,[]);else{if(1==s.length)return s[0];this.$logError(this.WIDGET_INPUT_TOO_MANY_LABELS,[])}}return null},getLabel:function(){return this._label||this._initDone||this.getDom(),this._label},_inputMarkup:function(){},_inputLabelMarkup:function(e,t,i){var n=this._cfg,o='class="x'+this._skinnableClass+"_"+n.sclass+"_"+this._state+"_label"+this._getFloatingLabelClass()+'"',l=a.isIE7?"-25%":n.verticalAlign?n.verticalAlign:"middle";e.write("<label "+o+' style="'),e.write(s.getWidgetSettings().middleAlignment?"vertical-align:"+l+";":"vertical-align:-1px;"),e.write(a.isIE7&&"inline-block"===t?"display:inline;zoom:1":"display:"+t),i&&e.write(";margin-"+i+":"+this._labelPadding+"px"),n.labelWidth>-1&&e.write(";width:"+n.labelWidth+"px"),n.labelHeight>-1&&e.write(";height:"+n.labelHeight+"px"),e.write(";text-align:"+n.labelAlign+';">'),e.write(r.escapeHTML(n.label)),e.write("</label>")},_getFloatingLabelClass:function(){var e=this._cfg;if(this._fullWidth){if("right"===e.labelPos)return" xFloatLabelRight";if("left"===e.labelPos)return" xFloatLabelLeft"}return""},_updateLabelState:function(){var e=this.getLabel();e&&(e.className="x"+this._skinnableClass+"_"+this._cfg.sclass+"_"+this._state+"_label"+this._getFloatingLabelClass())},_checkCfgConsistency:function(){var e,t=this._cfg,i=t.width,r="top"===t.labelPos||"bottom"===t.labelPos,a=!t.hideLabel&&!!t.label;i>-1&&(i<this._minInputMarkupWidth&&(i=this._minInputMarkupWidth),e=t.labelWidth,a&&e>-1?(r?(i>e?e=i:e>i&&(i=e),this._inputMarkupWidth=i):e+this._minInputMarkupWidth>i?(i=e+this._minInputMarkupWidth,this._inputMarkupWidth=this._minInputMarkupWidth):this._inputMarkupWidth=i-e,t.labelWidth=e):this._inputMarkupWidth=i,t.width=i),this._inputMarkupWidth<0&&(this._inputMarkupWidth=this._defaultInputMarkupWidth),a&&!r&&(this._inputMarkupWidth-=this._labelPadding),null==t.directOnBlurValidation&&(t.directOnBlurValidation=s.getWidgetSettings().directOnBlurValidation),t.height>-1&&(this._inputMarkupHeight=t.height,a&&r&&(this._inputMarkupHeight-=t.labelHeight)),this.$Widget._checkCfgConsistency.call(this)},_onBoundPropertyChange:function(e,t){if("requireFocus"===e){if(!t||!this.focus||this._cfg.disabled)return;var i=this._cfg.bind[e],s=i.inside[i.to];s&&(this.focus(),l.setValue(i.inside,i.to,!1))}else if("label"===e){this._cfg[e]=t;var a=this.getLabel();a&&(a.innerHTML=r.escapeHTML(t))}return this.$Widget._onBoundPropertyChange.apply(this,arguments)},_setAutomaticBindings:function(e){var t,r,s,a=this.automaticallyBindedProperties,n=null;if(e&&e.bind&&(n=e.bind.value),n&&n.inside&&(t=i._getMeta(n.inside,n.to,!1),e.bind.error||(e.bind.error={inside:t,to:"error"}),e.bind.errorMessages||(e.bind.errorMessages={inside:t,to:"errorMessages"}),e.bind.formatErrorMessages||(e.bind.formatErrorMessages={inside:t,to:"formatErrorMessages"}),e.bind.requireFocus||(e.bind.requireFocus={inside:t,to:"requireFocus"}),e.inputMetaData)){s="local:"+e.inputMetaData,r=t[s],null==r&&(r={},t[s]=r);for(var o=0;o<a.length;o++)e.bind[a[o]]||(e.bind[a[o]]={inside:r,to:a[o]})}}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/InputWithFrame.js
//*******************
var e=require("../../Aria"),t=require("../frames/FrameWithIcons"),i=require("../../utils/Event"),r=require("../IconStyle.tpl.css"),s=require("./Input");module.exports=e.classDefinition({$classpath:"aria.widgets.form.InputWithFrame",$extends:s,$css:[r],$constructor:function(e){this.$Input.constructor.apply(this,arguments),this._skinObj=aria.widgets.AriaSkinInterface.getSkinObject(this._skinnableClass,e.sclass),this._frame=null,this._hideIconNames=null,this._fullWidth=e.fullWidth||!1,this._setState()},$destructor:function(){this._frame&&(this._frame.$unregisterListeners(this),this._frame.$dispose(),this._frame=null),this._label&&i.removeListener(this._label,"click",{fn:this._onLabelClick,scope:this}),this.$Input.$destructor.call(this)},$statics:{FULL_WIDTH_NOT_SUPPORTED:"The fullWidth property is not supported when used with a SimpleHTML or Table frame or in a frame that uses icons. The property is not applied. Please use a Simple Frame inside your skin."},$prototype:{_frame_events:function(){},_init:function(){this.$Input._init.call(this);var e=this.getLabel();e&&i.addListener(e,"click",{fn:this._onLabelClick,scope:this})},_onLabelClick:function(){this.getTextInputField().focus()},_inputMarkup:function(e){var i=this._cfg;this._frame=t.createFrame({sclass:i.sclass,id:this._domId,skinnableClass:this._skinnableClass,width:this._inputMarkupWidth,state:this._state,scrollBarX:!1,scrollBarY:!1,tooltipLabels:[i.iconTooltip],hideIconNames:this._hideIconNames,inlineBlock:!0,height:this._inputMarkupHeight,fullWidth:this._fullWidth}),this._frame.$on({"*":this._frame_events,scope:this}),this._frame.writeMarkupBegin(e),this._inputWithFrameMarkup(e),this._frame.writeMarkupEnd(e)},_checkCfgConsistency:function(){this._fullWidth&&("SimpleHTML"===this._skinObj.frame.frameType||"Table"===this._skinObj.frame.frameType||this._checkFrameHasIcons()?(this._fullWidth=!1,this.$logError(this.FULL_WIDTH_NOT_SUPPORTED)):(this._extraCssClassNames.push("xFullWidth"),this._cfg.width=-1)),this.$Input._checkCfgConsistency.call(this)},_checkFrameHasIcons:function(){return t.computeIcons(this._skinObj,this._hideIconNames).hasIcons},_inputWithFrameMarkup:function(){},_initInputMarkup:function(e){this._frame.linkToDom(e)},_setState:function(){this._state="normal"},_updateState:function(){this._setState(),this._selectField||this._initDone||this.getDom(),this._updateLabelState(),this._frame.changeState(this._state)}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/TextInput.js
//*******************
var e=require("../../Aria"),t=require("../../utils/Data"),i=require("../../utils/String"),r=require("../environment/WidgetSettings"),s=require("../../utils/Caret"),a=require("./TextInputStyle.tpl.css"),n=require("./InputWithFrame"),o=require("../../utils/Type"),l=require("../../utils/Array"),c=require("../../core/Browser"),h=require("../../core/Timer");module.exports=e.classDefinition({$classpath:"aria.widgets.form.TextInput",$extends:n,$css:[a],$constructor:function(e,t,i,r){this.$InputWithFrame.constructor.apply(this,arguments),this._minInputMarkupWidth=8,this._defaultInputMarkupWidth=170,this._isPassword=!1,this._isTextarea=!1,this._valTimer=null,this._keepFocus=!1,this._currentCaretPosition=null,this.controller=r,r&&r.$on({onCheck:this._reactToControllerReportEvent,scope:this}),this._textInputField=null,this._hasFocus=!1,this._customTabIndexProvided=!0,this._isPrefilled=!1,this._simpleHTML=this._skinObj.simpleHTML,this._firstFocus=!0},$destructor:function(){this._textInputField=null,this.controller&&(this.controller.$dispose(),this.controller=null),this.$InputWithFrame.$destructor.call(this)},$statics:{WIDGET_VALUE_IS_WRONG_TYPE:"%1Value '%2' is of incorrect type."},$prototype:{_skinnableClass:"TextInput",$init:function(e){e.automaticallyBindedProperties=e.automaticallyBindedProperties.concat("prefillError")},_getTextFieldColor:function(){if(this._simpleHTML)return this._skinObj.states[this._state].color;if(this._isIE7OrLess){var e=this._skinObj.states[this._state];return e.color||e.frame.color}return"inherit"},_onLabelClick:function(e){this.$InputWithFrame._onLabelClick.call(this,e),s.select(this.getTextInputField())},_getText:function(){var e=this._cfg,t=e.invalidText||"";t&&e.value&&(this.setProperty("invalidText",null),t="");var i=this.checkValue({text:t,value:e.value,performCheckOnly:!0});if(i.report){var r=i.report;t||null==r.text||(t=""+r.text),r.$dispose()}return t||(t=this._getPrefilledText(e.prefill)),t},_setText:function(e){null==e&&(e=this._getText()),e||this._isPassword?e&&(this.setHelpText(!1),this.getTextInputField().value=e):(this.getTextInputField().value="",this.setHelpText(!0))},_getPrefilledText:function(e){return e&&this.controller&&this.controller.getDisplayTextFromValue?this.controller.getDisplayTextFromValue(this._cfg.prefill):e},_inputWithFrameMarkup:function(t){var r=this._cfg,s=this._skinObj,a=this._helpTextSet,n=this._skinObj.helpText,o=this._getTextFieldColor(),l=i,c=["padding:",s.innerPaddingTop,"px ",s.innerPaddingRight,"px ",s.innerPaddingBottom,"px ",s.innerPaddingLeft,"px;position:relative;margin:0;"];this._simpleHTML||c.push("background-color:transparent;border-width:0px;vertical-align:top;");var h=this._getText();a&&(this._isIE7OrLess&&this._isPassword?(this._helpTextSet=a=!1,r.helptext=null):o=n.color+(n.italics?";font-style:italic":""));var u=this._isPassword&&!a?"password":"text",d=this._computeInputWidth();0>d&&(d=0);var p="";null!=r.spellCheck&&(p=' spellcheck="'+(r.spellCheck?"true":"false")+'"'),t.write(this._isTextarea?["<textarea",e.testMode?' id="'+this._domId+'_textarea"':"",r.disabled?' disabled="disabled"':r.readOnly?' readonly="readonly"':"",' type="',u,'" style="',c.join(""),"color:",o,";overflow:auto;resize:none;height: "+this._frame.innerHeight+"px; width:",d,'px;"','value=""',r.maxlength>-1?'maxlength="'+r.maxlength+'" ':" ",null!=r.tabIndex?'tabindex="'+this._calculateTabIndex()+'" ':" ",p,">",l.encodeForQuotedHTMLAttribute(this._helpTextSet?r.helptext:h),"</textarea>"].join(""):['<input class="xTextInputInput" ',e.testMode?' id="'+this._domId+'_input"':"",r.disabled?' disabled="disabled"':r.readOnly?' readonly="readonly"':"",' type="',u,'" style="',c.join(""),"color:",o,";width:",d,'px;"','value="',l.encodeForQuotedHTMLAttribute(this._helpTextSet?r.helptext:h),'" ',r.maxlength>-1?'maxlength="'+r.maxlength+'" ':" ",null!=r.tabIndex?'tabindex="'+this._calculateTabIndex()+'" ':" ",p,' _ariaInput="1"/>'].join(""))},_computeInputWidth:function(){var e=this._skinObj;return this._frame.innerWidth-e.innerPaddingLeft-e.innerPaddingRight},_initInputMarkup:function(e){this.$InputWithFrame._initInputMarkup.call(this,e),this._textInputField=this._frame.getChild(0),this._reactToChange()},getTextInputField:function(){return this._textInputField||this._initDone||this.getDom(),this._textInputField},checkValue:function(e){var t=this.getTextInputField(),i=t?t.value:"",r=null,s=!1;e&&(i=null!=e.text?e.text:i,r=e.value,s=e.performCheckOnly),!s&&this._cfg.directOnBlurValidation&&this.changeProperty("formatError",!1);var a={isValid:!0,report:null};if(!this.controller)return a;var n,l=this._cfg.formatErrorMessages.length?!0:!1;return(n=null!=r?this.controller.checkValue(r):this.controller.checkText(i,l))?(n.errorMessages.length?s||(this.changeProperty("value",null),this.changeProperty("invalidText",i)):this._cfg.formatError===!1&&o.isArray(this._cfg.formatErrorMessages)&&this._cfg.formatErrorMessages.length?(this.changeProperty("invalidText",null),this.changeProperty("formatErrorMessages",[]),this.setHelpText(!1)):n.ok&&!s&&this.changeProperty("invalidText",null),s?{isValid:n.ok,report:n}:void this._reactToControllerReport(n,e)):a},_reactToControllerReportEvent:function(e){this._keepFocus||this._hasFocus?this._reactToControllerReport(e.report,e.arg):e.report&&e.report.$dispose()},_reactToControllerReport:function(e,t){var i=!1,r=this._cfg;if(e){var s=!0,a=this._hasFocus,n=!1,o=!1;if(t&&(s=t.resetErrorIfOK!==!1,null!=t.hasFocus&&(a=t.hasFocus),t.stopValueProp&&(n=t.stopValueProp),t.delayedValidation&&(o=t.delayedValidation)),e.errorMessages.length&&this._cfg.directOnBlurValidation&&this.changeProperty("formatErrorMessages",e.errorMessages),!o){var l=e.text,h=e.value;if(null!=l&&!this._helpTextSet){var u=null!=e.caretPosStart&&null!=e.caretPosEnd?{start:e.caretPosStart,end:e.caretPosEnd}:null;c.isModernIE&&!u&&(u=this.getCaretPosition()),this.getTextInputField().value=l,u&&this.setCaretPosition(u.start,u.end)}"undefined"==typeof h||n||this._isPropertyEquals("value",h)||(i=this.setProperty("value",h))}this._cfg&&(e.ok?s&&r.directOnBlurValidation&&this.changeProperty("formatError",!1):e.ok===!1&&(a&&e.matchCorrectValueStart?r.directOnBlurValidation&&this.changeProperty("formatError",!1):r.directOnBlurValidation&&this.changeProperty("formatError",!0),this._isPropertyEquals("value",e.errorValue)||(i=this.setProperty("value",e.errorValue)))),i&&this._cfg&&(this.changeProperty("error",!1),this.evalCallback(r.onchange)),e.$dispose()}},getCaretPosition:function(){if(!this._hasFocus)return null;var e=this.getTextInputField();return s.getPosition(e)},setCaretPosition:function(e,t){if(this._hasFocus){var i=this.getTextInputField();s.setPosition(i,e,t)}},_isPropertyEquals:function(e,t){var i=this.getProperty(e);return i===t||null==i&&null==t},_onBoundPropertyChange:function(e,t,i){if("value"===e){this.setHelpText(!1),this.setPrefillText(!1,null,!0);var r=this._cfg,s="",a=this.checkValue({performCheckOnly:!0,value:t,text:null==t?"":null});if(!a.isValid)return this.$logError(this.WIDGET_VALUE_IS_WRONG_TYPE,[t]),void a.report.$dispose();if(this._cfg&&a.report&&null!=a.report.text&&(this._cfg.directOnBlurValidation&&this.changeProperty("formatError",!1),s=a.report.text),this.getTextInputField().value=s,a.report.$dispose(),a.report&&a.report.value!=t){var n=a.report.value;this._isPropertyEquals("value",n)||this.setProperty("value",n)}this.setHelpText(!0),(o.isArray(r.value)&&l.isEmpty(r.value)||!r.value)&&r.prefill&&r.prefill+""&&this.setPrefillText(!0,r.prefill,!0)}else if("invalidText"===e){if(t==i)return;var a;if(this._cfg.value&&(a=this.checkValue({performCheckOnly:!0,value:this._cfg.value,text:null==t?"":null})),!a||!a.isValid){var c=this.getTextInputField();c&&this._setText(t)}a&&a.report&&a.report.$dispose(),t||(this.changeProperty("formatErrorMessages",[]),this.changeProperty("formatError",!1),this.changeProperty("error",!1)),this.setProperty("invalidText",t),this._reactToChange()}else if("readOnly"===e||"disabled"===e)t&&(this._hasFocus=!1),this._cfg[e]=t,this._reactToChange();else if("mandatory"===e||"formatError"===e||"formatErrorMessages"===e||"error"===e||"errorMessages"===e){this._cfg[e]=t,this._reactToChange();var r=this._cfg;r&&"onError"===r.validationEvent&&(this._keepFocus||this._hasFocus)&&(r.formatError&&r.formatErrorMessages.length||r.error&&r.errorMessages.length?this._validationPopupShow():this._validationPopupHide())}else"prefill"==e?this.setPrefillText(!0,t,!0):"prefillError"==e?t?this.setPrefillText(!0,"",!0):t===!1&&this.setPrefillText(!0,this._cfg.prefill,!0):this.$InputWithFrame._onBoundPropertyChange.apply(this,arguments)},_setState:function(){this._cfg.disabled?this._state="disabled":this._cfg.readOnly?this._state="readOnly":this._isPrefilled?this._state="prefill":(this._state=this._cfg.mandatory?"mandatory":"normal",(this._cfg.formatError||this._cfg.error)&&(this._state+="Error"),(this._hasFocus||this._keepFocus)&&(this._state+="Focused"))},_updateState:function(){this.$InputWithFrame._updateState.call(this);var e=this._computeInputWidth();0>e&&(e=0),e&&(this.getTextInputField().style.width=e+"px"),!this._isIE7OrLess&&!this._simpleHTML||this._helpTextSet||(this.getTextInputField().style.color=this._getTextFieldColor()),this._cfg.formatError||this._cfg.error||this._validationPopupHide()},_reactToChange:function(){var e=this.getTextInputField();e&&(this._updateState(),e.readOnly=this._cfg.readOnly,e.disabled=this._cfg.disabled)},_dom_onkeydown:function(e){var t=e.keyCode==e.KC_ENTER;t&&this.checkValue()},_dom_onkeyup:function(){this._cfg.validationDelay&&(this._valTimer&&h.cancelCallback(this._valTimer),this._valTimer=h.addCallback({fn:this.checkValue,scope:this,args:{delayedValidation:!0},delay:this._cfg.validationDelay}))},_dom_onclick:function(){this._autoselect(),this._cfg.onclick&&this.evalCallback(this._cfg.onclick)},_dom_onfocus:function(e,t){if(this._hasFocus=!0,this._keepFocus){var i=this._currentCaretPosition;this._currentCaretPosition=null,i&&this.setCaretPosition(i.start,i.end)}else{var r=this._cfg;if(r.readOnly)return;this.setHelpText(!1),this._isPrefilled&&(this.setPrefillText(!1),this.checkValue({value:r.prefill})),this.checkValue({stopValueProp:!0}),this._cfg&&(r=this._cfg,"onFocus"===r.validationEvent&&(r.formatError&&r.formatErrorMessages.length||r.error&&r.errorMessages.length)&&this._validationPopupShow()),this._updateState()}this._cfg.onfocus&&!t&&this.evalCallback(this._cfg.onfocus)},_dom_onblur:function(e,i){if(this._hasFocus){if(this._keepFocus)this._currentCaretPosition=this.getCaretPosition(),this._hasFocus=!1;else{var r=this._cfg;if(this._hasFocus=!1,this._firstFocus=!0,r.readOnly)return;if(this.checkValue({eventName:"blur"}),r=this._cfg,!r)return;if(r.prefill?this.setPrefillText(!0,r.prefill,!1):this.setHelpText(!0),this._updateState(),r.formatError&&"onBlur"===r.validationEvent)this._validationPopupShow();else if(this._validationPopupHide(),r.directOnBlurValidation&&r.bind){var s=r.bind.value;if(s){var a=s.inside,n=s.to,o=r.validationGroups;if(t.validateValue(a,n,null,o,"onblur"),!this._cfg)return}}}this._cfg.onblur&&!i&&this.evalCallback(this._cfg.onblur)}},_setAutomaticBindings:function(e){this.$InputWithFrame._setAutomaticBindings.call(this,e);var i,r=null,s=null;e&&e.bind&&(r=e.bind.value,s=e.bind.prefill),r&&r.inside&&(i=t._getMeta(r.inside,r.to,!1),e.bind.invalidText||(e.bind.invalidText={inside:i,to:"invalidText"})),s&&s.inside&&(i=t._getMeta(s.inside,s.to,!1),e.bind.prefillError||(e.bind.prefillError={inside:i,to:"error"}))},_checkCfgConsistency:function(){this.$InputWithFrame._checkCfgConsistency.call(this);var e=this._cfg;null==e.autoselect&&(e.autoselect=r.getWidgetSettings().autoselect);var t=e.value;if(e.invalidText){var i=this.checkValue({text:e.invalidText,value:t,performCheckOnly:!0});i.isValid?i.report&&(this.changeProperty("error",!1),(null==i.report.text||""===i.report.text)&&(e.prefill&&e.prefill+""?this._isPrefilled=!0:this._helpTextSet=e.helptext),i.report.$dispose()):(e.directOnBlurValidation&&this.changeProperty("error",!0),t=e.invalidText,this._helpTextSet=!1,i.report&&i.report.$dispose()),this._setState()}else(o.isArray(t)&&l.isEmpty(t)||!t&&0!==t)&&(e.prefill&&e.prefill+""?this._isPrefilled=!0:this._helpTextSet=e.helptext),this._isPrefilled&&this._setState()},setHelpText:function(e){var t=this._cfg;if(t){var i=t.helptext,r=this._skinObj.helpText;if(i&&(this._helpTextSet||e)&&(!this._hasFocus&&!this._keepFocus||!e)){var s=this.getTextInputField();if((!s.value||!e)&&(this._helpTextSet=e,s)){var a=e?r.color:this._getTextFieldColor(),n=e&&r.italics?"italic":"normal",o=e?i:"",l=s.style;l.color=a,l.fontStyle=n,s.value=o}}}},setPrefillText:function(e,t,i){var r,s=this._cfg;if(s){var a=this.getTextInputField();if(e){if(!a||a.value&&!this._helpTextSet&&!this._isPrefilled)return;this.setHelpText(!1),r=null==t?"":this._getPrefilledText(t),s.prefillError&&(r=""),r?(this._isPrefilled=!0,a.value=r):(a.value=r,this._isPrefilled=!1,this.setHelpText(!0),this._updateState())}else this._isPrefilled=!1;i&&(e&&"prefill"==this._state||this._updateState())}},focus:function(e,t){if(this._cfg.disabled)return!1;var i=this.getTextInputField();i.focus(),i.value=i.value,t||h.addCallback({fn:function(){this._autoselect()},scope:this,delay:25})},_autoselect:function(){if(this._firstFocus&&this._cfg&&this._cfg.autoselect){this._firstFocus=!1;var e=this.getTextInputField(),t=0,i=e.value.length?e.value.length:0;i&&this.setCaretPosition(t,i)}}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/DropDownTextInput.js
//*******************
var e=require("../../Aria"),t=require("./DropDownTrait"),i=require("./TextInput"),r=require("../../core/Browser"),s=require("../../core/Timer");module.exports=e.classDefinition({$classpath:"aria.widgets.form.DropDownTextInput",$extends:i,$constructor:function(e,t,i,r){this.$TextInput.constructor.call(this,e,t,i,r)},$destructor:function(){this._closeDropdown(),this.$TextInput.$destructor.call(this)},$prototype:{_skinnableClass:"DropDownInput",$init:function(e){var i=t.prototype;for(var r in i)i.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=i[r])},_toggleDropdown:function(){this._hasFocus||this.focus(null,!0);var e=this.controller.toggleDropdown(this.getTextInputField().value,null!=this._dropdownPopup);this._reactToControllerReport(e,{hasFocus:!0}),this.focus(null,!0)},_handleKey:function(e){this.controller&&(e.ctrlKey||e.altKey?s.addCallback({fn:this._checkKeyStroke,scope:this,args:e,delay:4}):this._checkKeyStroke(e))},_checkKeyStroke:function(e){var t=this.controller,i=this.getCaretPosition();if(i){var r=t.checkKeyStroke(e.charCode,e.keyCode,this.getTextInputField().value,i.start,i.end,e);r&&r.cancelKeyStroke&&e.preventDefault&&e.preventDefault(!0),this._reactToControllerReport(r,{hasFocus:!0})}},_dom_onkeydown:function(e){this.$DropDownTrait._dom_onkeydown.call(this,e),e.hasStopPropagation||this.$TextInput._dom_onkeydown.call(this,e)},_dom_onkeyup:function(e){var t=r;t.isAndroid&&t.isChrome&&!e.isSpecialKey&&229==e.keyCode&&(e.charCode=0,this._handleKey(e)),this.$TextInput._dom_onkeydown.call(this,e)},_reactToControllerReport:function(e,t){if(e){var i=e.displayDropDown,r=e.repositionDropDown;this.$TextInput._reactToControllerReport.call(this,e,t),this._cfg&&(i!==!0||this._dropdownPopup?i===!1&&this._dropdownPopup?this._closeDropdown():r&&this._dropdownPopup&&(this._closeDropdown(),this._openDropdown()):this._openDropdown())}},_onBoundPropertyChange:function(e){"popupOpen"==e?this._toggleDropdown():this.$TextInput._onBoundPropertyChange.apply(this,arguments)},initWidget:function(){this.$TextInput.initWidget.call(this),this._cfg.popupOpen&&this._toggleDropdown()}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/AutoComplete.js
//*******************
var e=require("../../Aria"),t=require("./DropDownListTrait"),i=require("../controllers/AutoCompleteController"),r=require("../../utils/Event"),s=require("./AutoCompleteStyle.tpl.css"),a=require("./list/ListStyle.tpl.css"),n=require("../container/DivStyle.tpl.css"),o=require("./DropDownTextInput"),l=require("../../core/Browser");module.exports=e.classDefinition({$classpath:"aria.widgets.form.AutoComplete",$extends:o,$css:[s,a,n],$constructor:function(e,t,r,s){var a=s||new i;!e.expandButton&&e.bind&&delete e.bind.popupOpen,this.$DropDownTextInput.constructor.call(this,e,t,r,a),e.expandButton||(this._hideIconNames=["dropdown"]);try{a.setResourcesHandler(e.resourcesHandler)}catch(n){this.$logError(this.WIDGET_AUTOCOMPLETE_INVALID_HANDLER,[e.resourcesHandler],n)}a.autoFill=e.autoFill,a.freeText=e.freeText,a.maxlength=e.maxlength,a.expandButton=e.expandButton,a.selectionKeys=e.selectionKeys,a.preselect=e.preselect,this._freePopupWidth=!1},$destructor:function(){this._dropdownPopup&&this._dropdownPopup.$removeListeners({onBeforeClose:this._beforeDropdownClose,scope:this}),this._initDone&&this._removeEvents(),this.$DropDownTextInput.$destructor.call(this)},$statics:{WIDGET_AUTOCOMPLETE_INVALID_HANDLER:"%1Could not create resources handler %2: dependency on this handler is missing."},$prototype:{_skinnableClass:"AutoComplete",$init:function(e){var i=t.prototype;for(var r in i)i.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=i[r])},_renderDropdownContent:function(e,t){if(t=t||{},!("defaultTemplate"in t)){var i=this._cfg;t.defaultTemplate=i.suggestionsTemplate?i.suggestionsTemplate:this.controller.getDefaultTemplate()}if(!("minWidth"in t)){var r=this._inputMarkupWidth;r=150>r?150:r,t.minWidth=r+this._skinObj.offsetRight}t.maxHeight=this._cfg.popupMaxHeight||210,this.$DropDownListTrait._renderDropdownContent.call(this,e,t)},_reactToControllerReport:function(e,t){this.controller._resetFocus||(this._keepFocus=!1),this.$DropDownTextInput._reactToControllerReport.call(this,e,t)},_beforeDropdownClose:function(e){if(this._cfg.autoFill&&e.domEvent){var t=this.controller.checkDropdownValue(this.controller.getDataModel().value);this._reactToControllerReport(t)}},_init:l.isOldIE?function(){this.$DropDownTextInput._init.call(this);var e=this.getTextInputField();r.addListener(e,"paste",{fn:this._dom_onpaste,scope:this}),r.addListener(e,"cut",{fn:this._dom_oncut,scope:this})}:function(){this.$DropDownTextInput._init.call(this)},_removeEvents:l.isOldIE?function(){var e=this.getTextInputField();r.removeListener(e,"paste"),r.removeListener(e,"cut")}:function(){},_dom_onpaste:function(e){this.__propagateKeyDown(e)},_dom_oncut:function(e){this.__propagateKeyDown(e)},__propagateKeyDown:function(e){var t=!1;e.$DomEvent||(e=new aria.DomEvent(e),t=!0),e.isSpecialKey=!0,e.ctrlKey=!0,e.charCode=0,this._dom_onkeydown.call(this,e),t&&e.$dispose()},_onBoundPropertyChange:function(e){("popupOpen"!=e||this._cfg.expandButton)&&this.$DropDownTextInput._onBoundPropertyChange.apply(this,arguments)},initWidget:function(){!this._cfg.expandButton&&this._cfg.popupOpen&&(this._cfg.popupOpen=!1),this.$DropDownTextInput.initWidget.call(this)}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/AutoCompleteBean.js
//*******************
var e=require("../../Aria"),t=require("../../core/JsonTypes");module.exports=e.beanDefinitions({$package:"aria.widgets.form.AutoCompleteBean",$namespaces:{json:t},$beans:{Suggestion:{$type:"json:Object",$properties:{exactMatch:{$type:"json:Boolean",$default:!1}}}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/CheckBoxStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.CheckBoxStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_writeState:function(info){try{with(this){var labelFontStyle=info.state.font;labelFontStyle&&(this.__$write("\n.",25),this.__$write(cssPrefix(info),25),this.__$write("label {\n",25),this.macro_generateFontStyle(labelFontStyle),this.__$write("\n}\n",27))}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeState",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="CheckBox"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/CheckBox.js
//*******************
var e=require("../../Aria"),t=require("../Icon"),i=require("../../DomEvent"),r=require("../../utils/String"),s=require("./CheckBoxStyle.tpl.css"),a=require("./Input"),n=require("../../core/Browser");module.exports=e.classDefinition({$classpath:"aria.widgets.form.CheckBox",$extends:a,$css:[s],$constructor:function(e,i,r){this.$Input.constructor.apply(this,arguments),this._setSkinObj(this._skinnableClass),this._setInputType(),this._setIconPrefix(),this._setState(),this._skinObj.simpleHTML||(this._icon=new t({icon:this._getIconName(this._state)},i,r)),this._hasFocus=!1,this._mousePressed=!1},$destructor:function(){this._icon&&(this._icon.$dispose(),this._icon=null),this.$Input.$destructor.call(this)},$prototype:{_skinnableClass:"CheckBox",focus:function(){this._focus()},_checkCfgConsistency:function(){this._customTabIndexProvided=this._skinObj.simpleHTML},_isChecked:function(){return this.getProperty("value")},_inputMarkup:function(t){var i=this._cfg,r=this._inputName?' name="'+this._inputName+'"':"";if(this._skinObj.simpleHTML){var s=this._cfg.tabIndex;s=i.disabled?"":'tabindex="'+this._calculateTabIndex()+'" ',t.write(['<input style="display:inline-block"',i.disabled?" disabled":"",this._isChecked()?" checked":"",' type="',i._inputType,'"',r,' value="',i.value,'" '+s+"/>"].join(""))}else this._icon.writeMarkup(t),t.write(["<input",e.testMode?' id="'+this._domId+'_input"':"",' style="display:none"',i.disabled?" disabled":"",this._isChecked()?" checked":"",' type="',i._inputType,'"',r,' value="',i.value,'"/>'].join(""))},_inputLabelMarkup:function(e,t,i){var s,a,o=this._cfg,l=this._icon?this._icon.getCurrentIconInfo():null;null!=l&&(s=l.height),null!=this._skinObj.states[this._state]&&(a=this._skinObj.states[this._state].color),e.write('<span style="'),this._skinObj.simpleHTML&&"block"!=t&&e.write("padding-bottom: 7px;display:inline-block;"),s&&n.isOldIE&&e.write("line-height:"+(s-2)+"px;");var c='class="x'+this._skinnableClass+"_"+o.sclass+"_"+this._state+'_label"';e.write('vertical-align:middle;"><label '+c+' style="display:'+t),i&&e.write(";margin-"+i+":"+this._labelPadding+"px"),o.labelWidth>-1&&e.write(";width:"+o.labelWidth+"px"),a&&e.write(";color:"+a),e.write(";text-align:"+o.labelAlign+';">'),e.write(r.escapeHTML(o.label)),e.write("</label></span>")},_initInputMarkup:function(){this._initializeFocusableElement(),this._getFocusableElement(),this._label=null;var e=this.getDom().getElementsByTagName("label");e.length>0&&(this._label=e[0],e=null)},_initializeFocusableElement:function(){this._focusableElement=this.getDom()},_getFocusableElement:function(){return this._focusableElement||this._initializeFocusableElement(),this._focusableElement},_onBoundPropertyChange:function(e,t){if("value"===e)this._cfg.value=t,this._setState(),this._updateDomForState();else if("disabled"===e){this._cfg.disabled=t;var i=this.getDom(),r=this.getProperty("disabled")||this.getProperty("readOnly"),s=r?-1:this._calculateTabIndex();i.tabIndex=s,this._setState(),this._updateDomForState(),this._initInputMarkup()}else this.$Input._onBoundPropertyChange.apply(this,arguments)},_getIconName:function(e){var t=this._cfg;return t._iconSet+":"+t._iconPrefix+e},_setState:function(){var e=this._cfg;this._state=this._hasFocus?"focused":"normal",e.disabled&&(this._state="disabled"),this._isChecked()&&(this._state+="Selected")},_updateDomForState:function(){var e=this._state;this._icon&&this._icon.changeIcon(this._getIconName(e));var t=this.getDom().getElementsByTagName("input")[0];if(null!=t){var i=this._isChecked();t.checked=i,t.value=i?"true":"false",t.disabled=this.getProperty("disabled")}if(null!=this._label)try{this._label.style.color=this._skinObj.states[e].color}catch(r){this._label.style.color=""}},_setInputType:function(){this._cfg._inputType="checkbox"},_setSkinObj:function(e){this._skinObj=aria.widgets.AriaSkinInterface.getSkinObject(e,this._cfg.sclass)},_setIconPrefix:function(){this._cfg._iconSet=this._skinObj.iconset,this._cfg._iconPrefix=this._skinObj.iconprefix},_focus:function(){try{this._getFocusableElement().focus()}catch(e){}},_toggleValue:function(){var e=!this.getProperty("value");if(this._cfg.value=e,this.setProperty("value",e),this._cfg){this._setState(),this._updateDomForState();var t=this._cfg.onchange;t&&this.evalCallback(t)}},_dom_onclick:function(e){e.preventDefault(!0)},_dom_onmouseout:function(){this._mousePressed=!1},_dom_onmousedown:function(e){this._mousePressed=!0,this._hasFocus||this._focus(),e.preventDefault(!0)},_dom_onmouseup:function(){this._mousePressed&&(this._mousePressed=!1,this._toggleValue(),this._hasFocus||this._focus())},_dom_onfocus:function(){this._hasFocus=!0,this._setState(),this._updateDomForState()},_dom_onblur:function(){this._hasFocus=!1,this._setState(),this._updateDomForState()},_dom_onkeydown:function(e){e.keyCode==i.KC_SPACE&&(this._toggleValue(),e.preventDefault(!0))}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/DatePickerStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.DatePickerStyle",$extends:"aria.widgets.form.TextInputStyle",$extendsType:"CSS",$constructor:function(){this.$TextInputStyle.constructor.call(this)},$destructor:function(){this.$TextInputStyle.$destructor.call(this)},$prototype:{__$initTemplate:function(){if(!this.$TextInputStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="DatePicker"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/DatePicker.js
//*******************
var e=require("../../Aria"),t=require("../calendar/Calendar"),i=require("../controllers/DatePickerController"),r=require("./DatePickerStyle.tpl.css"),s=require("../calendar/CalendarStyle.tpl.css"),a=require("../container/DivStyle.tpl.css"),n=require("./DropDownTextInput"),o=require("../../core/Browser");module.exports=e.classDefinition({$classpath:"aria.widgets.form.DatePicker",$extends:n,$css:[r,s,a],$constructor:function(e,t,r){var s=new i;this.$DropDownTextInput.constructor.call(this,e,t,r,s),s.setPattern(e.pattern),s.setInputPattern(e.inputPattern),e.minValue&&s.setMinValue(new Date(e.minValue)),e.maxValue&&s.setMaxValue(new Date(e.maxValue)),e.referenceDate&&s.setReferenceDate(new Date(e.referenceDate)),this._dropDownIconFocus=!1},$destructor:function(){this._dropDownIcon=null,this.$DropDownTextInput.$destructor.call(this)},$prototype:{_skinnableClass:"DatePicker",_frame_events:function(e){"iconFocus"!==e.name||"dropdown"!=e.iconName||this._cfg.disabled||(this._dropDownIconFocus=!0),"iconBlur"!==e.name||"dropdown"!=e.iconName||this._cfg.disabled||(this._dropDownIconFocus=!1),this.$DropDownTextInput._frame_events.call(this,e)},_clickOnDate:function(e){var t=e.date;this._closeDropdown();var i=this.controller.checkValue(t);this._reactToControllerReport(i)},_initInputMarkup:function(){this.$DropDownTextInput._initInputMarkup.apply(this,arguments);var e=null;this._frame.getIcon&&(e=this._frame.getIcon("dropdown")),this.$assert(54,e),this._dropDownIcon=e},setCaretPosition:function(e,t){return this._dropDownIconFocus?void(this._currentCaretPosition={start:e,end:t}):this.$DropDownTextInput.setCaretPosition.apply(this,arguments)},getCaretPosition:function(){if(this._dropDownIconFocus){var e=this._currentCaretPosition;return e?e:{start:0,end:0}}return this.$DropDownTextInput.getCaretPosition.apply(this,arguments)},focus:function(){this._dropdownPopup?(this._hasFocus&&!this._dropDownIconFocus&&(this._keepFocus=!0),this._dropDownIconFocus||this._dropDownIcon.focus()):(this._hasFocus&&this._dropDownIconFocus&&(this._keepFocus=!0),this.$DropDownTextInput.focus.call(this))},_dom_onclick:function(){this.$DropDownTextInput._dom_onclick.call(this),this._dropDownIconFocus||this._closeDropdown()},_applyCalendarCfg:function(e,t){var i=this._cfg,r=this._skinObj,s="calendar"+e.substring(0,1).toUpperCase()+e.substring(1);t[e]="undefined"!=typeof i[s]?i[s]:r.calendar[e]},_renderDropdownContent:function(e){var i=this._cfg,r=i.popupWidth&&i.popupWidth>-1&&o.isIE6;r&&e.write('<div style="width: '+i.popupWidth+'px;">');for(var s,a=this.controller.getDataModel(),n={block:!0,startDate:a.jsDate,tabIndex:-1,label:i.calendarLabel,defaultTemplate:i.calendarTemplate,minValue:i.minValue,maxValue:i.maxValue,onclick:{fn:this._clickOnDate,scope:this},bind:{value:{to:"calendarValue",inside:a}}},l=["displayUnit","numberOfUnits","firstDayOfWeek","monthLabelFormat","dayOfWeekLabelFormat","dateLabelFormat","completeDateLabelFormat","showWeekNumbers","showShortcuts","restrainedNavigation","sclass"],c=0;s=l[c];c++)this._applyCalendarCfg(s,n);var h=new t(n,this._context,this._lineNumber);h.$on({widgetContentReady:this._refreshPopup,scope:this}),this.controller.setCalendar(h),e.registerBehavior(h),h.writeMarkup(e),r&&e.write("</div>")},_closeDropdown:function(){this._dropdownPopup&&(this.$DropDownTextInput._closeDropdown.call(this),this.focus())},_refreshPopup:function(){this._dropdownPopup&&this._dropdownPopup.refresh()},_afterDropdownClose:function(){this.$DropDownTextInput._afterDropdownClose.call(this),this.controller.setCalendar(null)},_onBoundPropertyChange:function(e,t,i){"referenceDate"===e?this.controller.setReferenceDate(t):this.$DropDownTextInput._onBoundPropertyChange.call(this,e,t,i)}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/DropDownInput.js
//*******************
var e=require("../../Aria"),t=require("./DropDownTrait"),i=require("./InputWithFrame");module.exports=e.classDefinition({$classpath:"aria.widgets.form.DropDownInput",$extends:i,$constructor:function(){this.$InputWithFrame.constructor.apply(this,arguments),this.controller=null},$destructor:function(){this._closeDropdown(),this.controller&&(this.controller.$dispose(),this.controller=null),this.$InputWithFrame.$destructor.call(this)},$prototype:{$init:function(e){var i=t.prototype;for(var r in i)i.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=i[r])},_handleKey:function(e){var t=this.controller;if(t&&!e.ctrlKey&&!e.altKey){var i=t.checkKeyStroke(e.charCode,e.keyCode);i&&i.cancelKeyStroke&&e.preventDefault&&e.preventDefault(!0),this._reactToControllerReport(i)}},_toggleDropdown:function(){this._domElt||this.initWidgetDom();var e=this.controller;if(e){var t=e.toggleDropdown();this._reactToControllerReport(t)}},_onBoundPropertyChange:function(e){"popupOpen"==e?this._toggleDropdown():this.$InputWithFrame._onBoundPropertyChange.apply(this,arguments)},initWidget:function(){this.$InputWithFrame.initWidget.call(this),this._cfg.popupOpen&&this._toggleDropdown()}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/GaugeStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.GaugeStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_writeSkinClass:function(info){try{with(this)this.__$write("\n.x",24),this.__$write(skinnableClassName,24),this.__$write("_",24),this.__$write(info.skinClassName,24),this.__$write("{\n",24),this.macro_writeBorderRadius(info.skinClass.container),info.skinClass.container.boxShadow&&(this.__$write("\nbox-shadow: ",28),this.__$write(info.skinClass.container.boxShadow,28),this.__$write(";\n",28)),this.__$write("\n}\n.x",30),this.__$write(skinnableClassName,31),this.__$write("_progress_",31),this.__$write(info.skinClassName,31),this.__$write("{\n",31),this.macro_background(info.skinClass.backgroundColor,info.skinClass.spriteUrl,"repeat-x"),this.macro_writeBorderRadius(info.skinClass),this.__$write("\n}\n",34)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeSkinClass",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$WidgetStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Gauge"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/InputStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.InputStyle",$extends:"aria.widgets.WidgetStyle",$extendsType:"CSS",$constructor:function(){this.$WidgetStyle.constructor.call(this)},$destructor:function(){this.$WidgetStyle.$destructor.call(this)},$prototype:{macro_writeState:function(info){try{with(this){var label=info.state.label||{};this.__$write("\n\n.",24),this.__$write(cssPrefix(info),25),this.__$write("label {\n",25),label.color&&(this.__$write("\ncolor: ",27),this.__$write(label.color,27),this.__$write(";\n",27)),label.font&&this.macro_generateFontStyle(label.font),this.__$write("\n}\n",32)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeState",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){return this.$WidgetStyle.__$initTemplate.call(this)?!0:!1}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/MultiAutoCompleteStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.MultiAutoCompleteStyle",$extends:"aria.widgets.form.TextInputStyle",$extendsType:"CSS",$constructor:function(){this.$TextInputStyle.constructor.call(this)},$destructor:function(){this.$TextInputStyle.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n.xMultiAutoComplete_list{\nposition:relative;\noverflow:hidden;\n}\n.xMultiAutoComplete_list input{\nmargin-top:2px;\nmin-width:40px;\nvertical-align:middle !important;\nwidth:40px;\n}\n",24),this.macro_startLooping()}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_writeSkinClass:function(info){try{with(this){var skinClassName=info.skinClassName,skinClass=info.skinClass;this.__$write("\n\n.xMultiAutoComplete_",40),this.__$write(skinClassName,41),this.__$write("_options{\ndisplay:inline-block;\nposition:relative;\nborder: ",41),this.__$write(skinClass.optionsBorderWidth,44),this.__$write("px solid ",44),this.__$write(skinClass.optionsBorderColor,44),this.__$write(";\nbackground-color: ",44),this.__$write(skinClass.optionsBackgroundColor,45),this.__$write(";\ncolor:",45),this.__$write(skinClass.optionsColor,46),this.__$write(";\nborder-radius:3px;\nmargin:2px;\n}\n.xMultiAutoComplete_",46),this.__$write(skinClassName,50),this.__$write("_options .closeBtn{\nheight:",50),this.__$write(skinClass.closeSpriteHeight,51),this.__$write("px;\nwidth:",51),this.__$write(skinClass.closeSpriteWidth,52),this.__$write("px;\ndisplay:inline-block;\npadding-left:2px;\ncursor:pointer;\n",52),this.macro_background(skinClass.optionsBackgroundColor,skinClass.closeSpriteURL,"no-repeat -5px -25px"),this.__$write("\n}\n\n.xMultiAutoComplete_",57),this.__$write(skinClassName,59),this.__$write("_options span.xMultiAutoComplete_Option_Text{\noutline: none;\nmargin:2px 5px;\ndisplay:inline-block;\ncursor:pointer;\n}\n.xMultiAutoComplete_",59),this.__$write(skinClassName,65),this.__$write("_options span.ellipsisClass{\nwhite-space:nowrap;\noverflow:hidden;\ntext-overflow:ellipsis;\nvertical-align:middle;\nline-height:18px;\n}\n.xMultiAutoComplete_",65),this.__$write(skinClassName,72),this.__$write("_options .closeBtn:hover{\nbackground-position: -5px -5px;\n}\n.xMultiAutoComplete_",72),this.__$write(skinClassName,75),this.__$write("_options.highlight{\nborder: ",75),this.__$write(skinClass.optionsHighlightBorderWidth,76),this.__$write("px solid ",76),this.__$write(skinClass.optionsHighlightBorderColor,76),this.__$write(";\nbackground-color: ",76),this.__$write(skinClass.optionsHighlightBackgroundColor,77),this.__$write(";\ncolor:",77),this.__$write(skinClass.optionsHighlightColor,78),this.__$write(";\n}\n\n.xMultiAutoComplete_",78),this.__$write(skinClassName,81),this.__$write("_options.highlight .closeBtn{\n",81),this.macro_background(skinClass.optionsHighlightBackgroundColor,skinClass.closeHighlightSpriteURL,"no-repeat -5px -5px"),this.__$write("\n}\n\n.xMultiAutoComplete_",83),this.__$write(skinClassName,85),this.__$write("_options.highlight .closeBtn:hover{\nbackground-position: -5px -25px;\n}\n.xMultiAutoComplete_",85),this.__$write(skinClassName,88),this.__$write("_options span.xMultiAutoComplete_Option_Text{\nmargin:2px 5px;\ndisplay:inline-block;\ncursor:pointer;\n}\n.xMultiAutoComplete_",88),this.__$write(skinClassName,93),this.__$write("_options span.ellipsisClass{\nwhite-space:nowrap;\noverflow:hidden;\ntext-overflow:ellipsis;\nvertical-align:middle;\nline-height:18px;\n}\n\n",93)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeSkinClass",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$TextInputStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="MultiAutoComplete"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/MultiAutoComplete.js
//*******************
var e=require("../../Aria"),t=require("../controllers/MultiAutoCompleteController"),i=require("../../utils/Dom"),r=require("../../utils/Type"),s=require("../../utils/String"),a=require("../../utils/Caret"),n=require("./MultiAutoCompleteStyle.tpl.css"),o=require("./list/ListStyle.tpl.css"),l=require("../container/DivStyle.tpl.css"),c=require("./AutoComplete"),h=require("../../utils/Json"),u=require("../../core/Browser"),d=require("../../core/Timer");module.exports=e.classDefinition({$classpath:"aria.widgets.form.MultiAutoComplete",$extends:c,$css:[n,o,l],$constructor:function(e,i,r,s){var a=s||new t;this.$AutoComplete.constructor.call(this,e,i,r,a),e.expandButton||(this._hideIconNames=["dropdown"]),a.maxOptions=e.maxOptions,this._freePopupWidth=!0},$statics:{WIDGET_MULTIAUTOCOMPLETE_INVALID_HANDLER:"%1Could not create resources handler %2: dependency on this handler is missing.",INDEX_OUT_OF_BOUNDS:"%1Given index to highlight option is out of bounds [1, %2]: %3"},$prototype:{_skinnableClass:"MultiAutoComplete",_initInputMarkup:function(){this.$AutoComplete._initInputMarkup.apply(this,arguments),this._textInputField=this._frame.getChild(0).lastChild},_computeInputWidth:function(){},_inputWithFrameMarkup:function(e){e.write('<div class="xMultiAutoComplete_list">'),this.$AutoComplete._inputWithFrameMarkup.call(this,e),e.write("</div>")},_reactToControllerReport:function(e,t){e&&e.ok===!1&&(e.errorValue=this.controller.selectedSuggestions);var i=!1;e&&e.repositionDropDown&&(i=!0,e.repositionDropDown=!1),this.$AutoComplete._reactToControllerReport.call(this,e,t),e&&this._updateMultiselectValues(e),i&&this._dropdownPopup&&(this._closeDropdown(),this._openDropdown())},_renderDropdownContent:function(t,i){i=i||{};var r=this.controller.getDataModel();i.bind={selectedValues:{to:"selectedValues",inside:r},multipleSelect:{to:"multipleSelect",inside:r}},this.controller._isExpanded&&(i.preselect="none",i.defaultTemplate=this.controller.getExpandoTemplate(),i.maxOptions=this.controller.maxOptions?this.__returnMaxCount():null,i.onchange={fn:this._changeOnItem,scope:this},i.onclick=e.empty),i.minWidth=0,this.$AutoComplete._renderDropdownContent.call(this,t,i)},_getPopupLeftOffset:function(){return this.controller._isExpanded?0:this._textInputField.offsetLeft},_dom_onclick:function(e){this.$AutoComplete._dom_onclick.call(this,e);var t=e.target;if("closeBtn"===t.className&&(this._removeMultiselectValue(t,e),this._textInputField.focus()),-1!=t.className.indexOf("xMultiAutoComplete_Option_Text")){var i=this.getHighlight(),r=this._getIndexFromNode(t.parentNode);this.controller.freeText&&h.equals(i,[r])?this._editMultiselectValue(t):this.highlightOption(r)}this.__resizeInput()},_getIndexFromNode:function(e){for(var t=1;null!=(e=e.previousSibling);)t++;return t},__resizeInput:function(){var e=this._skinObj,t=this._frame,i=this._textInputField;if(i){var r=t.innerWidth-e.innerPaddingLeft-e.innerPaddingRight,s=i.offsetLeft;i.style.width=r-s-4+"px"}},initWidget:function(){this.$AutoComplete.initWidget.call(this);var e=this._cfg;if(e.value){var t=this.controller.checkValue(e.value);this._reactToControllerReport(t)}},_updateMultiselectValues:function(e){var t=this._textInputField,r=t.parentNode;if(e.clearSuggestions)for(this._makeInputFieldLastChild();r.firstChild!=t;)r.removeChild(r.firstChild);var s=e.suggestionsToAdd;if(s&&s.length>0){for(var a=[],n=0,o=s.length;o>n;n++)a.push(this._generateSuggestionMarkup(s[n]));i.insertAdjacentHTML(t,"beforeBegin",a.join("")),this.__createEllipsis(t),this._makeInputFieldLastChild(),t.style.width="0px",this.__resizeInput()}},_generateSuggestionMarkup:function(e){var t=this._cfg,i=s.escapeHTML(e.label||e);return'<div class="xMultiAutoComplete_'+t.sclass+'_options"><span class="xMultiAutoComplete_Option_Text">'+i+'</span><span class="closeBtn"></span></div>'},__createEllipsis:function(e){var t=e.previousSibling,i=t.offsetWidth,r=this._frame.innerWidth;if(i>=r-10){t.firstChild.className+=" ellipsisClass";var s=r-t.offsetLeft-2*(t.firstChild.offsetLeft+t.lastChild.offsetWidth);t.firstChild.style.maxWidth=s+"px"}},_dom_ondblclick:function(e){if("dblclick"==e.type&&this.controller.freeText){var t=e.target;-1!=t.className.indexOf("xMultiAutoComplete_Option_Text")&&this._editMultiselectValue(t,e)}},_dom_onblur:function(t){var r=this.getTextInputField(),s=t.target;s===r?null!=r.nextSibling&&""===r.value&&this._makeInputFieldLastChild():-1!=s.parentNode.className.indexOf("highlight")&&this.unhighlightOption(s.parentNode),this.$TextInput._dom_onblur.call(this,t,!0),this._cfg.onblur&&d.addCallback({fn:function(){var t=i.isAncestor,r=e.$window.document.activeElement;!this._cfg||null!=r&&(null!=this._dropdownPopup&&t(r,this._dropdownPopup.domElement)||t(r,this._domElt))||this.evalCallback(this._cfg.onblur)},scope:this,delay:100})},_dom_onfocus:function(e){var t=this._hasFocus||this._keepFocus;this.$TextInput._dom_onfocus.call(this,e,!0),this._cfg.onfocus&&!t&&this.evalCallback(this._cfg.onfocus)},_makeInputFieldLastChild:function(){var e=this._textInputField,t=e.parentNode;t.lastChild!==e&&(t.removeChild(e),t.appendChild(e),e.style.width="0px",this.__resizeInput())},_dom_onkeydown:function(e){var t=i,r=this.getTextInputField(),n=r.value,o=""===s.trim(n);switch(e.keyCode){case e.KC_ARROW_LEFT:if(this.hasInsertedOptions()){if(this.isInputFieldFocused()){var l=a.getPosition(r);if(0===l.start&&0===l.end){e.preventDefault(),this._closeDropdown(),this.highlightOption(this.insertedOptionsCount());break}}if(this.isInHighlightedMode()){e.preventDefault(),this.__navigateLeftInHighlightedMode();break}}break;case e.KC_ARROW_RIGHT:this.isInHighlightedMode()&&(e.preventDefault(),this.__navigateRightInHighlightedMode());break;case e.KC_TAB:this.isInputFieldFocused()&&o&&null!=r.nextSibling&&(e.preventDefault(),this._makeInputFieldLastChild(),this.setHelpText(!1),r.focus());break;case e.KC_BACKSPACE:if(o){var c=this.getHighlightedOptionIndex(),h=this.getHighlightedOption();if(h){var u=h.textContent||h.innerText;t.removeElement(h);var d=c-1;d>=1?this.highlightOption(d):this.insertedOptionsCount()>0?this.highlightOption(1):this._enterInputField(),this._removeValue(u)}else{var p=t.getPreviousSiblingElement(r);if(p){var _=p.firstChild.textContent||p.firstChild.innerText;t.removeElement(p),this._removeValue(_)}}e.preventDefault()}break;case e.KC_DELETE:if(o){var c=this.getHighlightedOptionIndex(),h=this.getHighlightedOption();if(h){var u=h.textContent||h.innerText;t.removeElement(h),c<=this.insertedOptionsCount()?this.highlightOption(c):this._enterInputField(),this._removeValue(u)}}}this.isInputFieldFocused()&&this.$AutoComplete._dom_onkeydown.call(this,e)},_dom_onkeypress:function(e){this.isInputFieldFocused()&&this.$AutoComplete._dom_onkeypress.call(this,e)},_removeMultiselectValue:function(e,t,r){var s=r?e:e.parentNode,a=i,n=s.firstChild.textContent||s.firstChild.innerText;a.removeElement(s),this._removeValue(n),t&&"click"==t.type&&this.getTextInputField().focus()},_editMultiselectValue:function(e){var t,r=i;t=e.textContent||e.innerText,r.replaceDomElement(e.parentNode,this._textInputField);var s=this._removeValue(t),a=s.removedSuggestion,n=s.removedSuggestionIndex;if(this._keepFocus=!0,this._textInputField.focus(),a){var o=this.controller.editValue(a,n);this._reactToControllerReport(o)}this._restoreKeepFocus()},_restoreKeepFocus:u.isIE?function(){var e=this;e._keepFocus=!0,setTimeout(function(){e._keepFocus=!1},1)}:function(){this._keepFocus=!1},_removeValue:function(e){var t=this.controller.removeValue(e),i=t.removedSuggestion,r=t.removedSuggestionIndex;return this._reactToControllerReport(t),this._textInputField.style.width="0px",this.__resizeInput(),{removedSuggestion:i,removedSuggestionIndex:r}},getValidationPopupReference:function(){return this.getTextInputField()},removeHighlight:function(e){null==e?e=this.getHighlight():r.isArray(e)||(e=[e]);for(var t=this._getSuggestionsContainer(),i=0;i<e.length;i++){var s=t.children[e[i]-1];s&&this.unhighlightOption(s)}},_removeClass:function(e,t){var i=new aria.utils.ClassList(e);i.remove(t),i.$dispose()},unhighlightOption:function(t){null==t&&(t=e.$window.document.activeElement,-1===t.className.indexOf("highlight")&&(t=this._getSuggestionsContainer().children[this.getHighlightedOptionIndex()-1])),null!=t&&(this._removeClass(t,"highlight"),t.firstChild.removeAttribute("tabindex"))},_getSuggestionsContainer:function(){return this.getTextInputField().parentNode},addHighlight:function(e){r.isArray(e)||(e=[e]);for(var t,i=this._getSuggestionsContainer(),s=0;s<e.length;s++){var a=i.children[e[s]-1];a&&(t=a,this._addClass(a,"highlight"))}null!=t&&(t.firstChild.setAttribute("tabindex",0),t.firstChild.focus())},_addClass:function(e,t){var i=new aria.utils.ClassList(e);i.add(t),i.$dispose()},highlightOption:function(e){var t=this.insertedOptionsCount();if(1>e||e>t)return void this.$logError(this.INDEX_OUT_OF_BOUNDS,[t,e]);this.removeHighlight();var i=this._getSuggestionsContainer().children[e-1];this._addClass(i,"highlight"),i.firstChild.setAttribute("tabindex",0),i.firstChild.focus()},getHighlight:function(){for(var e=this._textInputField.parentNode,t=[],i=0;i<e.children.length-1;i++){var r=e.children[i],s=new aria.utils.ClassList(r);s.contains("highlight")&&t.push(i+1),s.$dispose()}return t},getHighlightedOptionIndex:function(){return this.getHighlight()[0]},getHighlightedOption:function(){return this._getSuggestionsContainer().children[this.getHighlightedOptionIndex()-1]},isInHighlightedMode:function(){return this.getHighlight().length>0},__returnMaxCount:function(){var e=0,t=this.controller.selectedSuggestions;if(t.length<this.controller.maxOptions)return this.controller.maxOptions;for(var i=0,s=t.length;s>i;i++)r.isObject(t[i])&&e++;return e},_changeOnItem:function(e){var t=this.controller.checkExpandedValues(e);this._reactToControllerReport(t)},isInputFieldFocused:function(){return e.$window.document.activeElement===this.getTextInputField()},_enterInputField:function(){var e=this.getTextInputField();e.focus(),a.setPosition(e,0,0)},insertedOptionsCount:function(){var e=this._getSuggestionsContainer().children.length-1;return 0>e&&(e=0),e},hasInsertedOptions:function(){return this.insertedOptionsCount()>0},__navigateLeftInHighlightedMode:function(){var e=this.getHighlight(),t=e[0],i=t-1;i>=1&&this.highlightOption(i)},__navigateRightInHighlightedMode:function(){var e=this.getHighlight(),t=e[e.length-1],i=this.insertedOptionsCount(),r=t+1;i>=r?this.highlightOption(r):(this.removeHighlight(),this._enterInputField())}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/MultiSelectStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.MultiSelectStyle",$extends:"aria.widgets.form.TextInputStyle",$extendsType:"CSS",$constructor:function(){this.$TextInputStyle.constructor.call(this)},$destructor:function(){this.$TextInputStyle.$destructor.call(this)},$prototype:{__$initTemplate:function(){if(!this.$TextInputStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="MultiSelect"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/NumberField.js
//*******************
var e=require("../../Aria"),t=require("../controllers/NumberController"),i=require("./TextInput");module.exports=e.classDefinition({$classpath:"aria.widgets.form.NumberField",$extends:i,$constructor:function(e,i,r){var s=new t;e.pattern&&s.setPattern(e.pattern),this.$TextInput.constructor.call(this,e,i,r,s)}});
//*******************
//LOGICAL-PATH:aria/widgets/form/RadioButtonStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.RadioButtonStyle",$extends:"aria.widgets.form.CheckBoxStyle",$extendsType:"CSS",$constructor:function(){this.$CheckBoxStyle.constructor.call(this)},$destructor:function(){this.$CheckBoxStyle.$destructor.call(this)},$prototype:{__$initTemplate:function(){if(!this.$CheckBoxStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="RadioButton"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/RadioButton.js
//*******************
var e=require("../../Aria"),t=require("../../utils/IdManager"),i=require("../../utils/Array"),r=require("./RadioButtonStyle.tpl.css"),s=require("./CheckBox");!function(){var a=null;module.exports=e.classDefinition({$classpath:"aria.widgets.form.RadioButton",$extends:s,$css:[r],$constructor:function(){this.$CheckBox.constructor.apply(this,arguments),this._skinObj.simpleHTML&&(a||(a=new t("radio")),this._inputName=a.getId()),this._cfg.disabled||this._instances.push(this)},$destructor:function(){i.remove(this._instances,this),this._inputName&&(a.releaseId(this._inputName),this._inputName=null),this.$CheckBox.$destructor.call(this)},$onunload:function(){a&&(a.$dispose(),a=null),this._instances=null},$prototype:{_skinnableClass:"RadioButton",_instances:[],_setInputType:function(){this._cfg._inputType="radio"},_isChecked:function(){return this.getProperty("value")===this._cfg.keyValue},_onBoundPropertyChange:function(){this.$CheckBox._onBoundPropertyChange.apply(this,arguments)},_dom_onmousedown:function(){this._focus()},_dom_onmouseup:function(){this._setRadioValue(),this._focus()},_dom_onkeydown:function(e){e.keyCode==aria.DomEvent.KC_SPACE?(this._setRadioValue(),e.preventDefault(!0)):e.keyCode==aria.DomEvent.KC_LEFT?(this._navigate(-1),e.preventDefault(!0)):e.keyCode==aria.DomEvent.KC_RIGHT?(this._navigate(1),e.preventDefault(!0)):e.keyCode==aria.DomEvent.KC_DOWN?(this._navigate(1),e.preventDefault(!0)):e.keyCode==aria.DomEvent.KC_UP&&(this._navigate(-1),e.preventDefault(!0))},_navigate:function(e){if(this._cfg&&this._cfg.bind&&this._cfg.bind.value)for(var t,r,s,a=this._cfg.bind.value,n=i.indexOf(this._instances,this),o=this._instances.length;(n>0||o>n)&&(n+=e,!(0>n||n>=o));)if(r=this._instances[n],t=r._cfg.bind,t&&(s=t.value,s&&a.inside===s.inside&&a.to===s.to)){r._setRadioValue(),r._focus();break}},_setRadioValue:function(){var e=this._cfg.keyValue;this._cfg.value=e,this.setProperty("value",e),this._setState(),this._updateDomForState(),this._cfg.onchange&&this.evalCallback(this._cfg.onchange)}}})}();
//*******************
//LOGICAL-PATH:aria/widgets/form/SelectStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.SelectStyle",$extends:"aria.widgets.form.InputStyle",$extendsType:"CSS",$constructor:function(){this.$InputStyle.constructor.call(this)},$destructor:function(){this.$InputStyle.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n.xSelect {\ndisplay:inline-block;\nwhite-space:nowrap;\n}\n",25),this.macro_startLooping()}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},__$initTemplate:function(){if(!this.$InputStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Select",this.useFrame=!0}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/Select.js
//*******************
var e=require("../../Aria"),t=require("./DropDownListTrait"),i=require("../../utils/String"),r=require("../controllers/SelectController"),s=require("../../utils/Dom"),a=require("./SelectStyle.tpl.css"),n=require("./list/ListStyle.tpl.css"),o=require("../container/DivStyle.tpl.css"),l=require("./DropDownInput"),c=require("../../core/Browser");module.exports=e.classDefinition({$classpath:"aria.widgets.form.Select",$extends:l,$css:[a,n,o],$constructor:function(e,t,i){this.$DropDownInput.constructor.call(this,e,t,i);var s=this._skinObj;if(s.simpleHTML)s.iconsRight=[];else{var a=new r;this.controller=a,a.setListOptions(e.options)}this._minInputMarkupWidth=8,this._defaultInputMarkupWidth=170,this._customTabIndexProvided=!0,this._selectField=null,this._freePopupWidth=!1},$destructor:function(){this.$DropDownInput.$destructor.call(this),this._selectField=null},$statics:{WIDGET_OPTIONS_INVALID_VALUE:"%1Bound value stored in the data model is not a valid option value for the select widget."},$prototype:{_skinnableClass:"Select",$init:function(e){var i=t.prototype;for(var r in i)i.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=i[r])},_checkCfgConsistency:function(){this.$DropDownInput._checkCfgConsistency.call(this),this._checkValue()},focus:function(){var e=this.getSelectField();e.focus()},_reactToControllerReport:function(e,t){if(e){var r=e.text,s=e.value,a=t?t.stopValueProp:!1;if(null!=r){var n=this.getSelectField();n.innerHTML=i.escapeHTML(r)+"&nbsp;"}var o=e.displayDropDown;"undefined"!=typeof s&&a!==!0&&this._updateValue(!0),this._cfg&&(o!==!0||this._dropdownPopup?o===!1&&this._dropdownPopup&&this._closeDropdown():this._openDropdown()),e.$dispose()}},_checkValue:function(){if(this._cfg.options.length)if("undefined"!=typeof this._cfg.value){for(var e=0;e<this._cfg.options.length;e++)if(this._cfg.options[e].value===this._cfg.value)return;this.$logError(this.WIDGET_OPTIONS_INVALID_VALUE)}else this.setProperty("value",this._cfg.options[0].value)},_setState:function(){if(this._cfg.disabled)this._state="disabled";else if(this._cfg.readOnly)this._state="readOnly";else{var e;e=this._cfg.mandatory?"mandatory":"normal",(this._cfg.formatError||this._cfg.error)&&(e+="Error"),(this._hasFocus||this._keepFocus)&&(e+="Focused"),this._state=e}},_dom_onblur:function(){if(this._hasFocus=!1,this._updateState(),this._cfg.formatError&&"onBlur"===this._cfg.validationEvent)this._validationPopupShow();else if(this._validationPopupHide(),this._cfg.directOnBlurValidation&&this._cfg.bind){var e=this._cfg.bind.value;if(e){var t=e.inside,i=e.to,r=this._cfg.validationGroups;aria.utils.Data.validateValue(t,i,null,r,"onblur")}}this._updateValue(!0)},_dom_onfocus:function(){this._hasFocus=!0,this._cfg&&"onFocus"===this._cfg.validationEvent&&(this._cfg.formatError&&this._cfg.formatErrorMessages.length||this._cfg.error&&this._cfg.errorMessages.length)&&this._validationPopupShow(),this._updateState()},_dom_onmousedown:function(e){var t=e.target,i=this._getInputMarkupDomElt();this.controller&&s.isAncestor(t,i)&&(this._toggleDropdown(),e.preventDefault())},_dom_onclick:function(){this._updateValue(!1)},_dom_onchange:function(){this._updateValue(!1)},_dom_onkeypress:function(e){var t=aria.DomEvent;e.keyCode===t.KC_ENTER&&this._updateValue(!1),this.$DropDownInput._dom_onkeypress.call(this,e)},_getPopupIgnoreClicksOnDomElts:function(){var e=this.$DropDownInput._getPopupIgnoreClicksOnDomElts.call(this);return e.push(this._getInputMarkupDomElt()),e},_updateValue:function(e){var t=null;if(this._skinObj.simpleHTML)t=this.setProperty("value",this.getSelectField().value);else if(e){var i=this.controller,r=i.getDataModel();t=this.setProperty("value",r.value)}this._cfg&&null!=t&&(this.changeProperty("error",!1),(!this._cfg.formatError||!this._cfg.formatErrorMessages.length||this._cfg.error&&this._cfg.errorMessages.length)&&this._validationPopupHide(),this._cfg.onchange&&this.evalCallback(this._cfg.onchange))},_initInputMarkup:function(e){this.$InputWithFrame._initInputMarkup.call(this,e),this._selectField=this._frame.getChild(0)},_inputWithFrameMarkup:function(t){var r=this._cfg,s=this._frame.innerWidth,a=r.disabled||r.readOnly,n=a?"":' tabindex="'+this._calculateTabIndex()+'"';if(this._skinObj.simpleHTML){for(var o=i,l=r.options,c=r.value,h=["<select",e.testMode?' id="'+this._domId+'_input"':"",s>0?' style="width: '+s+'px;" ':"",n,a?' disabled="disabled"':"",' _ariaInput="1">'],u=0,d=l.length;d>u;u++){var p=""+l[u].value;h.push('<option value="',o.encodeForQuotedHTMLAttribute(p),'"',p==c?' selected="selected"':"",">",o.escapeHTML(l[u].label),"</option>")}h.push("</select>"),t.write(h.join(""))}else{var _=this.controller.checkValue(r.value),g=_.text;_.$dispose(),t.write(["<span",e.testMode?' id="'+this._domId+'_input"':"",' class="xSelect" style="',s>0?"width:"+s+"px;":"",'"',n,' _ariaInput="1">',i.escapeHTML(g),"&nbsp;</span>"].join(""))}},_onBoundPropertyChange:function(t,r){if("value"===t)if(this._checkValue(),this.controller){var s=this.controller.checkValue(r);this._reactToControllerReport(s,{stopValueProp:!0})}else this._selectValue(r);else if("mandatory"===t)this._updateState();else if("readOnly"===t||"disabled"===t){var a=this.getSelectField(),n=this.getProperty("disabled")||this.getProperty("readOnly");this._skinObj.simpleHTML&&(a.disabled=n?"disabled":"");var o=n?-1:this._calculateTabIndex();a.tabIndex=o,this._updateState()}else if("options"===t)if(this.controller){var l=this.controller.getDataModel().value;this.controller.setListOptions(r);var s=this.controller.checkValue(l);this._reactToControllerReport(s,{stopValueProp:!1})}else{for(var h=[],u=i,d=0,p=r.length;p>d;d++){var _=""+r[d].value;h.push('<option value="',u.encodeForQuotedHTMLAttribute(_),'">',u.escapeHTML(r[d].label),"</option>")}var a=this.getSelectField(),g=a.value,f=h.join("");if(c.isIE9||c.isIE8||c.isIE7){a.innerHTML="";var m=e.$window.document.createElement("div");m.innerHTML="<select>"+f+"</select>";for(var y=0,$=m.children[0].children;y<$.length;y++)a.appendChild($[y])}else a.innerHTML=f;this._selectValue(g)}else"formatError"===t||"formatErrorMessages"===t||"error"===t||"errorMessages"===t?(this._cfg[t]=r,this._updateState()):this.$DropDownInput._onBoundPropertyChange.apply(this,arguments)},_selectValue:function(e){for(var t=this.getSelectField(),i=t.options,r=0;r<i.length;r++){var s=i[r];if(s.value===e){s.selected=!0;break}}},getSelectField:function(){return this._selectField||this._initDone||this.getDom(),this._selectField},getTextInputField:function(){return this.getSelectField()}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/SelectBoxStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.SelectBoxStyle",$extends:"aria.widgets.form.TextInputStyle",$extendsType:"CSS",$constructor:function(){this.$TextInputStyle.constructor.call(this)},$destructor:function(){this.$TextInputStyle.$destructor.call(this)},$prototype:{__$initTemplate:function(){if(!this.$TextInputStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="SelectBox"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/SelectBox.js
//*******************
var e=require("../../Aria"),t=require("./DropDownListTrait"),i=require("../controllers/SelectBoxController"),r=require("./SelectBoxStyle.tpl.css"),s=require("./list/ListStyle.tpl.css"),a=require("../container/DivStyle.tpl.css"),n=require("./DropDownTextInput");module.exports=e.classDefinition({$classpath:"aria.widgets.form.SelectBox",$extends:n,$css:[r,s,a],$statics:{WIDGET_VALUE_IS_WRONG_TYPE:"%1Value '%2' is invalid. Note that SelectBox's value must be present in its options array. When changing both `value` and `options` via aria.utils.Json.setValue, change the options array first.",DUPLICATE_VALUE:"%1 - Duplicate values %2 found in options"},$constructor:function(e,t,r){var s=new i;this.$DropDownTextInput.constructor.call(this,e,t,r,s),this.controller.setListOptions(this._cfg.options),this._freePopupWidth=!1},$prototype:{_skinnableClass:"SelectBox",$init:function(e){var i=t.prototype;for(var r in i)i.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=i[r])},_checkCfgConsistency:function(){this.$DropDownTextInput._checkCfgConsistency.call(this);for(var e=this._cfg.options,t=[],i=[],r={},s=0;s<e.length;s++)r[e[s].value]?i.push(e[s].value):(r[e[s].value]=!0,t.push(e[s]));i.length>0&&(this.controller.setListOptions(t),this.$logError(this.DUPLICATE_VALUE,[i]))},_onBoundPropertyChange:function(e,t,i){if("options"===e){this.controller.setListOptions(t);var r=this.controller.checkValue(null);this._reactToControllerReport(r,{stopValueProp:!0})}else aria.widgets.form.SelectBox.superclass._onBoundPropertyChange.call(this,e,t,i)}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/TextField.js
//*******************
var e=require("../../Aria"),t=require("../controllers/TextDataController"),i=require("./TextInput");module.exports=e.classDefinition({$classpath:"aria.widgets.form.TextField",$extends:i,$constructor:function(e,i,r){var s=new t;this.$TextInput.constructor.call(this,e,i,r,s)},$prototype:{_isPropertyEquals:function(e,t){var i=this.getProperty(e)||"";return i===(t||"")}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/TextareaStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.form.TextareaStyle",$extends:"aria.widgets.form.TextInputStyle",$extendsType:"CSS",$constructor:function(){this.$TextInputStyle.constructor.call(this)},$destructor:function(){this.$TextInputStyle.$destructor.call(this)},$prototype:{__$initTemplate:function(){if(!this.$TextInputStyle.__$initTemplate.call(this))return!1;try{with(this)this.skinnableClassName="Textarea"}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/form/Textarea.js
//*******************
var e=require("../../Aria"),t=require("../controllers/TextDataController"),i=require("./TextareaStyle.tpl.css"),r=require("./TextInput");module.exports=e.classDefinition({$classpath:"aria.widgets.form.Textarea",$extends:r,$css:[i],$statics:{LABEL_HEIGHT:13},$constructor:function(e,i,r){var s=new t;this.$TextInput.constructor.call(this,e,i,r,s),this._isTextarea=!0,e.labelHeight=e.labelHeight>-1?e.labelHeight:this.LABEL_HEIGHT,this.cfg=e},$prototype:{_skinnableClass:"Textarea",_dom_onkeydown:function(){var e=this.cfg.maxlength;if(e>-1){var t=this.getTextInputField(),i=this.getCaretPosition(),r=t.value,s=this;setTimeout(function(){var a=t.value;if(a.length>e){var n=i.start,o=i.end,l=a.substr(n,e-r.length+o-n);t.value=r.substr(0,n)+l+r.substr(o);var c=n+l.length;s.setCaretPosition(c,c)}},25)}}}});
//*******************
//LOGICAL-PATH:aria/widgets/AriaLib.js
//*******************
var e=require("../Aria"),t=require("../widgetLibs/WidgetLib");module.exports=e.classDefinition({$classpath:"aria.widgets.AriaLib",$singleton:!0,$extends:t,$prototype:{widgets:{Fieldset:"aria.widgets.container.Fieldset",Button:"aria.widgets.action.Button",IconButton:"aria.widgets.action.IconButton",Tooltip:"aria.widgets.container.Tooltip",Text:"aria.widgets.Text",Calendar:"aria.widgets.calendar.Calendar",RangeCalendar:"aria.widgets.calendar.RangeCalendar",Dialog:"aria.widgets.container.Dialog",Link:"aria.widgets.action.Link",Div:"aria.widgets.container.Div",TextField:"aria.widgets.form.TextField",Textarea:"aria.widgets.form.Textarea",Splitter:"aria.widgets.container.Splitter",Tab:"aria.widgets.container.Tab",TabPanel:"aria.widgets.container.TabPanel",PasswordField:"aria.widgets.form.PasswordField",DateField:"aria.widgets.form.DateField",DatePicker:"aria.widgets.form.DatePicker",MultiSelect:"aria.widgets.form.MultiSelect",TimeField:"aria.widgets.form.TimeField",NumberField:"aria.widgets.form.NumberField",AutoComplete:"aria.widgets.form.AutoComplete",CheckBox:"aria.widgets.form.CheckBox",RadioButton:"aria.widgets.form.RadioButton",Icon:"aria.widgets.Icon",SelectBox:"aria.widgets.form.SelectBox",Select:"aria.widgets.form.Select",SortIndicator:"aria.widgets.action.SortIndicator",Template:"aria.widgets.Template",List:"aria.widgets.form.list.List",Gauge:"aria.widgets.form.Gauge",ErrorList:"aria.widgets.errorlist.ErrorList",MultiAutoComplete:"aria.widgets.form.MultiAutoComplete"}}});
//*******************
//LOGICAL-PATH:aria/widgets/Text.js
//*******************
var e=require("../Aria"),t=require("../utils/Ellipsis"),i=require("../utils/Dom"),r=require("../utils/String"),s=require("./Widget"),a=require("../utils/Type");module.exports=e.classDefinition({$classpath:"aria.widgets.Text",$extends:s,$constructor:function(e){this.$Widget.constructor.apply(this,arguments),a.isString(e.ellipsis)&&(this._activateEllipsis=!0,this._directInit=!0),this._defaultMargin=0},$destructor:function(){this.textContent=null,this._ellipsis&&(this._ellipsis.$dispose(),this._ellipsis=null),this._hasMouseOver=null,this._hasFocus=null,this.$Widget.$destructor.call(this)},$prototype:{_activateEllipsis:!1,_hasMouseOver:!1,_hasFocus:!1,_widgetMarkup:function(e){var t=this._cfg.text;t=null!==t?""+t:"",this.textContent=t,e.write('<span class="createdEllipisElement">'+r.escapeHTML(this.textContent)+"</span>")},_init:function(){this._activateEllipsis===!0&&this.__ellipseText(this._cfg.text)},__ellipseText:function(e){e=null!==e?""+e:"";var s=this.getDom();if(s){var a=r;this.textContent=e,s.style.display="inline-block",s.style.overflow="hidden",s.style.whiteSpace="nowrap",s.style.verticalAlign="top";var n,o=i.getDomElementChild(s,0);o||(s.innerHTML='<span class="createdEllipisElement">'+a.escapeHTML(this.textContent)+"</span>",o=i.getDomElementChild(s,0)),this._cfg.width>0&&(n=this._cfg.width,s.style.width=this._cfg.width+"px",this._ellipsis=new t(o,n,this._cfg.ellipsisLocation,this._cfg.ellipsis,this._context,this._cfg.ellipsisEndStyle),this._ellipsis.ellipsesNeeded||(s.removeChild(o),s.innerHTML=a.escapeHTML(e)))}},_onBoundPropertyChange:function(e,t){var i=this.getDom();"text"==e&&null!==t&&(this._activateEllipsis?(i.innerHTML="",this.__ellipseText(t)):(t=""+t,i.getElementsByTagName("span")[0].innerHTML=r.escapeHTML(t),this.textContent=t))},_dom_onmouseover:function(e){this.$Widget._dom_onmouseover.call(this,e),this._ellipsis&&this._ellipsis.ellipsesNeeded&&(this._hasMouseOver=!0,this._ellipsis.displayFullText({left:0,top:0}))},_dom_onmouseout:function(e){this.$Widget._dom_onmouseout.call(this,e),this._ellipsis&&this._ellipsis.ellipsesNeeded&&this._hasFocus===!1&&this._hasMouseOver===!0&&(this._hasMouseOver=!1,this._ellipsis._hideFullText(e.relatedTarget))}}});
//*******************
//LOGICAL-PATH:aria/widgets/TextStyle.cml
//*******************
Aria.classDefinition({$classpath:"aria.widgets.TextStyle",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$prototype:{macro_writeFontStyleInner:function(font){try{with(this)font.size&&(this.__$write("\nfont-size: ",23),this.__$write(font.size,23),this.__$write("px;\n",23)),font.family&&(this.__$write("\nfont-family: ",26),this.__$write(font.family,26),this.__$write(";\n",26))}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeFontStyleInner",this["aria:currentLineNumber"]],_ex)}},macro_writeAnchorsStyle:function(states,prefix){try{with(this)prefix=prefix||"",this.__$write(prefix,32),this.__$write(" a {\n",32),this.macro_writeAnchorState(states.normal),this.__$write("\n}\n",34),this.__$write(prefix,35),this.__$write(" a:link {\n",35),this.macro_writeAnchorState(states.link),this.__$write("\n}\n",37),this.__$write(prefix,38),this.__$write(" a:visited {\n",38),this.macro_writeAnchorState(states.visited),this.__$write("\n}\n",40),this.__$write(prefix,41),this.__$write(" a:hover {\n",41),this.macro_writeAnchorState(states.hover),this.__$write("\n}\n",43),this.__$write(prefix,44),this.__$write(" a:focus {\n",44),this.macro_writeAnchorState(states.focus),this.__$write("\n}\n",46)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeAnchorsStyle",this["aria:currentLineNumber"]],_ex)}},macro_writeAnchorState:function(state){try{with(this)state&&(state.color&&(this.__$write("\ncolor: ",52),this.__$write(state.color,52),this.__$write(";\n",52)),state.text.decoration&&(this.__$write("\ntext-decoration: ",55),this.__$write(state.text.decoration,55),this.__$write(";\n",55)),state.outline&&(this.__$write("\noutline: ",58),this.__$write(state.outline,58),this.__$write(";\n",58)))}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeAnchorState",this["aria:currentLineNumber"]],_ex)}},$init:function(e){e.__$csslibs={},e.__$prefix=!0},__$initTemplate:function(){return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/WidgetStyle.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.widgets.WidgetStyle",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this),this.$WidgetStyleScript.constructor.call(this)},$destructor:function(){this.$WidgetStyleScript.$destructor.call(this),this.$CSSTemplate.$destructor.call(this)},$dependencies:["aria.utils.Type","aria.widgets.AriaSkinInterface","aria.widgets.WidgetStyleScript","aria.core.TplClassLoader"],$prototype:{macro_main:function(){try{with(this)this.macro_startLooping()}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",this["aria:currentLineNumber"]],_ex)}},macro_startLooping:function(){try{with(this){var skinClasses=aria.widgets.AriaSkinInterface.getSkinClasses(skinnableClassName),__v_1=skinClasses;void 0==skinClasses&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",32]);var skinClass_ct=0;for(var skinClass_index in __v_1)if(__v_1.hasOwnProperty(skinClass_index)&&!this.$json.isMetadata(skinClass_index)){var skinClass=__v_1[skinClass_index];skinClass_ct++;var info={skinClassName:skinClass_index,skinClass:skinClass};this.macro_writeSkinClass(info),this.macro_writeAllStates(info)}}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["startLooping",this["aria:currentLineNumber"]],_ex)}},macro_writeAllStates:function(info){try{with(this){var states=aria.widgets.AriaSkinInterface.getWidgetStates(skinnableClassName);if(states){var __v_2=states;void 0==states&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",45]);var state_ct=0;for(var state_index in __v_2)if(__v_2.hasOwnProperty(state_index)&&!this.$json.isMetadata(state_index)){{__v_2[state_index]}state_ct++;var info={skinClassName:info.skinClassName,skinClass:info.skinClass,stateName:state_index,state:info.skinClass.states[state_index]};useFrame&&this.macro_writeStateOfFrame(info),this.macro_writeState(info)}}}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeAllStates",this["aria:currentLineNumber"]],_ex)}},macro_writeSkinClass:function(info){try{with(this);}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeSkinClass",this["aria:currentLineNumber"]],_ex)}},macro_writeState:function(info){try{with(this);}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeState",this["aria:currentLineNumber"]],_ex)}},macro_background:function(color,imageurl,otherparams){try{with(this)void 0===color&&(color=""),void 0===imageurl&&(imageurl=""),void 0===otherparams&&(otherparams=""),this.__$write(aria.widgets.AriaSkinInterface.backgroundMacro(color,imageurl,otherparams),72)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["background",this["aria:currentLineNumber"]],_ex)}},macro_opacity:function(percent){try{with(this)this.__$write("\nfilter: alpha(opacity=",76),this.__$write(percent,76),this.__$write(");\n-moz-opacity: ",76),this.__$write(percent/100,77),this.__$write(";\nopacity: ",77),this.__$write(percent/100,78),this.__$write(";\n",78)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["opacity",this["aria:currentLineNumber"]],_ex)}},macro_writeStateOfFixedHeightFrame:function(info){try{with(this){var state=info.state.frame,fontStyle=state.font,sprWidth=state.sprWidth,sprHeight=state.sprHeight,sprIndex=state.sprIdx,sprSpacing=state.sprSpacing,refTop=(sprHeight+sprSpacing)*sprIndex,spcLeft=state.spcLeft,spcRight=sprWidth-spcLeft,prefix=cssPrefix(info),verticalAlignApplied=state.verticalAlign&&state.innerHeight;this.__$write("\n.",95),this.__$write(prefix,95),this.__$write("bkgA {\n",95),this.macro_background("transparent",state.spriteURL,"no-repeat scroll 0 0"),this.__$write("\nfont-size:1px;\n}\n.",97),this.__$write(prefix,99),this.__$write("bkgB {\n",99),this.macro_background("transparent",state.spriteURLv,"repeat-x 0 0"),this.__$write("\n}\n.",101),this.__$write(prefix,102),this.__$write("w {\nheight:",102),this.__$write(sprHeight,103),this.__$write("px;\n}\n.",103),this.__$write(prefix,105),this.__$write("c {\nmargin: ",105),this.__$write(state.marginTop,106),this.__$write("px ",106),this.__$write(state.marginRight,106),this.__$write("px ",106),this.__$write(state.marginBottom,106),this.__$write("px ",106),this.__$write(state.marginLeft,106),this.__$write("px;\ncolor: ",106),this.__$write(state.color,107),this.__$write(";\n",107),verticalAlignApplied&&(this.__$write("\nvertical-align: ",109),this.__$write(state.verticalAlign,109),this.__$write(";\nline-height: ",109),this.__$write(state.innerHeight+(aria.utils.Type.isNumber(state.innerHeight)?"px":""),110),this.__$write(";\n",110)),this.__$write("\n}\n",112),fontStyle&&this.macro_formElementsFontStyle(prefix+"c",fontStyle),1!=state.skipLeftBorder&&(this.__$write("\n.",117),this.__$write(prefix,117),this.__$write("b {width:",117),this.__$write(spcLeft,117),this.__$write("px; height:",117),this.__$write(sprHeight,117),this.__$write("px; background-position:0 ",117),this.__$write(-refTop,117),this.__$write("px;\n",117),verticalAlignApplied&&(this.__$write("\nline-height:",119),this.__$write(sprHeight,119),this.__$write("px;\n",119)),this.__$write("\n}\n",121)),this.__$write("\n.",123),this.__$write(prefix,123),this.__$write("m {height:",123),this.__$write(sprHeight,123),this.__$write("px; background-position:0 ",123),this.__$write(-refTop,123),this.__$write("px;\n",123),verticalAlignApplied&&(this.__$write("\nline-height:",125),this.__$write(sprHeight,125),this.__$write("px;\n",125)),this.__$write("\n}\n",127),1!=state.skipRightBorder&&(this.__$write("\n.",129),this.__$write(prefix,129),this.__$write("e {width:",129),this.__$write(spcRight,129),this.__$write("px; height:",129),this.__$write(sprHeight,129),this.__$write("px; background-position: ",129),this.__$write(-spcLeft,129),this.__$write("px ",129),this.__$write(-refTop,129),this.__$write("px;\n",129),verticalAlignApplied&&(this.__$write("\nline-height:",131),this.__$write(sprHeight,131),this.__$write("px;\n",131)),this.__$write("\n}\n",133)),this.__$write("\n.xWidget.xFullWidth .",135),this.__$write(prefix,135),this.__$write("m {\nposition: absolute;\ntop: 0px;\nbottom: 0px;\nleft: ",135),this.__$write(spcLeft,139),this.__$write("px;\nright: ",139),this.__$write(spcRight,140),this.__$write("px;\n}\n\n.xWidget.xFullWidth .",140),this.__$write(prefix,143),this.__$write("e {\nposition: absolute;\nright: 0px;\n}\n",143)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeStateOfFixedHeightFrame",this["aria:currentLineNumber"]],_ex)}},macro_writeStateOfSimpleFrame:function(info){try{with(this){var state=info.state.frame,fontStyle=state.font,padTop=state.paddingTop,prefix=cssPrefix(info);this.__$write("\n.",154),this.__$write(prefix,154),this.__$write("frame  {\n",154),state.frameHeight&&(this.__$write("\nheight: ",156),this.__$write(state.frameHeight,156),this.__$write("px;\n",156)),this.__$write("\nborder-top: ",158),this.__$write(null!=state.borderTop?state.borderTop:state.borderSize,158),this.__$write("px ",158),this.__$write(state.border,158),this.__$write(" ",158),this.__$write(state.borderColor,158),this.__$write(";\nborder-bottom: ",158),this.__$write(null!=state.borderBottom?state.borderBottom:state.borderSize,159),this.__$write("px ",159),this.__$write(state.border,159),this.__$write(" ",159),this.__$write(state.borderColor,159),this.__$write(";\nborder-left: ",159),this.__$write(null!=state.borderLeft?state.borderLeft:state.borderSize,160),this.__$write("px ",160),this.__$write(state.border,160),this.__$write(" ",160),this.__$write(state.borderColor,160),this.__$write(";\nborder-right: ",160),this.__$write(null!=state.borderRight?state.borderRight:state.borderSize,161),this.__$write("px ",161),this.__$write(state.border,161),this.__$write(" ",161),this.__$write(state.borderColor,161),this.__$write(";\nmargin-top: ",161),this.__$write(state.marginTop,162),this.__$write("px;\nmargin-bottom: ",162),this.__$write(state.marginBottom,163),this.__$write("px;\nmargin-left: ",163),this.__$write(state.marginLeft,164),this.__$write("px;\nmargin-right: ",164),this.__$write(state.marginRight,165),this.__$write("px;\n",165),state.fontWeight&&(this.__$write("\nfont-weight: ",167),this.__$write(state.fontWeight,167),this.__$write(";\n",167)),this.macro_writeBorderRadius(state),state.boxShadow&&(this.__$write("\nbox-shadow: ",173),this.__$write(state.boxShadow,173),this.__$write(";\n",173)),this.__$write("\npadding: ",175),this.__$write(state.paddingTop,175),this.__$write("px ",175),this.__$write(state.paddingRight,175),this.__$write("px ",175),this.__$write(state.paddingBottom,175),this.__$write("px ",175),this.__$write(state.paddingLeft,175),this.__$write("px;\n",175),padTop>1&&(this.__$write("\n*padding-top: ",177),this.__$write(padTop-1,177),this.__$write("px;\n",177)),this.__$write("\nbackground-color: ",179),this.__$write(state.backgroundColor,179),this.__$write(";\ncolor: ",179),this.__$write(state.color,180),this.__$write(";\nvertical-align: top;\n}\n",180),fontStyle&&this.macro_formElementsFontStyle(prefix+"frame",fontStyle)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeStateOfSimpleFrame",this["aria:currentLineNumber"]],_ex)}},macro_writeBorderRadius:function(state){try{with(this)this.__$write("\nborder-top-right-radius: ",189),this.__$write(state.borderTopRightRadius,189),this.__$write("px;\nborder-top-left-radius: ",189),this.__$write(state.borderTopLeftRadius,190),this.__$write("px;\nborder-bottom-right-radius: ",190),this.__$write(state.borderBottomRightRadius,191),this.__$write("px;\nborder-bottom-left-radius: ",191),this.__$write(state.borderBottomLeftRadius,192),this.__$write("px;\n",192)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeBorderRadius",this["aria:currentLineNumber"]],_ex)}},macro_writeStateOfTableFrame:function(info){try{with(this){var state=info.state.frame,fontStyle=state.font,sprWidth=state.sprWidth,sprHeight=state.sprHeight,sprIndex=state.sprIdx,sprSpacing=state.sprSpacing,refTop=(sprHeight+sprSpacing)*sprIndex,refLeft=(sprWidth+sprSpacing)*sprIndex,spcLeft=state.spcLeft,spcTop=state.spcTop,spcRight=sprWidth-spcLeft,spcBottom=sprHeight-spcTop,prefix=cssPrefix(info);this.__$write("\n\n.",209),this.__$write(prefix,210),this.__$write("bkgA {\n",210),this.macro_background("transparent",state.spriteURL,"no-repeat scroll 0 0"),this.__$write("\nfont-size:1px;\n}\n.",212),this.__$write(prefix,214),this.__$write("bkgB {\n",214),this.macro_background("transparent",state.spriteURLv,"repeat-x 0 0"),this.__$write("\nfont-size:1px;\n}\n.",216),this.__$write(prefix,218),this.__$write("bkgC {\n",218),this.macro_background("transparent",state.spriteURLh,"repeat-y 0 0"),this.__$write("\nfont-size:1px;\n}\n.",220),this.__$write(prefix,222),this.__$write("c {\nmargin: ",222),this.__$write(state.marginTop,223),this.__$write("px ",223),this.__$write(state.marginRight,223),this.__$write("px ",223),this.__$write(state.marginBottom,223),this.__$write("px ",223),this.__$write(state.marginLeft,223),this.__$write("px;\ncolor: ",223),this.__$write(state.color,224),this.__$write(";\n}\n",224),fontStyle&&this.macro_formElementsFontStyle(prefix+"c",fontStyle),this.__$write("\n.",229),this.__$write(prefix,229),this.__$write("m {\nbackground-color: ",229),this.__$write(state.backgroundColor,230),this.__$write(";\n}\n.",230),this.__$write(prefix,232),this.__$write("tlc {width:",232),this.__$write(spcLeft,232),this.__$write("px; height:",232),this.__$write(spcTop,232),this.__$write("px; background-position:0 ",232),this.__$write(-refTop,232),this.__$write("px;}\n.",232),this.__$write(prefix,233),this.__$write("ts {height:",233),this.__$write(spcTop,233),this.__$write("px; background-position:0 ",233),this.__$write(-refTop,233),this.__$write("px; }\n.",233),this.__$write(prefix,234),this.__$write("trc {width:",234),this.__$write(spcRight,234),this.__$write("px; height:",234),this.__$write(spcTop,234),this.__$write("px; background-position: ",234),this.__$write(-spcLeft,234),this.__$write("px ",234),this.__$write(-refTop,234),this.__$write("px;}\n.",234),this.__$write(prefix,235),this.__$write("rs {width:",235),this.__$write(spcRight,235),this.__$write("px; background-position:",235),this.__$write(-refLeft-spcLeft,235),this.__$write("px 0;}\n.",235),this.__$write(prefix,236),this.__$write("brc {width:",236),this.__$write(spcRight,236),this.__$write("px; height:",236),this.__$write(spcBottom,236),this.__$write("px; background-position: ",236),this.__$write(-spcLeft,236),this.__$write("px ",236),this.__$write(-refTop-spcTop,236),this.__$write("px;}\n.",236),this.__$write(prefix,237),this.__$write("bs {height: ",237),this.__$write(spcBottom,237),this.__$write("px; background-position:0 ",237),this.__$write(-refTop-spcTop,237),this.__$write("px;}\n.",237),this.__$write(prefix,238),this.__$write("blc {width:",238),this.__$write(spcLeft,238),this.__$write("px; height:",238),this.__$write(spcBottom,238),this.__$write("px; background-position: 0 ",238),this.__$write(-refTop-spcTop,238),this.__$write("px;}\n.",238),this.__$write(prefix,239),this.__$write("ls {width: ",239),this.__$write(spcLeft,239),this.__$write("px; background-position:",239),this.__$write(-refLeft,239),this.__$write("px 0;}\n.",239),this.__$write(prefix,240),this.__$write("frameIcon {\ndisplay: block;\nheight:",240),this.__$write(state.frameHeight,242),this.__$write("px;\n",242),this.macro_background("",state.frameIcon,"no-repeat "+state.frameIconHPos),this.__$write("\n}\n",244)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["writeStateOfTableFrame",this["aria:currentLineNumber"]],_ex)}},macro_formElementsFontStyle:function(className,fontStyle){try{with(this)this.__$write("\n.",247),this.__$write(className,247),this.__$write(", .",247),this.__$write(className,247),this.__$write(" input, .",247),this.__$write(className,247),this.__$write(" textarea{\n",247),this.macro_generateFontStyle(fontStyle),this.__$write("\n}\n",249)}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["formElementsFontStyle",this["aria:currentLineNumber"]],_ex)}},macro_generateFontStyle:function(fontStyleObj){try{with(this)fontStyleObj.fontStyle&&(this.__$write("\nfont-style: ",253),this.__$write(fontStyleObj.fontStyle,253),this.__$write(";\n",253)),fontStyleObj.fontVariant&&(this.__$write("\nfont-variant: ",256),this.__$write(fontStyleObj.fontVariant,256),this.__$write(";\n",256)),fontStyleObj.fontSize&&(this.__$write("\nfont-size: ",259),this.__$write(fontStyleObj.fontSize,259),this.__$write("px;\n",259)),fontStyleObj.fontWeight&&(this.__$write("\nfont-weight: ",262),this.__$write(fontStyleObj.fontWeight,262),this.__$write(";\n",262)),fontStyleObj.fontFamily&&(this.__$write("\nfont-family: ",265),this.__$write(fontStyleObj.fontFamily,265),this.__$write(";\n",265))}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["generateFontStyle",this["aria:currentLineNumber"]],_ex)}},$init:function(e){e.__$csslibs={},e.__$prefix=!0,aria.core.TplClassLoader._importScriptPrototype(aria.widgets.WidgetStyleScript,e)},__$initTemplate:function(){try{with(this)this.skinnableClassName="Widget",this.useFrame=!1}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});
//*******************
//LOGICAL-PATH:aria/widgets/WidgetStyleScript.js
//*******************
var e=require("../Aria");module.exports=e.tplScriptDefinition({$classpath:"aria.widgets.WidgetStyleScript",$prototype:{macro_writeStateOfFrame:function(e){var t=this["macro_writeStateOf"+e.skinClass.frame.frameType+"Frame"];t&&t.call(this,e)},cssPrefix:function(e){return"x"+this.skinnableClassName+"_"+e.skinClassName+"_"+e.stateName+"_"}}});
//*******************
//LOGICAL-PATH:aria/widgets/WidgetsRes.js
//*******************
Aria.resourcesDefinition({$classpath:"aria.widgets.WidgetsRes",$resources:{errors:{"40006_WIDGET_NUMBERFIELD_VALIDATION":"Number field must be a numerical value.","40007_WIDGET_TIMEFIELD_VALIDATION":"Please enter a valid time format, for example: 1000 or 10:00","40008_WIDGET_DATEFIELD_VALIDATION":"Please enter a valid date format, for example: 10/12 or 01MAR or +4","40018_WIDGET_DATEFIELD_MINVALUE":"Date is before the minimum date.","40019_WIDGET_DATEFIELD_MAXVALUE":"Date is after the maximum date.","40020_WIDGET_AUTOCOMPLETE_VALIDATION":"There is no suggestion available for the given entry.","":""}}});
//*******************
//LOGICAL-PATH:aria/utils/environment/NumberCfgBeans.js
//*******************
var e=require("../../Aria"),t=require("../../core/JsonTypes"),i=require("../../core/environment/EnvironmentBaseCfgBeans");module.exports=e.beanDefinitions({$package:"aria.utils.environment.NumberCfgBeans",$namespaces:{json:t,environmentBase:i},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{decimalFormatSymbols:{$type:"DecimalFormatSymbols",$default:{}},currencyFormats:{$type:"CurrencyFormatsCfg",$default:{}}}},DecimalFormatSymbols:{$type:"json:Object",$properties:{decimalSeparator:{$type:"json:String",$default:"."},groupingSeparator:{$type:"json:String",$default:","},strictGrouping:{$type:"json:Boolean",$default:!1}}},CurrencyFormatsCfg:{$type:"json:Object",$properties:{currencyFormat:{$type:"environmentBase:FormatTypes",$default:"#.######"},currencySymbol:{$type:"environmentBase:FormatTypes",$default:"USD"}}}}});
//*******************
//LOGICAL-PATH:aria/utils/environment/Number.js
//*******************
var e=require("../../Aria");require("./NumberCfgBeans");var t=require("../../core/environment/EnvironmentBase");module.exports=e.classDefinition({$classpath:"aria.utils.environment.Number",$extends:t,$singleton:!0,$prototype:{_cfgPackage:"aria.utils.environment.NumberCfgBeans.AppCfg",getCurrencyFormats:function(){return this.checkApplicationSettings("currencyFormats")},getDecimalFormatSymbols:function(){return this.checkApplicationSettings("decimalFormatSymbols")}}});
//*******************
//LOGICAL-PATH:aria/resources/handlers/IResourcesHandler.js
//*******************
var e=require("../../Aria");module.exports=e.interfaceDefinition({$classpath:"aria.resources.handlers.IResourcesHandler",$interface:{getSuggestions:{$type:"Function"},getDefaultTemplate:{$type:"Function"},suggestionToLabel:{$type:"Function"},getAllSuggestions:{$type:"Function"}}});
//*******************
//LOGICAL-PATH:aria/resources/handlers/LCResourcesHandlerBean.js
//*******************
var e=require("../../Aria"),t=require("../../widgets/form/AutoCompleteBean"),i=require("../../core/JsonTypes");module.exports=e.beanDefinitions({$package:"aria.resources.handlers.LCResourcesHandlerBean",$namespaces:{base:t,json:i},$beans:{Suggestion:{$type:"base:Suggestion",$restricted:!1,$properties:{label:{$type:"json:String",$sample:"Paris",$mandatory:!0},code:{$type:"json:String",$sample:"PAR"}}},Configuration:{$type:"json:Object",$restricted:!1,$properties:{labelKey:{$type:"json:String",$sample:"myLabel",$default:"label"},codeKey:{$type:"json:String",$sample:"myCode",$default:"code"},sortingMethod:{$type:"json:FunctionRef"},codeExactMatch:{$type:"json:Boolean",$default:!1},labelMatchAtWordBoundaries:{$type:"json:Boolean",$default:!1},threshold:{$type:"json:Integer",$default:1}}}}});
//*******************
//LOGICAL-PATH:aria/resources/handlers/LCRangeResourceHandlerBean.js
//*******************
var e=require("../../Aria"),t=require("./LCResourcesHandlerBean"),i=require("../../core/JsonTypes");module.exports=e.beanDefinitions({$package:"aria.resources.handlers.LCRangeResourceHandlerBean",$namespaces:{base:t,json:i},$beans:{Configuration:{$type:"base:Configuration",$restricted:!1,$properties:{allowRangeValues:{$type:"json:Boolean",$default:!1}}}}});
//*******************
//LOGICAL-PATH:aria/resources/handlers/LCResourcesHandler.js
//*******************
var e=require("../../Aria"),t=require("./IResourcesHandler"),i=require("../../utils/String");require("./LCResourcesHandlerBean");var r=require("../../utils/Type"),s=require("../../core/JsonValidator");!function(){var a,n,o;module.exports=e.classDefinition({$classpath:"aria.resources.handlers.LCResourcesHandler",$implements:[t],$statics:{SUGGESTION_BEAN:"aria.resources.handlers.LCResourcesHandlerBean.Suggestion",CONFIGURATION_BEAN:"aria.resources.handlers.LCResourcesHandlerBean.Configuration",INVALID_CONFIG:"Invalid handler configuration in : %1.",INVALD_SUGGESTION_TYPE:"Suggestions must be an array.",INVALID_SUGGESTIONS:"Suggestions does not match suggestion bean aria.resources.handlers.LCResourcesHandleBean.Suggestions",INVALID_KEYCODE:"Suggestions does not match labelKey or codeKey"},$constructor:function(e){if(this.threshold=1,this.codeExactMatch=!0,this.boundaryRegex=/\s+/g,this._labelMatchAtWordBoundaries=!1,this.__islabelCode=!1,this._suggestions=[],this._options={labelKey:"label",codeKey:"code"},e){if(!a.check(e,this.CONFIGURATION_BEAN))return void this.$logError(this.INVALID_CONFIG,[this.$classpath]);this.codeExactMatch=e.codeExactMatch?!0:e.codeExactMatch,this.threshold=e.threshold||1,this._labelMatchAtWordBoundaries=!!e.labelMatchAtWordBoundaries,this._options.labelKey=e.labelKey||"label",this._options.codeKey=e.codeKey||"code",this._options.sortingMethod=e.sortingMethod,this.__islabelCode="label"===this._options.labelKey&&"code"===this._options.codeKey}},$destructor:function(){this._suggestions=null},$onload:function(){a=s,n=i,o=r},$onunload:function(){a=null,n=null,o=null},$prototype:{getSuggestions:function(e,t){if(o.isString(e)&&e.length>=this.threshold){e=n.stripAccents(e).toLowerCase();var i,r,s=[],a=[],l=[],c=this._suggestions.length,h=e.length,u=this._labelMatchAtWordBoundaries;for(i=0;c>i;i++)if(r=this._suggestions[i],r.code===e)r.original.exactMatch=!0,s.unshift(r.original);else if(r.code.substring(0,h)!==e||this.codeExactMatch){for(var d,p=u?r.wordBoundaries:[0],_=0,g=p.length;g>_;_++)if(d=p[_],r.label.substring(d,d+h)===e){var f=r.label===e,m=0===d,y=m?a:l;r.original.multiWordMatch=!m,r.original.exactMatch=f,f?y.unshift(r.original):y.push(r.original);break}}else s.push(r.original),r.original.exactMatch=!1;var $=s.concat(a).concat(l);this.$callback(t,$)}else this.$callback(t,null)},getDefaultTemplate:function(){return"aria.widgets.form.list.templates.LCTemplate"},setSuggestions:function(e){if(!o.isArray(e))return this.$logError(this.INVALD_SUGGESTION_TYPE,null,e);var t=[],i=this._options.labelKey,r=this._options.codeKey;e.sort(this._options.sortingMethod&&o.isFunction(this._options.sortingMethod)?this._options.sortingMethod:function(e,t){return e[i]<t[i]?1:e[i]>t[i]?-1:0});for(var s=0,l=e.length;l>s;s++){var c=e[s],h={};if(this.__islabelCode&&!a.check(c,this.SUGGESTION_BEAN))return this.$logError(this.INVALID_SUGGESTIONS,null,e);if(!c.hasOwnProperty(i)||!c.hasOwnProperty(r))return this.$logError(this.INVALID_KEYCODE,null,e);h.label=c[i],h.code=c[r];var u={label:n.stripAccents(h.label).toLowerCase(),code:n.stripAccents(h.code).toLowerCase(),original:h};this._labelMatchAtWordBoundaries&&(u.wordBoundaries=this.__getWordBoundaries(u.label)),t.push(u)}this._suggestions=t},setThreshold:function(e){this.threshold=e},suggestionToLabel:function(e){return e.label},getAllSuggestions:function(e){for(var t,i=this._suggestions,r=i.length,s=[],a=0;r>a;a++)t=i[a],s.push(t.original);this.$callback(e,s)},__getWordBoundaries:function(e){for(var t=this.boundaryRegex,i=[0];null!==t.exec(e);)i.push(t.lastIndex);return t.lastIndex=0,i}}})}();
//*******************
//LOGICAL-PATH:aria/resources/handlers/LCRangeResourceHandler.js
//*******************
var e=require("../../Aria");require("./LCRangeResourceHandlerBean");var t=require("../../utils/String"),i=require("./LCResourcesHandler"),r=require("../../utils/Type");!function(){var s,a;module.exports=e.classDefinition({$classpath:"aria.resources.handlers.LCRangeResourceHandler",$extends:i,$statics:{CONFIGURATION_BEAN:"aria.resources.handlers.LCRangeResourceHandlerBean.Configuration"},$constructor:function(e){this.$LCResourcesHandler.constructor.call(this,e),e&&(this.allowRangeValues=e.allowRangeValues||!1)},$onload:function(){s=t,a=r},$onunload:function(){s=null,a=null},$prototype:{rangePattern:{pattern1:/^[a-z]{1}\d+-\d*$/,pattern2:/^[a-z]{1}\d+,\d*/},getSuggestions:function(e,t){if(!a.isString(e)||e.length<this.threshold)return void this.$callback(t,null);var e=s.stripAccents(e).toLowerCase(),i=this.rangePattern;if(this.allowRangeValues){var r=[],n=e.substring(0,1);if(i.pattern1.test(e))if("-"===e.charAt(e.length-1)){var o=e.substring(1,2);r=[o]}else for(var l=e.substring(1).split("-"),c=l[0];c<=l[1];c++)r.push(c);if(i.pattern2.test(e)&&(r=e.substring(1).split(",")),!r.length>0)return void this.__getSuggestion(e,t);for(var h={suggestions:[],multipleValues:r.length>1},u=0,d=r.length;d>u;u++){var p=n+r[u];this.$LCResourcesHandler.getSuggestions.call(this,p,{fn:this.__appendSuggestions,scope:this,args:h})}this.$callback(t,h)}else this.__getSuggestion(e,t)},__getSuggestion:function(e,t){this.$LCResourcesHandler.getSuggestions.call(this,e,t)},__appendSuggestions:function(e,t){e&&(t.suggestions=t.suggestions.concat(e))},getExpandoTemplate:function(){return"aria.widgets.form.templates.TemplateMultiAuto"}}})}();